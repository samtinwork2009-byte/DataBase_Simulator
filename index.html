<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è³‡æ–™æ•¸æ“šåº«æ¨¡æ“¬è¨“ç·´éŠæˆ²å¹³å° | Database Simulator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>
    <style>
        /* åŸºç¤é‡ç½®èˆ‡è®Šæ•¸ */
        :root {
            --primary: #0066cc;
            --primary-dark: #004d99;
            --secondary: #00a8ff;
            --accent: #00ffcc;
            --accent-glow: rgba(0, 255, 204, 0.3);
            --dark-bg: #0a0e17;
            --darker-bg: #050811;
            --card-bg: rgba(16, 22, 36, 0.9);
            --terminal-bg: #0a0f1a;
            --text-primary: #ffffff;
            --text-secondary: #a0b3d9;
            --text-muted: #5a6880;
            --border-color: rgba(0, 168, 255, 0.2);
            --success: #00cc88;
            --error: #ff3366;
            --warning: #ffcc00;
            --info: #3399ff;
            --gradient-primary: linear-gradient(135deg, var(--primary), var(--secondary));
            --gradient-accent: linear-gradient(135deg, var(--secondary), var(--accent));
            --shadow-glow: 0 0 20px rgba(0, 168, 255, 0.3);
            --shadow-strong: 0 0 30px rgba(0, 168, 255, 0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            width: 100%;
            scroll-behavior: smooth; /* å¹³æ»‘æ»¾å‹• */
        }

        body {
            font-family: 'Segoe UI', 'Roboto', 'Noto Sans', system-ui, sans-serif;
            background: var(--dark-bg);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            width: 100%;
            position: relative;
        }

        /* é˜²æ­¢å…ƒç´ æº¢å‡º */
        .container,
        .card,
        .btn,
        .modal-content,
        .sql-editor {
            box-sizing: border-box;
        }

        #output,
        .table-preview-container {
            box-sizing: border-box;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        /* ç¢ºä¿ä¸»è¦å…§å®¹å€åŸŸä¸è¶…å‡ºè¦–çª— */
        .container {
            width: 100%;
        }

        /* é˜²æ­¢æ‰€æœ‰å…ƒç´ æ°´å¹³æº¢å‡º */
        * {
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        /* å¤§éƒ¨åˆ†å…ƒç´ é™åˆ¶å¯¬åº¦ï¼Œä½†è¡¨æ ¼ç›¸é—œå…ƒç´ é™¤å¤– */
        *:not(table):not(thead):not(tbody):not(tr):not(th):not(td):not(.preview-table):not(.data-table) {
            max-width: 100%;
        }

        /* å…è¨±æŸäº›å…ƒç´ æ­£å¸¸é¡¯ç¤º */
        img, svg, video {
            max-width: 100%;
            height: auto;
        }

        /* èƒŒæ™¯ç§‘æŠ€æ•ˆæœ - æ•¸æ“šåº«ä¼ºæœå™¨é¢¨æ ¼ */
        .tech-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
            background:
                radial-gradient(ellipse at 20% 30%, rgba(0, 102, 204, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 70%, rgba(0, 168, 255, 0.1) 0%, transparent 50%),
                linear-gradient(180deg, #050811 0%, #0a0e17 50%, #0d1219 100%);
            /* å„ªåŒ–ï¼šå¼·åˆ¶ä½¿ç”¨ GPU åˆæˆå±¤ï¼Œæ¸›å°‘é‡ç¹ª */
            will-change: auto;
            transform: translateZ(0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .grid-lines {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image:
                linear-gradient(to right, rgba(0, 168, 255, 0.08) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(0, 168, 255, 0.08) 1px, transparent 1px),
                linear-gradient(to right, rgba(0, 255, 204, 0.03) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(0, 255, 204, 0.03) 1px, transparent 1px);
            background-size: 100px 100px, 100px 100px, 20px 20px, 20px 20px;
            background-position: 0 0, 0 0, 0 0, 0 0;
            /* å„ªåŒ–ï¼šé˜²æ­¢èƒŒæ™¯é–ƒçˆ */
            will-change: auto;
            transform: translateZ(0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .floating-elements {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .floating-element {
            position: absolute;
            background: rgba(0, 168, 255, 0.08);
            border-radius: 50%;
            filter: blur(30px);
            animation: float 20s infinite ease-in-out;
            /* å„ªåŒ–ï¼šä½¿ç”¨ GPU åŠ é€Ÿï¼Œæ¸›å°‘é‡ç¹ª */
            will-change: transform;
            transform: translateZ(0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        @keyframes float {
            0%, 100% {
                transform: translate3d(0, 0, 0) scale(1);
            }
            33% {
                transform: translate3d(30px, -30px, 0) scale(1.1);
            }
            66% {
                transform: translate3d(-20px, 20px, 0) scale(0.9);
            }
        }

        /* æ•¸æ“šæµæ•ˆæœ */
        .data-stream {
            position: absolute;
            width: 2px;
            height: 100px;
            background: linear-gradient(to bottom, transparent, rgba(0, 255, 204, 0.5), transparent);
            animation: stream 3s linear infinite;
            opacity: 0.3;
            /* å„ªåŒ–ï¼šä½¿ç”¨ GPU åŠ é€Ÿ */
            will-change: transform;
            transform: translateZ(0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        @keyframes stream {
            from {
                transform: translate3d(0, -100%, 0);
            }
            to {
                transform: translate3d(0, 100vh, 0);
            }
        }

        /* ä½æ€§èƒ½æ¨¡å¼ï¼šç¦ç”¨èƒŒæ™¯å‹•ç•« */
        @media (prefers-reduced-motion: reduce) {
            .floating-element,
            .data-stream {
                animation: none !important;
            }

            .floating-element {
                opacity: 0.5;
            }

            .data-stream {
                display: none;
            }
        }

        /* é‡å°ä½ç«¯è¨­å‚™å„ªåŒ– */
        body.performance-mode .floating-element,
        body.performance-mode .data-stream {
            animation: none !important;
            opacity: 0.2;
        }

        body.performance-mode .data-stream {
            display: none;
        }

        /* ä¸»å®¹å™¨ */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* æ¨™é¡Œèˆ‡æ¼¸è®Šæ–‡å­— */
        .gradient-text {
            background: var(--gradient-accent);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 700;
        }

        .gradient-text-secondary {
            background: linear-gradient(135deg, #a0b3d9, #ffffff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        h1 {
            font-size: 3.5rem;
            margin-bottom: 10px;
            letter-spacing: -0.5px;
        }

        h2 {
            font-size: 2.2rem;
            margin-bottom: 20px;
        }

        h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--text-secondary);
        }

        /* ä¸»é é¢ */
        .intro-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 80vh;
            text-align: center;
            padding: 40px 20px;
        }

        .intro-description {
            max-width: 800px;
            font-size: 1.2rem;
            line-height: 1.8;
            color: var(--text-secondary);
            margin: 30px 0 50px;
            padding: 0 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            width: 50px;
            height: 50px;
            background: var(--gradient-primary);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: var(--shadow-glow);
        }

        /* æŒ‰éˆ•æ¨£å¼ */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 14px 32px;
            background: var(--card-bg);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            position: relative;
            overflow: hidden;
            will-change: transform, box-shadow; /* æ€§èƒ½å„ªåŒ– */
            transform: translateZ(0); /* ç¡¬ä»¶åŠ é€Ÿ */
            backface-visibility: hidden; /* é˜²æ­¢é–ƒçˆ */
        }

        .btn:hover {
            background: rgba(16, 22, 36, 0.95);
            border-color: var(--secondary);
            transform: translateY(-3px) translateZ(0);
            box-shadow: var(--shadow-glow);
        }

        .btn-primary {
            background: var(--gradient-primary);
            border: none;
        }

        .btn-primary:hover {
            background: var(--gradient-primary);
            box-shadow: var(--shadow-strong);
        }

        .btn-icon {
            font-size: 1.3rem;
        }

        .btn-group {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 30px;
        }

        /* å¡ç‰‡æ¨£å¼ */
        .card {
            background: var(--card-bg);
            border-radius: 16px;
            border: 1px solid var(--border-color);
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }

        /* æ¨¡æ“¬å™¨é é¢ */
        .simulator-page {
            display: none;
            min-height: 100vh;
        }

        /* è³‡æ–™åº«æª”æ¡ˆæ¨™ç±¤é  */
        .database-tabs-container {
            background: rgba(16, 22, 36, 0.6);
            border-radius: 16px;
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid var(--border-color);
        }

        .database-tabs {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
            margin-bottom: 10px;
        }

        .database-tab {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background: rgba(0, 168, 255, 0.1);
            border: 1px solid rgba(0, 168, 255, 0.3);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            color: var(--text-secondary);
            position: relative;
        }

        .database-tab:hover {
            background: rgba(0, 168, 255, 0.15);
            border-color: var(--secondary);
            transform: translateY(-2px);
        }

        .database-tab.active {
            background: var(--gradient-primary);
            border-color: var(--secondary);
            color: var(--text-primary);
            box-shadow: 0 0 15px rgba(0, 168, 255, 0.3);
        }

        .database-tab-icon {
            font-size: 16px;
        }

        .database-tab-close {
            margin-left: 8px;
            padding: 2px 6px;
            border-radius: 4px;
            opacity: 0.7;
            transition: all 0.2s ease;
        }

        .database-tab-close:hover {
            background: rgba(255, 51, 102, 0.2);
            opacity: 1;
            color: var(--error);
        }

        .database-tab-new {
            padding: 10px 16px;
            background: rgba(0, 204, 136, 0.1);
            border: 1px dashed rgba(0, 204, 136, 0.5);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--success);
            font-size: 14px;
            font-weight: 600;
        }

        .database-tab-new:hover {
            background: rgba(0, 204, 136, 0.2);
            border-color: var(--success);
            transform: translateY(-2px);
            box-shadow: 0 0 15px rgba(0, 204, 136, 0.2);
        }

        /* æˆå°±é€šçŸ¥å‹•ç•« */
        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(400px);
                opacity: 0;
            }
        }

        .database-tabs-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            color: var(--text-muted);
            padding-top: 10px;
            border-top: 1px solid rgba(0, 168, 255, 0.1);
        }

        .simulator-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 50px;
            height: 50px;
            background: var(--gradient-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
        }

        /* æ¨¡æ“¬å™¨ä½ˆå±€ */
        .simulator-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 1024px) {
            .simulator-layout {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        /* SQLç·¨è¼¯å™¨ */
        .sql-editor-container {
            grid-column: span 1;
        }

        .sql-editor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .sql-editor {
            background: var(--terminal-bg);
            border-radius: 16px;
            padding: 20px;
            border: 1px solid var(--border-color);
        }

        .sql-input-container {
            margin-bottom: 20px;
        }

        #sqlInput {
            width: 100%;
            max-width: 100%;
            min-height: 350px;
            background: transparent;
            color: var(--text-primary);
            border: none;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            line-height: 1.6;
            resize: vertical;
            outline: none;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid rgba(0, 168, 255, 0.4);
            overflow-x: auto;
            overflow-y: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        #sqlInput:focus {
            border-color: var(--secondary);
            box-shadow: 0 0 15px rgba(0, 168, 255, 0.2);
        }

        #sqlInput.error {
            border-bottom: 3px solid var(--error) !important;
            animation: shake 0.3s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .sql-error-message {
            color: var(--error);
            font-size: 14px;
            margin-top: 10px;
            padding: 10px;
            background: rgba(255, 51, 102, 0.1);
            border-left: 3px solid var(--error);
            border-radius: 4px;
        }

        .sql-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        /* çµæœé¢æ¿ */
        .result-container {
            grid-column: span 1;
        }

        #output {
            min-height: 300px;
            max-height: 500px;
            overflow-y: auto;
            overflow-x: auto;
            background: var(--terminal-bg);
            border-radius: 16px;
            padding: 20px;
            border: 1px solid var(--border-color);
            word-wrap: break-word;
            overflow-wrap: break-word;
            -webkit-overflow-scrolling: touch;
        }

        /* è¡¨æ ¼æ¨£å¼ */
        .data-table {
            width: max-content;
            min-width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            display: block;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .data-table thead,
        .data-table tbody,
        .data-table tr {
            display: table;
            width: 100%;
            table-layout: fixed;
        }

        .data-table th {
            background: rgba(0, 102, 204, 0.2);
            padding: 12px 8px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid var(--secondary);
            color: var(--text-primary);
            word-wrap: break-word;
            overflow-wrap: break-word;
            font-size: 14px;
        }

        .data-table td {
            padding: 10px 8px;
            border-bottom: 1px solid rgba(0, 168, 255, 0.1);
            word-wrap: break-word;
            overflow-wrap: break-word;
            font-size: 14px;
        }

        .data-table tr:hover {
            background: rgba(0, 168, 255, 0.05);
        }

        /* è¡¨æ ¼é è¦½å€åŸŸ */
        .table-preview-container {
            margin-top: 30px;
            padding: 25px;
            background: rgba(0, 168, 255, 0.03);
            border-radius: 16px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .table-preview-container.has-data {
            border-color: var(--success);
            box-shadow: 0 0 20px rgba(0, 204, 136, 0.1);
        }

        .table-preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }

        .table-preview-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .table-preview-badge {
            background: var(--gradient-accent);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .table-preview-content {
            max-height: 500px;
            overflow-y: auto;
            overflow-x: auto;
            width: 100%;
            -webkit-overflow-scrolling: touch;
        }

        .table-preview-empty {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-muted);
        }

        .table-preview-empty i {
            font-size: 48px;
            opacity: 0.3;
            display: block;
            margin-bottom: 15px;
        }

        .preview-table {
            width: max-content;
            min-width: 100%;
            border-collapse: collapse;
            background: var(--terminal-bg);
            border-radius: 8px;
            overflow: visible;
        }

        .preview-table th {
            background: rgba(0, 168, 255, 0.15);
            padding: 10px 8px;
            text-align: left;
            font-weight: 600;
            font-size: 0.85rem;
            color: var(--accent);
            border-bottom: 2px solid var(--secondary);
            text-transform: uppercase;
            letter-spacing: 0.3px;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .preview-table td {
            padding: 8px;
            border-bottom: 1px solid rgba(0, 168, 255, 0.08);
            color: var(--text-secondary);
            word-wrap: break-word;
            overflow-wrap: break-word;
            font-size: 0.85rem;
        }

        .preview-table tr:hover {
            background: rgba(0, 168, 255, 0.08);
        }

        .preview-table tbody tr:last-child td {
            border-bottom: none;
        }

        .table-info-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            background: rgba(0, 204, 136, 0.15);
            color: var(--success);
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        /* è¡¨æ ¼é¡å‹åˆ‡æ›å™¨ */
        .table-type-switcher {
            margin-top: 25px;
            padding: 20px;
            background: rgba(0, 168, 255, 0.05);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .table-type-switcher:hover {
            border-color: var(--secondary);
            box-shadow: 0 0 20px rgba(0, 168, 255, 0.2);
        }

        .table-type-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        .table-type-title {
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .table-type-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 15px;
            width: 100%; /* ç¢ºä¿å®¹å™¨å¯¬åº¦ */
            min-height: auto; /* å…è¨±è‡ªå‹•é«˜åº¦ */
            max-height: none; /* ç§»é™¤é«˜åº¦é™åˆ¶ */
            overflow: visible; /* ç¢ºä¿æ‰€æœ‰å…§å®¹å¯è¦‹ */
        }

        .table-type-tab {
            padding: 8px 16px;
            background: rgba(0, 168, 255, 0.1);
            border: 1px solid rgba(0, 168, 255, 0.3);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            color: var(--text-secondary);
            display: flex !important; /* ç¢ºä¿æ‰€æœ‰æ¨™ç±¤éƒ½é¡¯ç¤º */
            align-items: center;
            gap: 6px;
            will-change: transform, box-shadow; /* æ€§èƒ½å„ªåŒ– */
            transform: translateZ(0); /* ç¡¬ä»¶åŠ é€Ÿ */
            visibility: visible !important; /* ç¢ºä¿å¯è¦‹ */
            opacity: 1 !important; /* ç¢ºä¿ä¸é€æ˜ */
        }

        .table-type-tab:hover {
            background: rgba(0, 168, 255, 0.2);
            border-color: var(--secondary);
            transform: translateY(-2px);
        }

        .table-type-tab.active {
            background: var(--gradient-primary);
            border-color: var(--secondary);
            color: var(--text-primary);
            box-shadow: 0 0 15px rgba(0, 168, 255, 0.3);
        }

        .table-type-content {
            padding: 15px;
            background: var(--terminal-bg);
            border-radius: 8px;
            min-height: 200px;
        }

        /* åˆ†å‰²å€è¡¨æ¨£å¼ */
        .partitioned-table-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .partition-block {
            padding: 15px;
            background: rgba(0, 204, 136, 0.05);
            border-left: 4px solid var(--success);
            border-radius: 8px;
        }

        .partition-header {
            font-weight: 600;
            color: var(--success);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* å¢é›†è¡¨æ¨£å¼ */
        .clustered-table {
            border: 2px solid rgba(255, 204, 0, 0.3);
        }

        .cluster-key-indicator {
            background: rgba(255, 204, 0, 0.2);
            color: var(--warning);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        /* ç´¢å¼•çµ„ç¹”è¡¨æ¨£å¼ */
        .iot-table {
            border: 2px solid rgba(51, 153, 255, 0.3);
        }

        .iot-row {
            position: relative;
        }

        .iot-row::before {
            content: 'ğŸ”‘';
            position: absolute;
            left: -25px;
            opacity: 0.5;
        }

        /* å¤–éƒ¨è¡¨æ¨£å¼ */
        .external-table-container {
            padding: 15px;
            background: rgba(255, 51, 102, 0.05);
            border: 2px dashed rgba(255, 51, 102, 0.3);
            border-radius: 8px;
        }

        .external-indicator {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 10px;
            background: rgba(255, 51, 102, 0.2);
            color: var(--error);
            border-radius: 4px;
            font-size: 0.85rem;
            margin-bottom: 10px;
        }

        /* è‡¨æ™‚è¡¨æ¨£å¼ */
        .temporary-table-container {
            padding: 15px;
            background: rgba(153, 102, 255, 0.05);
            border: 2px dashed rgba(153, 102, 255, 0.3);
            border-radius: 8px;
            position: relative;
        }

        .temp-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 4px 10px;
            background: rgba(153, 102, 255, 0.3);
            color: #9966ff;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        /* å·¢ç‹€è¡¨æ¨£å¼ */
        .nested-table-container {
            padding: 10px;
        }

        .nested-table {
            margin-left: 20px;
            border-left: 3px solid var(--accent);
            padding-left: 15px;
        }

        .nested-indicator {
            color: var(--accent);
            font-size: 0.85rem;
            margin-bottom: 8px;
        }

        /* ç‰©ä»¶è¡¨æ¨£å¼ */
        .object-table-container {
            padding: 15px;
            background: rgba(0, 255, 204, 0.05);
            border: 2px solid rgba(0, 255, 204, 0.3);
            border-radius: 8px;
        }

        .object-field {
            padding: 8px 12px;
            background: rgba(0, 255, 204, 0.1);
            margin: 5px 0;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
        }

        /* å€ã€éˆè¡¨æ¨£å¼ */
        .blockchain-table-container {
            padding: 15px;
        }

        .blockchain-block {
            padding: 15px;
            margin-bottom: 15px;
            background: rgba(0, 168, 255, 0.08);
            border: 2px solid rgba(0, 168, 255, 0.3);
            border-radius: 8px;
            position: relative;
        }

        .blockchain-block::after {
            content: 'â›“ï¸';
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.5rem;
        }

        .blockchain-hash {
            font-family: 'Courier New', monospace;
            color: var(--accent);
            font-size: 0.75rem;
            margin-top: 10px;
            word-break: break-all;
        }

        /* æ•¸æ“šæ¨¡å‹é¸æ“‡å™¨ */
        .model-selector-container {
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(0, 168, 255, 0.05);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .model-selector-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .model-selector-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .current-model-badge {
            padding: 6px 14px;
            background: var(--gradient-primary);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            box-shadow: 0 0 15px rgba(0, 168, 255, 0.3);
        }

        .quick-model-tabs {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .model-tab {
            padding: 10px 18px;
            background: rgba(0, 168, 255, 0.1);
            border: 2px solid rgba(0, 168, 255, 0.3);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95rem;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 8px;
            min-height: 44px; /* ç¢ºä¿è§¸æ§å‹å¥½çš„æœ€å°é«˜åº¦ */
            -webkit-tap-highlight-color: rgba(0, 168, 255, 0.2);
            touch-action: manipulation; /* å„ªåŒ–è§¸æ§éŸ¿æ‡‰ */
            will-change: transform, box-shadow; /* æ€§èƒ½å„ªåŒ– */
        }

        .model-tab:hover {
            background: rgba(0, 168, 255, 0.2);
            border-color: var(--secondary);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 168, 255, 0.2);
        }

        .model-tab.active {
            background: var(--gradient-primary);
            border-color: var(--secondary);
            color: var(--text-primary);
            box-shadow: 0 0 20px rgba(0, 168, 255, 0.4);
        }

        .model-icon {
            font-size: 1.2rem;
        }


        /* å®Œæ•´æ¨¡å‹é¢æ¿ - å·²åœç”¨ */
        .all-models-panel {
            display: none;
        }

        .all-models-panel.expanded {
            max-height: 2000px;
            opacity: 1;
            margin-bottom: 30px;
        }

        .models-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .model-card {
            padding: 20px;
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            -webkit-tap-highlight-color: rgba(0, 168, 255, 0.2);
            touch-action: manipulation;
            will-change: transform, box-shadow; /* æ€§èƒ½å„ªåŒ– */
        }

        .model-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient-accent);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .model-card:hover::before {
            transform: scaleX(1);
        }

        .model-card:hover {
            border-color: var(--secondary);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 168, 255, 0.2);
        }

        .model-card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .model-card-icon {
            font-size: 2rem;
        }

        .model-card-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .model-card-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 15px;
        }

        .model-card-category {
            display: inline-block;
            padding: 4px 10px;
            background: rgba(0, 168, 255, 0.15);
            color: var(--secondary);
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .model-card-btn {
            width: 100%;
            padding: 10px;
            background: var(--gradient-primary);
            border: none;
            border-radius: 8px;
            color: var(--text-primary);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            will-change: transform, box-shadow; /* æ€§èƒ½å„ªåŒ– */
            transform: translateZ(0); /* ç¡¬ä»¶åŠ é€Ÿ */
        }

        .model-card-btn:hover {
            box-shadow: 0 5px 15px rgba(0, 168, 255, 0.3);
            transform: translateY(-2px) translateZ(0);
        }

        /* å´é‚Šé¢æ¿ */
        .sidebar {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }

        /* æ¨¡æ…‹æ¡† */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(5, 8, 17, 0.9);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px); /* èƒŒæ™¯æ¨¡ç³Šæ•ˆæœ */
            -webkit-backdrop-filter: blur(5px); /* Safari æ”¯æ´ */
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 40px;
            max-width: 900px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-strong);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .close-modal {
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-size: 24px;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close-modal:hover {
            color: var(--text-primary);
        }

        /* è¡¨å–®æ¨£å¼ */
        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            margin-bottom: 10px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .form-input {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 16px;
            transition: all 0.3s;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 15px rgba(0, 168, 255, 0.2);
        }

        /* èªæ³•åƒè€ƒè¡¨æ ¼ */
        .syntax-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 0.95rem;
        }

        .syntax-table th, .syntax-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .syntax-table th {
            background: rgba(0, 102, 204, 0.2);
            color: var(--accent);
            font-weight: 600;
        }

        .syntax-table tr:hover {
            background: rgba(0, 168, 255, 0.05);
        }

        /* èªæ³•é›£åº¦æŒ‰éˆ• */
        .syntax-level-btn {
            padding: 10px 20px;
            background: var(--card-bg);
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
            font-weight: 600;
        }

        .syntax-level-btn.active {
            background: var(--gradient-primary);
            color: var(--text-primary);
            border-color: var(--secondary);
        }

        .syntax-level-btn:hover {
            border-color: var(--secondary);
            transform: translateY(-2px);
        }

        .syntax-level {
            display: none;
        }

        .syntax-level.active {
            display: block;
        }

        /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
        @media (max-width: 768px) {
            /* æ‰‹æ©Ÿç‰ˆæ€§èƒ½å„ªåŒ– - æ¸›å°‘å‹•ç•«å’Œéæ¸¡æ•ˆæœ */
            *, *::before, *::after {
                animation-duration: 0.1s !important;
                transition-duration: 0.1s !important;
            }

            /* ç¦ç”¨ä¸å¿…è¦çš„é™°å½±æ•ˆæœ */
            .card, .btn, .data-table {
                box-shadow: none !important;
            }

            /* ä½¿ç”¨ GPU åŠ é€Ÿçš„å±¬æ€§ */
            .table-type-tab, .btn {
                will-change: auto;
                transform: translateZ(0);
                -webkit-transform: translateZ(0);
            }

            /* æ‰‹æ©Ÿç‰ˆï¼šæ¸›å°‘èƒŒæ™¯å‹•ç•«ä»¥é˜²æ­¢é–ƒçˆ */
            .floating-element {
                opacity: 0.3 !important;
                animation-duration: 40s !important; /* æ¸›æ…¢å‹•ç•«é€Ÿåº¦ */
            }

            .data-stream {
                opacity: 0.15 !important;
                animation-duration: 6s !important; /* æ¸›æ…¢æ•¸æ“šæµé€Ÿåº¦ */
            }

            /* æ¸›å°‘æ¨¡ç³Šæ•ˆæœä»¥æå‡æ€§èƒ½ */
            .floating-element {
                filter: blur(15px) !important;
            }

            /* æ‰‹æ©Ÿç‰ˆï¼šç°¡åŒ–ç¶²æ ¼èƒŒæ™¯ä»¥æ¸›å°‘é–ƒçˆ */
            .grid-lines {
                background-image:
                    linear-gradient(to right, rgba(0, 168, 255, 0.04) 1px, transparent 1px),
                    linear-gradient(to bottom, rgba(0, 168, 255, 0.04) 1px, transparent 1px);
                background-size: 100px 100px, 100px 100px;
            }

            /* æ‰‹æ©Ÿç‰ˆï¼šæ¸›å°‘èƒŒæ™¯æ¼¸è®Šè¤‡é›œåº¦ */
            .tech-bg {
                background:
                    radial-gradient(ellipse at 50% 50%, rgba(0, 102, 204, 0.08) 0%, transparent 50%),
                    linear-gradient(180deg, #050811 0%, #0a0e17 100%);
            }

            /* åŸºæœ¬å­—é«”å¤§å°èª¿æ•´ - æ‰‹æ©Ÿç‰ˆä½¿ç”¨è¼ƒå°å­—é«”ä»¥å®¹ç´æ›´å¤šå…§å®¹ */
            body {
                font-size: 13px;
            }

            h1 {
                font-size: 1.75rem;
            }

            h2 {
                font-size: 1.3rem;
            }

            h3 {
                font-size: 1.05rem;
            }

            /* å®¹å™¨èª¿æ•´ */
            .container {
                padding: 15px;
            }

            /* å¡ç‰‡æ¨£å¼ */
            .card {
                padding: 20px;
                margin-bottom: 20px;
            }

            /* ä»‹ç´¹é é¢ */
            .intro-page {
                padding: 20px 15px;
                min-height: auto;
            }

            .intro-description {
                font-size: 0.9rem;
                line-height: 1.5;
                margin: 20px 0 30px;
                padding: 0 10px;
            }

            /* æŒ‰éˆ•çµ„ */
            .btn-group {
                flex-direction: column;
                align-items: stretch;
                gap: 12px;
            }

            .btn {
                width: 100%;
                padding: 12px 24px;
                font-size: 0.95rem;
            }

            /* æ¨¡æ“¬å™¨é é¢ */
            .database-tabs-container {
                padding: 10px;
            }

            .database-tabs {
                gap: 8px;
            }

            .database-tab {
                font-size: 12px;
                padding: 8px 12px;
            }

            .database-tab-new {
                font-size: 12px;
                padding: 8px 12px;
            }

            .database-tabs-info {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
                font-size: 11px;
            }

            .simulator-header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }

            .user-info {
                width: 100%;
                flex-wrap: wrap;
            }

            .user-info > button {
                width: 100%;
                margin-top: 10px;
            }

            /* æ•¸æ“šæ¨¡å‹é¸æ“‡å™¨ - æ‰‹æ©Ÿå„ªåŒ– */
            .model-selector-container {
                padding: 15px;
                margin-bottom: 15px;
            }

            .model-selector-header {
                flex-direction: column;
                gap: 10px;
                align-items: stretch;
            }

            .quick-model-tabs {
                grid-template-columns: repeat(3, 1fr);
                gap: 8px;
            }

            .model-tab {
                justify-content: center;
                padding: 10px 12px;
                font-size: 0.85rem;
            }

            .model-icon {
                font-size: 1.1rem;
            }

            .current-model-badge {
                font-size: 0.85rem;
                padding: 5px 12px;
            }

            /* æ¨¡å‹å¡ç‰‡ç¶²æ ¼ - æ‰‹æ©Ÿå–®åˆ— */
            .models-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .model-card {
                padding: 15px;
            }

            .model-card-icon {
                font-size: 1.8rem;
            }

            .model-card-title {
                font-size: 1rem;
            }

            .model-card-description {
                font-size: 0.85rem;
            }

            /* SQL ç·¨è¼¯å™¨ */
            .sql-editor-header {
                flex-direction: column;
                align-items: flex-start !important;
                gap: 15px;
            }

            .sql-editor {
                padding: 15px;
            }

            #sqlInput {
                min-height: 150px;
                font-size: 13px;
                padding: 12px;
            }

            .sql-actions {
                flex-direction: column;
                gap: 10px;
                width: 100%;
            }

            .sql-actions .btn {
                width: 100%;
            }

            /* è¼¸å‡ºçµæœ */
            #output {
                min-height: 200px;
                max-height: 400px;
                padding: 15px;
                font-size: 0.85rem;
            }

            /* è¡¨æ ¼æ¨£å¼ - å„ªåŒ–ä»¥åœ¨è¼ƒå°è¢å¹•ä¸Šé¡¯ç¤ºæ›´å¤šå…§å®¹ */
            .data-table {
                font-size: 0.75rem;
                display: block;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            .data-table thead,
            .data-table tbody,
            .data-table tr {
                display: table;
                width: 100%;
                table-layout: auto;
            }

            .data-table th {
                padding: 7px 5px;
                font-size: 0.7rem;
                white-space: normal;
            }

            .data-table td {
                padding: 5px 4px;
                font-size: 0.7rem;
                white-space: normal;
            }

            /* é è¦½è¡¨æ ¼ */
            .table-preview-container {
                padding: 12px;
                margin-top: 20px;
                overflow: visible;
            }

            .table-preview-content {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                max-height: 400px;
            }

            .preview-table {
                font-size: 0.75rem;
                width: max-content !important;
            }

            .preview-table th {
                padding: 8px 6px;
                font-size: 0.7rem;
                white-space: nowrap;
                min-width: 80px !important;
            }

            .preview-table td {
                padding: 6px 4px;
                font-size: 0.7rem;
                white-space: nowrap;
            }

            /* è¡¨æ ¼é¡å‹æ¨™ç±¤ - æ‰‹æ©Ÿç‰ˆå„ªåŒ–é¡¯ç¤º */
            .table-type-tabs {
                gap: 6px;
                justify-content: flex-start;
            }

            .table-type-tab {
                padding: 6px 10px;
                font-size: 0.75rem;
                flex-shrink: 0;
                min-width: auto;
            }

            .table-type-tab span {
                display: inline;
            }

            .table-type-tab i {
                font-size: 0.85rem;
                margin-right: 4px;
            }

            /* ç¢ºä¿è¡¨æ ¼é¡å‹åˆ‡æ›å™¨å¯è¦‹ */
            .table-type-switcher {
                margin-top: 15px;
                padding: 12px;
            }

            .table-type-title {
                font-size: 0.9rem;
                margin-bottom: 10px;
            }

            /* è¡¨æ ¼è³‡è¨Šå¾½ç«  - æ‰‹æ©Ÿç‰ˆèª¿æ•´ */
            .table-info-badge {
                font-size: 0.7rem;
                padding: 4px 8px;
                margin: 4px 0;
                display: inline-flex;
            }

            /* æ¨¡æ…‹æ¡† */
            .modal-content {
                padding: 20px;
                margin: 10px;
                width: calc(100% - 20px) !important;
                max-width: calc(100vw - 20px);
                max-height: calc(100vh - 20px);
                overflow-y: auto;
            }

            .modal-header {
                flex-direction: row;
                gap: 10px;
            }

            .modal-header h2,
            .modal-header h3 {
                font-size: 1.2rem;
            }

            .close-modal {
                font-size: 28px;
                flex-shrink: 0;
            }

            .syntax-table {
                font-size: 0.8rem;
            }

            .syntax-table th, .syntax-table td {
                padding: 8px 6px;
            }

            /* è¨“ç·´æ¨¡å¼å¡ç‰‡ */
            .mode-card {
                padding: 20px;
            }

            .mode-card h3 {
                font-size: 1.2rem;
            }

            .mode-card p {
                font-size: 0.9rem;
            }

            /* ç·´ç¿’é¡Œç›® */
            #exerciseCard {
                padding: 15px;
            }

            #exerciseCard h3 {
                font-size: 1.1rem;
            }

            #exerciseCard .btn {
                width: 100%;
            }

            .exercise-card {
                padding: 15px;
            }

            .exercise-card h4 {
                font-size: 1rem;
            }

            .exercise-card p,
            .exercise-card li {
                font-size: 0.85rem;
            }

            /* æˆå°±å¾½ç«  */
            .achievement-badge {
                font-size: 0.85rem;
                padding: 8px 12px;
            }

            /* ç‹€æ…‹æŒ‡ç¤ºå™¨ */
            .status-indicator {
                font-size: 0.8rem;
                padding: 6px 12px;
            }

            /* Logo */
            .logo {
                gap: 10px;
            }

            .logo-icon {
                width: 40px;
                height: 40px;
                font-size: 20px;
            }

            /* å´é‚Šæ¬„æŒ‰éˆ• */
            .sidebar .btn {
                font-size: 0.9rem;
                padding: 12px 16px;
            }

            .sidebar .card {
                padding: 15px;
            }

            .sidebar .card h3 {
                font-size: 1rem;
            }

            /* ç¢ºä¿æ‰€æœ‰å…§è¯æ¨£å¼çš„æŒ‰éˆ•ä¹ŸéŸ¿æ‡‰ */
            button[style*="width: 100%"] {
                max-width: 100% !important;
            }

            /* æ¨¡å¼æŒ‰éˆ•å…§çš„æ–‡å­— */
            .sidebar .btn > div {
                font-size: 0.85rem;
            }

            .sidebar .btn > div > div:first-child {
                font-size: 0.9rem;
            }

            /* ç¢ºä¿æ²’æœ‰å…ƒç´ è¶…å‡ºå®¹å™¨ */
            .simulator-page * {
                word-wrap: break-word;
                overflow-wrap: break-word;
            }

            /* å¼·åˆ¶æ‰€æœ‰æ–‡å­—å…§å®¹æ›è¡Œ */
            p, span, div, td, th, li, label {
                word-break: break-word;
                overflow-wrap: break-word;
                hyphens: auto;
            }

            /* é˜²æ­¢ä»£ç¢¼å¡Šæº¢å‡º */
            pre, code {
                overflow-x: auto;
                word-wrap: break-word;
                white-space: pre-wrap;
            }

            /* ç¢ºä¿ä¸»é å…§å®¹ä¸æº¢å‡º */
            .intro-page * {
                max-width: 100%;
            }

            /* å¹³å°ç‰¹è‰²å¡ç‰‡ */
            .card > div[style*="grid"] {
                grid-template-columns: 1fr !important;
            }

            /* ç‰ˆæ¬Šä¿¡æ¯æ–‡å­— */
            .intro-page > div:last-child {
                overflow-wrap: break-word;
                word-break: break-word;
            }

            .intro-page > div:last-child p {
                max-width: 100%;
                overflow-wrap: break-word;
            }

            /* é‡å°å¤§å­—é«”çš„å…§è¯æ¨£å¼é€²è¡Œèª¿æ•´ */
            [style*="font-size: 1.8rem"] {
                font-size: 1.4rem !important;
            }

            [style*="font-size: 1.5rem"] {
                font-size: 1.2rem !important;
            }

            [style*="font-size: 1.2rem"],
            [style*="font-size: 1.1rem"] {
                font-size: 1rem !important;
            }

            /* èª¿æ•´ icon å¤§å° */
            .fa-database[style*="font-size: 48px"] {
                font-size: 36px !important;
            }

            .fa-lightbulb[style*="font-size: 24px"] {
                font-size: 20px !important;
            }
        }

        /* æ¥µå°å±å¹•å„ªåŒ– */
        @media (max-width: 480px) {
            /* å°è¢å¹•æ‰‹æ©Ÿ - é€²ä¸€æ­¥ç¸®å°å­—é«”ä»¥ç¢ºä¿å…§å®¹å®Œæ•´é¡¯ç¤º */
            body {
                font-size: 12px;
            }

            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1.15rem;
            }

            h3 {
                font-size: 0.95rem;
            }

            /* è¡¨æ ¼é¡å‹æ¨™ç±¤ - æ¥µå°å±å¹•é€²ä¸€æ­¥å„ªåŒ– */
            .table-type-tab {
                padding: 5px 8px;
                font-size: 0.7rem;
            }

            .table-type-tab i {
                font-size: 0.75rem;
                margin-right: 3px;
            }

            .table-type-title {
                font-size: 0.85rem;
            }

            /* æ•¸æ“šæ¨¡å‹é¸æ“‡å™¨ - æ¥µå°å±å¹• */
            .model-selector-container {
                padding: 10px;
            }

            .model-selector-title {
                font-size: 0.95rem;
            }

            .model-tab {
                padding: 8px 10px;
                font-size: 0.8rem;
            }

            .quick-model-tabs {
                grid-template-columns: repeat(3, 1fr);
            }

            .model-tab {
                flex-direction: column;
                gap: 2px;
            }

            .model-tab span:not(.model-icon) {
                font-size: 0.7rem;
                line-height: 1;
            }

            .model-icon {
                font-size: 1.2rem !important;
            }

            .model-card {
                padding: 12px;
            }

            .model-card-title {
                font-size: 0.95rem;
            }

            .model-card-description {
                font-size: 0.8rem;
                line-height: 1.4;
            }

            .model-card-btn {
                padding: 8px;
                font-size: 0.85rem;
            }

            /* æ¸›å°æ‰€æœ‰å…§é‚Šè· */
            .container {
                padding: 10px;
            }

            .card {
                padding: 15px;
                margin-bottom: 15px;
            }

            /* ä»‹ç´¹é é¢æ–‡å­— */
            .intro-description {
                font-size: 0.85rem;
                line-height: 1.5;
            }

            /* æŒ‰éˆ• */
            .btn {
                padding: 10px 14px;
                font-size: 0.85rem;
            }

            /* SQL ç·¨è¼¯å™¨ */
            #sqlInput {
                font-size: 12px;
                padding: 10px;
                min-height: 120px;
            }

            /* è¡¨æ ¼ - ä½¿ç”¨æ›´å°å­—é«”ä»¥ç¢ºä¿æ‰€æœ‰åˆ—éƒ½èƒ½é¡¯ç¤º */
            .data-table,
            .preview-table {
                font-size: 0.6rem;
            }

            .data-table th,
            .data-table td,
            .preview-table th,
            .preview-table td {
                padding: 4px 2px;
                font-size: 0.6rem;
                white-space: nowrap;
            }

            .preview-table th {
                min-width: 70px !important;
            }

            /* è¼¸å‡ºå€åŸŸ */
            #output {
                padding: 10px;
                font-size: 0.8rem;
            }

            /* è¡¨æ ¼é è¦½å®¹å™¨ */
            .table-preview-container {
                padding: 6px;
            }

            /* è¡¨æ ¼è³‡è¨Šå¾½ç«  - æ¥µå°è¢å¹• */
            .table-info-badge {
                font-size: 0.6rem;
                padding: 2px 5px;
                margin: 2px;
            }

            /* ç¢ºä¿æ‰€æœ‰æ–‡å­—å…§å®¹éƒ½èƒ½æ­£ç¢ºæ›è¡Œ */
            p, li, span, div {
                word-break: break-word;
                overflow-wrap: break-word;
            }

            /* é‡å°å…§è¯æ¨£å¼çš„å­—é«”å¤§å°è¦†è“‹ */
            .intro-content h3[style*="font-size"] {
                font-size: 1.3rem !important;
            }

            .fa-database[style*="font-size"] {
                font-size: 32px !important;
            }

            .fa-lightbulb[style*="font-size"] {
                font-size: 18px !important;
            }

            /* èª¿æ•´ select å’Œå…¶ä»–è¡¨å–®å…ƒç´ çš„å­—é«” */
            select[style*="font-size: 14px"],
            div[style*="font-size: 14px"],
            p[style*="font-size: 14px"] {
                font-size: 12px !important;
            }

            input[style*="font-size: 16px"] {
                font-size: 14px !important;
            }

            /* ç¢ºä¿æ‰€æœ‰å¡ç‰‡å…§å®¹æ­£ç¢ºç¸®æ”¾ */
            .card p,
            .card li,
            .card span:not(.fa):not(.fas) {
                font-size: 0.8rem !important;
            }

            /* èª¿æ•´æ‰€æœ‰è¼ƒå¤§çš„æ¨™é¡Œ */
            [style*="font-size: 1.8rem"] {
                font-size: 1.3rem !important;
            }

            [style*="font-size: 1.5rem"] {
                font-size: 1.1rem !important;
            }

            [style*="font-size: 1.2rem"] {
                font-size: 1rem !important;
            }

            [style*="font-size: 1.1rem"] {
                font-size: 0.95rem !important;
            }
        }

        /* ç‹€æ…‹æŒ‡ç¤ºå™¨ */
        .status-indicator {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
        }

        .status-online {
            background: rgba(0, 204, 136, 0.1);
            color: var(--success);
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--success);
            box-shadow: 0 0 8px var(--success);
        }

        /* å‹•ç•«æ•ˆæœ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(0, 168, 255, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(0, 168, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 168, 255, 0); }
        }

        .pulse {
            animation: pulse 2s infinite;
            /* å„ªåŒ–ï¼šä½¿ç”¨ GPU åŠ é€Ÿ */
            will-change: box-shadow;
            transform: translateZ(0);
        }

        /* æ‰‹æ©Ÿç‰ˆç¦ç”¨ pulse å‹•ç•«ä»¥æ¸›å°‘é–ƒçˆ */
        @media (max-width: 768px) {
            .pulse {
                animation: none !important;
            }

            /* æµç¨‹å›¾æ¨¡æ€æ¡†æ‰‹æœºç‰ˆä¼˜åŒ– */
            .flowchart-grid {
                grid-template-columns: 1fr !important;
            }

            /* æ•°æ®æ¨¡å‹ç½‘æ ¼ - æ‰‹æœºç‰ˆæ”¹ä¸º2åˆ— */
            #flowchartModal .models-grid-3col {
                grid-template-columns: repeat(2, 1fr) !important;
            }

            /* æ“ä½œæµç¨‹ç½‘æ ¼ - æ‰‹æœºç‰ˆæ”¹ä¸º1åˆ— */
            #flowchartModal .operations-grid {
                grid-template-columns: 1fr !important;
            }

            /* ç¡®ä¿æ–‡å­—ä¸è¢«è¾¹æ¡†é®ä½ */
            #flowchartModal .modal-content {
                padding: 15px !important;
                overflow-x: hidden;
            }

            #flowchartModal h3 {
                font-size: 1.2rem !important;
                word-wrap: break-word;
            }

            #flowchartModal h4 {
                font-size: 1rem !important;
                word-wrap: break-word;
            }

            #flowchartModal p,
            #flowchartModal li,
            #flowchartModal div {
                word-wrap: break-word;
                overflow-wrap: break-word;
            }
        }

        /* è‡ªå®šç¾©æ»¾å‹•æ¢ */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(16, 22, 36, 0.5);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--secondary);
        }

        /* æ¶ˆæ¯æ¨£å¼ */
        .message {
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .message-success {
            background: rgba(0, 204, 136, 0.1);
            border-left: 4px solid var(--success);
        }

        .message-error {
            background: rgba(255, 51, 102, 0.1);
            border-left: 4px solid var(--error);
        }

        .message-icon {
            font-size: 24px;
        }

        /* ä»£ç¢¼é«˜äº® */
        .code {
            font-family: 'Courier New', monospace;
            background: rgba(0, 0, 0, 0.3);
            padding: 3px 8px;
            border-radius: 4px;
            border-left: 3px solid var(--secondary);
            font-size: 0.9em;
        }

        .sql-keyword {
            color: #ff9966;
            font-weight: bold;
        }

        .sql-function {
            color: #66ffcc;
        }

        /* è¨“ç·´æ¨¡ã€å¡ã€ */
        #exerciseCard {
            display: none;
            background: var(--card-bg);
            border: 2px solid var(--accent);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 20px;
        }

        #exerciseCard.active {
            display: block;
        }

        /* æ‰‹æ©Ÿç‰ˆï¼šæ‡¸æµ®é¡Œç›®æŒ‰éˆ• */
        .floating-question-btn {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: var(--gradient-accent);
            border-radius: 50%;
            border: 3px solid var(--accent);
            box-shadow: 0 4px 20px rgba(0, 255, 204, 0.4);
            cursor: pointer;
            z-index: 999;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--text-primary);
            transition: all 0.3s ease;
            animation: pulse 2s infinite;
        }

        .floating-question-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(0, 255, 204, 0.6);
        }

        .floating-question-btn.active {
            display: flex;
        }

        @keyframes pulse {
            0%, 100% {
                box-shadow: 0 4px 20px rgba(0, 255, 204, 0.4);
            }
            50% {
                box-shadow: 0 4px 30px rgba(0, 255, 204, 0.8);
            }
        }

        /* æ‰‹æ©Ÿç‰ˆï¼šå¿«é€Ÿé¡Œç›®é¢æ¿ */
        .quick-question-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(5, 8, 17, 0.95);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .quick-question-panel.active {
            display: block;
            animation: slideInFromBottom 0.3s ease;
        }

        @keyframes slideInFromBottom {
            from {
                opacity: 0;
                transform: translateY(100%);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .quick-question-content {
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 16px;
            padding: 25px;
            border: 2px solid var(--accent);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .quick-question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border-color);
        }

        .close-quick-panel {
            background: rgba(255, 51, 102, 0.2);
            border: none;
            color: var(--error);
            font-size: 32px;
            cursor: pointer;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .close-quick-panel:hover {
            background: rgba(255, 51, 102, 0.4);
            transform: rotate(90deg);
        }

        /* æ‰‹æ©Ÿç‰ˆå°ˆç”¨ï¼šåœ¨è¨“ç·´æ¨¡å¼é¡¯ç¤ºæ‡¸æµ®æŒ‰éˆ• */
        @media (max-width: 768px) {
            .floating-question-btn.active {
                display: flex;
            }

            /* æ‰‹æ©Ÿç‰ˆï¼šé¡Œç›®å¡ç‰‡æ·»åŠ å›ºå®šä½ç½®é¸é … */
            #exerciseCard.sticky-mode {
                position: sticky;
                top: 10px;
                z-index: 100;
                margin-bottom: 20px;
                max-height: 70vh;
                overflow-y: auto;
            }
        }
    </style>
</head>
<body>
    <!-- èƒŒæ™¯ç§‘æŠ€æ•ˆæœ - æ•¸æ“šåº«ä¼ºæœå™¨é¢¨æ ¼ -->
    <div class="tech-bg">
        <div class="grid-lines"></div>
        <div class="floating-elements">
            <!-- ä¸»è¦æµ®å‹•å…ƒç´  - æ¨¡æ“¬æœå‹™å™¨ç¯€é» -->
            <div class="floating-element" style="width: 400px; height: 400px; top: 5%; left: 8%; animation-duration: 25s;"></div>
            <div class="floating-element" style="width: 280px; height: 280px; top: 55%; right: 12%; animation-duration: 30s; animation-delay: -5s;"></div>
            <div class="floating-element" style="width: 220px; height: 220px; bottom: 15%; left: 25%; animation-duration: 28s; animation-delay: -10s;"></div>
            <div class="floating-element" style="width: 180px; height: 180px; top: 30%; right: 35%; animation-duration: 22s; animation-delay: -15s;"></div>

            <!-- æ•¸æ“šæµå‹•æ•ˆæœ -->
            <div class="data-stream" style="left: 15%; animation-delay: 0s;"></div>
            <div class="data-stream" style="left: 35%; animation-delay: 0.5s;"></div>
            <div class="data-stream" style="left: 55%; animation-delay: 1s;"></div>
            <div class="data-stream" style="left: 75%; animation-delay: 1.5s;"></div>
            <div class="data-stream" style="right: 20%; animation-delay: 2s;"></div>
            <div class="data-stream" style="right: 10%; animation-delay: 2.5s;"></div>
        </div>
    </div>

    <!-- ä¸»é é¢ -->
    <div id="introPage" class="intro-page fade-in">
        <div class="logo">
            <div class="logo-icon pulse">
                <i class="fas fa-database"></i>
            </div>
            <h1 class="gradient-text">è³‡æ–™æ•¸æ“šåº«æ¨¡æ“¬è¨“ç·´éŠæˆ²å¹³å°</h1>
        </div>

                <p class="intro-description">
            ğŸ“ <strong>Oracle æ•¸æ“šåº«æ¨¡æ“¬è¨“ç·´å¹³å°</strong> - ç€è¦½å™¨å³é–‹å³ç©<br>
            âš¡ <strong>æ ¸å¿ƒåŠŸèƒ½ï¼š</strong>PL/SQLã€ACIDäº‹å‹™ã€æ€§èƒ½åˆ†æã€18ç¨®æ™ºèƒ½éŒ¯èª¤è¨ºæ–·<br>
            ğŸ“Š <strong>15ç¨®æ•¸æ“šæ¨¡å‹ï¼š</strong>é—œè¯å¼ã€JSONï¿½ï¿½ï¿½XMLã€åœ–å½¢ã€ç©ºé–“ã€å€å¡Šéˆã€æ™‚åºç­‰<br>
            ğŸ¯ <strong>å­¸ç¿’å¢å¼·ï¼š</strong>è¦–è¦ºåŒ–åœ–è¡¨ã€9ç¨®æˆå°±ã€å¤šæª”æ¡ˆç®¡ç†ã€å®Œæ•´å ±å‘ŠåŒ¯å‡º<br>
            ğŸ’¾ <strong>é›™æ¨¡å¼è¨“ç·´ï¼š</strong>è‡ªç”±ç·´ç¿’ + 30é¡Œéš¨æ©Ÿé¡Œåº«ï¼Œå¾ªåºæ¼¸é€²æŒæ¡SQL
        </p>

        <div class="btn-group">
            <button id="newFileBtn" class="btn btn-primary">
                <i class="fas fa-play btn-icon"></i> é–‹å§‹Oracle Database æ¨¡æ“¬å™¨
            </button>
            <button id="howToPlayBtn" class="btn">
                <i class="fas fa-question-circle btn-icon"></i> ğŸ¯ å¿«é€Ÿä¸Šæ‰‹æŒ‡å—
            </button>
            <button id="flowchartBtn" class="btn" style="background: linear-gradient(135deg, #00d4ff, #0099ff); border: none; color: white; box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);">
                <i class="fas fa-project-diagram btn-icon"></i> ğŸ“Š æ­¤æ¨¡æ“¬è³‡æ–™åº«æµç¨‹åœ–
            </button>
            <button id="syntaxRefBtn" class="btn">
                <i class="fas fa-code btn-icon"></i> Database èªæ³•åƒè€ƒ
            </button>
            <button id="achievementsBtn" class="btn" style="background: linear-gradient(135deg, var(--accent), #ff66b2); border: none; box-shadow: 0 4px 15px rgba(255, 102, 178, 0.3);">
                <i class="fas fa-trophy btn-icon"></i> ğŸ† æˆ‘çš„æˆå°±
            </button>
        </div>

        <!-- è¤‡ç¿’è³‡æ–™åº«æ¸¬é©—æŒ‰éˆ• -->
        <div style="text-align: center; margin-top: 40px; margin-bottom: 30px;">
            <button id="quizBtn" class="btn" style="background: linear-gradient(135deg, #ff6b9d, #c06c84); border: none; color: white; padding: 16px 40px; font-size: 1.1rem; box-shadow: 0 6px 20px rgba(255, 107, 157, 0.4);">
                <i class="fas fa-question-circle btn-icon"></i> ğŸ“ è¤‡ç¿’è³‡æ–™åº«æ¸¬é©— (100é¡Œ)
            </button>
        </div>

        <div class="card" style="max-width: 1100px; margin-top: 50px;">
            <h3 style="font-size: 1.8rem; margin-bottom: 30px; text-align: center;">
                <i class="fas fa-star" style="color: var(--accent);"></i> å¹³å°ç‰¹è‰²åŠŸèƒ½
            </h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 20px; margin-top: 20px;">

                <!-- æ ¸å¿ƒåŠŸèƒ½ -->
                <div style="padding: 20px; background: linear-gradient(135deg, rgba(0, 168, 255, 0.08), rgba(0, 102, 204, 0.08)); border-radius: 12px; border-left: 4px solid var(--primary);">
                    <h4 style="font-size: 1.05rem; margin-bottom: 10px;"><i class="fas fa-bolt" style="color: var(--primary); margin-right: 8px;"></i> å³æ™‚åŸ·è¡Œå¼•æ“</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6; font-size: 0.9rem;">ç€è¦½å™¨å…§åŸ·è¡Œï¼Œæ‰¹æ¬¡è™•ç†ã€å³æ™‚é è¦½</p>
                </div>

                <!-- Oracle 19C å°ˆæ¥­åŠŸèƒ½ -->
                <div style="padding: 20px; background: linear-gradient(135deg, rgba(255, 69, 0, 0.08), rgba(255, 140, 0, 0.08)); border-radius: 12px; border-left: 4px solid #ff4500;">
                    <h4 style="font-size: 1.05rem; margin-bottom: 10px;"><i class="fas fa-database" style="color: #ff4500; margin-right: 8px;"></i> Oracle 19C ç‰¹æ€§</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6; font-size: 0.9rem;">SEQUENCEã€SYNONYMã€PACKAGEã€TABLESPACE</p>
                </div>

                <!-- PL/SQL é€²éšç‰©ä»¶ -->
                <div style="padding: 20px; background: linear-gradient(135deg, rgba(0, 255, 204, 0.08), rgba(0, 168, 255, 0.08)); border-radius: 12px; border-left: 4px solid var(--accent);">
                    <h4 style="font-size: 1.05rem; margin-bottom: 10px;"><i class="fas fa-cogs" style="color: var(--accent); margin-right: 8px;"></i> PL/SQL ç‰©ä»¶</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6; font-size: 0.9rem;">PROCEDUREã€FUNCTIONã€TRIGGER</p>
                </div>

                <!-- äº‹å‹™èˆ‡ç´„æŸ -->
                <div style="padding: 20px; background: linear-gradient(135deg, rgba(255, 204, 0, 0.08), rgba(255, 153, 0, 0.08)); border-radius: 12px; border-left: 4px solid var(--warning);">
                    <h4 style="font-size: 1.05rem; margin-bottom: 10px;"><i class="fas fa-shield-alt" style="color: var(--warning); margin-right: 8px;"></i> ACIDäº‹å‹™+ç´„æŸ</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6; font-size: 0.9rem;">COMMIT/ROLLBACKã€4ç¨®éš”é›¢ç´šåˆ¥ã€å®Œæ•´ç´„æŸ</p>
                </div>

                <!-- JOIN èˆ‡è¦–åœ–ç´¢å¼• -->
                <div style="padding: 20px; background: linear-gradient(135deg, rgba(255, 102, 178, 0.08), rgba(153, 102, 255, 0.08)); border-radius: 12px; border-left: 4px solid #ff66b2;">
                    <h4 style="font-size: 1.05rem; margin-bottom: 10px;"><i class="fas fa-link" style="color: #ff66b2; margin-right: 8px;"></i> å¤šè¡¨JOIN+è¦–åœ–</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6; font-size: 0.9rem;">INNER/LEFT/RIGHT JOINã€VIEWã€INDEX</p>
                </div>

                <!-- æ€§èƒ½åˆ†æ -->
                <div style="padding: 20px; background: linear-gradient(135deg, rgba(0, 204, 136, 0.08), rgba(51, 255, 153, 0.08)); border-radius: 12px; border-left: 4px solid var(--success);">
                    <h4 style="font-size: 1.05rem; margin-bottom: 10px;"><i class="fas fa-tachometer-alt" style="color: var(--success); margin-right: 8px;"></i> æ€§èƒ½åˆ†æ</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6; font-size: 0.9rem;">EXPLAIN PLANã€åŸ·è¡Œæˆæœ¬ã€å„ªåŒ–å»ºè­°</p>
                </div>

                <!-- æ™ºèƒ½éŒ¯èª¤è¨ºæ–· -->
                <div style="padding: 20px; background: linear-gradient(135deg, rgba(255, 102, 102, 0.08), rgba(255, 153, 51, 0.08)); border-radius: 12px; border-left: 4px solid #ff6666;">
                    <h4 style="font-size: 1.05rem; margin-bottom: 10px;"><i class="fas fa-bug" style="color: #ff6666; margin-right: 8px;"></i> æ™ºèƒ½è¨ºæ–·</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6; font-size: 0.9rem;">18ç¨®éŒ¯èª¤åˆ†é¡ã€ä¸­æ–‡è§£é‡‹+ä¿®æ­£å»ºè­°</p>
                </div>

                <!-- è³‡æ–™è¦–è¦ºåŒ– -->
                <div style="padding: 20px; background: linear-gradient(135deg, rgba(0, 204, 136, 0.08), rgba(0, 255, 127, 0.08)); border-radius: 12px; border-left: 4px solid var(--success);">
                    <h4 style="font-size: 1.05rem; margin-bottom: 10px;"><i class="fas fa-chart-bar" style="color: var(--success); margin-right: 8px;"></i> è¦–è¦ºåŒ–åœ–è¡¨</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6; font-size: 0.9rem;">é•·æ¢åœ–ã€æŠ˜ç·šåœ–ã€åœ“é¤…åœ–ã€ç”œç”œåœˆåœ–</p>
                </div>

                <!-- éŠæˆ²åŒ–å­¸ç¿’ -->
                <div style="padding: 20px; background: linear-gradient(135deg, rgba(255, 102, 178, 0.08), rgba(153, 102, 255, 0.08)); border-radius: 12px; border-left: 4px solid #ff66b2;">
                    <h4 style="font-size: 1.05rem; margin-bottom: 10px;"><i class="fas fa-trophy" style="color: #ff66b2; margin-right: 8px;"></i> æˆå°±ç³»çµ±</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6; font-size: 0.9rem;">9ç¨®å¾½ç« ã€å³æ™‚å‹•ç•«ã€é€²åº¦è¿½è¹¤</p>
                </div>

                <!-- é›™æ¨¡å¼å­¸ç¿’ -->
                <div style="padding: 20px; background: linear-gradient(135deg, rgba(255, 204, 0, 0.08), rgba(255, 152, 0, 0.08)); border-radius: 12px; border-left: 4px solid var(--warning);">
                    <h4 style="font-size: 1.05rem; margin-bottom: 10px;"><i class="fas fa-graduation-cap" style="color: var(--warning); margin-right: 8px;"></i> é›™æ¨¡å¼è¨“ç·´</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6; font-size: 0.9rem;">è‡ªç”±ç·´ç¿’ + 30é¡Œéš¨æ©Ÿé¡Œåº«</p>
                </div>

                <!-- ä¸­è‹±å°ç…§ -->
                <div style="padding: 20px; background: linear-gradient(135deg, rgba(0, 168, 255, 0.08), rgba(51, 153, 255, 0.08)); border-radius: 12px; border-left: 4px solid var(--info);">
                    <h4 style="font-size: 1.05rem; margin-bottom: 10px;"><i class="fas fa-language" style="color: var(--info); margin-right: 8px;"></i> èªæ³•åº«</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6; font-size: 0.9rem;">åŸºæœ¬/é€²éš/é«˜éšä¸‰ç´šèªæ³•è¡¨+å¯¦ä¾‹</p>
                </div>

                <!-- å¤šè³‡æ–™åº«ç®¡ç† -->
                <div style="padding: 20px; background: linear-gradient(135deg, rgba(255, 51, 102, 0.08), rgba(255, 102, 153, 0.08)); border-radius: 12px; border-left: 4px solid var(--error);">
                    <h4 style="font-size: 1.05rem; margin-bottom: 10px;"><i class="fas fa-database" style="color: var(--error); margin-right: 8px;"></i> å¤šæª”æ¡ˆç®¡ç†</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6; font-size: 0.9rem;">å¤šè³‡æ–™åº«æª”æ¡ˆã€å¿«é€Ÿåˆ‡æ›ã€ç¨ç«‹å„²å­˜</p>
                </div>

                <!-- å®Œæ•´è³‡æ–™åŒ¯å‡º -->
                <div style="padding: 20px; background: linear-gradient(135deg, rgba(0, 204, 136, 0.08), rgba(0, 255, 154, 0.08)); border-radius: 12px; border-left: 4px solid var(--success);">
                    <h4 style="font-size: 1.05rem; margin-bottom: 10px;"><i class="fas fa-download" style="color: var(--success); margin-right: 8px;"></i> å ±å‘ŠåŒ¯å‡º</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6; font-size: 0.9rem;">æ•¸æ“šã€è¡¨çµæ§‹ã€æ­·å²ã€åœ–è¡¨â†’HTML</p>
                </div>

            </div>

            <!-- 15ç¨®æ•¸æ“šæ¨¡å‹ + 9ç¨®è¡¨æ ¼è¦–åœ– (æ©«è·¨å…¨å¯¬) -->
            <div style="display: grid; grid-template-columns: 1fr; gap: 20px; margin-top: 20px;">
                <!-- 15ç¨®æ•¸æ“šæ¨¡å‹ -->
                <div style="padding: 25px; background: linear-gradient(135deg, rgba(0, 255, 204, 0.1), rgba(0, 168, 255, 0.1)); border-radius: 16px; border-left: 5px solid var(--accent); box-shadow: 0 3px 15px rgba(0, 255, 204, 0.2);">
                    <h4 style="font-size: 1.2rem; margin-bottom: 15px;"><i class="fas fa-layer-group" style="color: var(--accent); margin-right: 10px;"></i> 15ç¨®æ•¸æ“šæ¨¡å‹å…¨æ”¯æ´</h4>
                    <p style="color: var(--text-secondary); line-height: 1.7; margin-bottom: 15px; font-size: 0.95rem;">å¾åŸºç¤åˆ°å°ˆæ¥­å…¨æ–¹ä½è¦†è“‹ï¼Œé«”é©—ä¸åŒæ•¸æ“šåº«æŠ€è¡“çš„ç‰¹æ€§å’Œæ‡‰ç”¨å ´æ™¯</p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 10px;">
                        <div style="padding: 10px 14px; background: rgba(0, 168, 255, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸ“Š é—œè¯å¼</div>
                        <div style="padding: 10px 14px; background: rgba(0, 168, 255, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸ“„ JSONæ–‡ä»¶</div>
                        <div style="padding: 10px 14px; background: rgba(0, 168, 255, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸ“‹ XML</div>
                        <div style="padding: 10px 14px; background: rgba(0, 168, 255, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸ”— åœ–å½¢</div>
                        <div style="padding: 10px 14px; background: rgba(0, 168, 255, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸ—ºï¸ ç©ºé–“</div>
                        <div style="padding: 10px 14px; background: rgba(0, 168, 255, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">â›“ï¸ å€å¡Šéˆ</div>
                        <div style="padding: 10px 14px; background: rgba(0, 168, 255, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸ”‘ éµå€¼</div>
                        <div style="padding: 10px 14px; background: rgba(0, 168, 255, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸ“ˆ æ™‚é–“åºåˆ—</div>
                        <div style="padding: 10px 14px; background: rgba(0, 168, 255, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸ” å…¨æ–‡æª¢ç´¢</div>
                        <div style="padding: 10px 14px; background: rgba(0, 168, 255, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸ“¦ ç‰©ä»¶</div>
                        <div style="padding: 10px 14px; background: rgba(0, 168, 255, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸ”€ åŠçµæ§‹åŒ–</div>
                        <div style="padding: 10px 14px; background: rgba(0, 168, 255, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸ’§ ä¸²æµ</div>
                        <div style="padding: 10px 14px; background: rgba(0, 168, 255, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">âš¡ å…§å­˜</div>
                        <div style="padding: 10px 14px; background: rgba(0, 168, 255, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸŒ åˆ†æ•£å¼</div>
                        <div style="padding: 10px 14px; background: rgba(0, 168, 255, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸ¢ å¤šç§Ÿæˆ¶</div>
                    </div>
                </div>

                <!-- 9ç¨®è¡¨æ ¼è¦–åœ– -->
                <div style="padding: 25px; background: linear-gradient(135deg, rgba(255, 153, 204, 0.1), rgba(255, 102, 178, 0.1)); border-radius: 16px; border-left: 5px solid #ff99cc; box-shadow: 0 3px 15px rgba(255, 153, 204, 0.2);">
                    <h4 style="font-size: 1.2rem; margin-bottom: 15px;"><i class="fas fa-th-large" style="color: #ff99cc; margin-right: 10px;"></i> 9ç¨®è¡¨æ ¼è¦–åœ–åˆ‡æ›</h4>
                    <p style="color: var(--text-secondary); line-height: 1.7; margin-bottom: 15px; font-size: 0.95rem;">æŸ¥è©¢çµæœæ”¯æ´å¤šç¨®è¦–åœ–æ¨¡å¼ï¿½ï¿½ï¿½æ·±å…¥ç†è§£ä¸åŒè¡¨æ ¼é¡å‹çš„ç‰¹æ€§</p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 10px;">
                        <div style="padding: 10px 14px; background: rgba(255, 102, 178, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸ“‹ æ¨™æº–è¡¨æ ¼</div>
                        <div style="padding: 10px 14px; background: rgba(255, 102, 178, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸ—‚ï¸ åˆ†å€è¡¨</div>
                        <div style="padding: 10px 14px; background: rgba(255, 102, 178, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸ”— å¢é›†è¡¨</div>
                        <div style="padding: 10px 14px; background: rgba(255, 102, 178, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸ”‘ ç´¢å¼•çµ„ç¹”è¡¨</div>
                        <div style="padding: 10px 14px; background: rgba(255, 102, 178, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸ“ å¤–éƒ¨è¡¨</div>
                        <div style="padding: 10px 14px; background: rgba(255, 102, 178, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">â±ï¸ è‡¨æ™‚è¡¨</div>
                        <div style="padding: 10px 14px; background: rgba(255, 102, 178, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸ“¦ å·¢ç‹€è¡¨</div>
                        <div style="padding: 10px 14px; background: rgba(255, 102, 178, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">ğŸ¯ ç‰©ä»¶è¡¨</div>
                        <div style="padding: 10px 14px; background: rgba(255, 102, 178, 0.12); border-radius: 8px; font-size: 0.9rem; text-align: center; font-weight: 500;">â›“ï¸ å€å¡Šéˆè¡¨</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- é‡è¦æç¤º -->
        <!-- é‡è¦æç¤º -->
        <div style="margin-top: 60px; padding: 25px 20px; text-align: center;">
            <div style="max-width: 800px; margin: 0 auto; padding: 20px 30px; background: linear-gradient(135deg, rgba(255, 152, 0, 0.1), rgba(255, 87, 34, 0.1)); border-radius: 12px; border-left: 5px solid var(--warning); box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);">
                <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 12px;">
                    <i class="fas fa-info-circle" style="font-size: 1.8rem; color: var(--warning); margin-right: 12px;"></i>
                    <h3 style="font-size: 1.3rem; font-weight: 700; color: var(--warning); margin: 0;">é‡è¦æç¤º</h3>
                </div>
                <p style="font-size: 1.05rem; color: var(--text-primary); line-height: 1.8; margin-bottom: 10px; font-weight: 500;">
                    ğŸ“Œ æœ¬å¹³å°ç‚º<strong style="color: var(--accent);">æ•¸æ“šåº«å­¸ç¿’æ¨¡æ“¬å™¨</strong>ï¼Œæ‰€æœ‰æ•¸æ“šåƒ…<strong style="color: var(--warning);">è‡¨æ™‚å­˜å„²æ–¼ç€è¦½å™¨å…§å­˜</strong>ä¸­
                </p>
                <p style="font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; margin: 0;">
                    <i class="fas fa-exclamation-triangle" style="color: var(--warning);"></i> åˆ·æ–°æˆ–é—œé–‰é é¢å¾Œï¼Œæ‰€æœ‰æ•¸æ“šå°‡<strong>ä¸æœƒä¿å­˜</strong>ï¼Œè«‹æ³¨æ„å‚™ä»½é‡è¦çš„ SQL èªå¥
                </p>
            </div>
        </div>

        <!-- ç‰ˆæ¬Šä¿¡æ¯ -->
        <div style="margin-top: 40px; padding: 30px 20px; border-top: 1px solid var(--border-color); text-align: center;">
            <div style="margin-bottom: 15px;">
                <p style="font-size: 1.1rem; font-weight: 600; color: var(--text-primary); margin-bottom: 8px;">
                    Â© 2025 Create Byã€ Sam. T ã€‘
                </p>
                <p style="font-size: 0.95rem; color: var(--text-secondary); margin-bottom: 5px;">
                    Copyright Â© 2025 Sam. T. All rights reserved.
                </p>
                <p style="font-size: 0.95rem; color: var(--text-secondary); margin-bottom: 5px;">
                    ç‰ˆæ¬Šæ‰€æœ‰ Â© 2025 Sam. T
                </p>
            </div>
            <div style="padding: 15px 20px; background: rgba(255, 204, 0, 0.1); border-radius: 8px; border: 1px solid rgba(255, 204, 0, 0.3); display: inline-block;">
                <p style="font-size: 0.9rem; color: var(--warning); font-weight: 500; margin: 0;">
                    <i class="fas fa-shield-alt"></i> æ­¤å¹³å°å·²å—ç‰ˆæ¬Šä¿è­·
                </p>
                <p style="font-size: 0.85rem; color: var(--text-secondary); margin: 5px 0 0 0;">
                    æœªç¶“æ“æœ‰è€…åŒæ„ï¼Œç¦æ­¢è¤‡è£½ã€ä¿®æ”¹æˆ–å•†æ¥­ä½¿ç”¨
                </p>
            </div>
        </div>
    </div>

    <!-- æ¨¡æ“¬å™¨é é¢ -->
    <div id="simulatorPage" class="simulator-page container">
        <!-- æ¨¡æ“¬å™¨æ¨™é¡Œæ¬„ -->
        <div class="simulator-header">
            <div>
                <h2 class="gradient-text" id="fileName">æœªå‘½åè¨“ï¿½ï¿½ï¿½æª”æ¡ˆ</h2>
                <div class="status-indicator status-online">
                    <div class="status-dot"></div>
                    <span>æ•¸æ“šåº«é€£æ¥æ­£å¸¸</span>
                </div>
            </div>

            <div class="user-info">
                <div class="user-avatar">
                    <span id="userInitial">U</span>
                </div>
                <div>
                    <div style="font-weight: 600;" id="usernameDisplay">User</div>
                    <div style="font-size: 14px; color: var(--text-muted);" id="modeDisplay">è¨“ç·´æ¨¡å¼</div>
                </div>
                <button id="backToIntroBtn" class="btn" style="padding: 10px 20px;">
                    <i class="fas fa-home"></i> è¿”å›ä¸»é 
                </button>
            </div>
        </div>

        <!-- è³‡æ–™åº«æª”æ¡ˆæ¨™ç±¤é  -->
        <div class="database-tabs-container">
            <!-- ä¸Šæ–¹æ§åˆ¶å€åŸŸï¼šæ¨™ç±¤é å’Œç®¡ç†æŒ‰éˆ• -->
            <div style="display: flex; justify-content: space-between; align-items: center; gap: 15px; margin-bottom: 10px; flex-wrap: wrap;">
                <!-- å·¦å´ï¼šè³‡æ–™åº«æ¨™ç±¤ -->
                <div class="database-tabs" id="databaseTabs" style="flex: 1; min-width: 300px; margin-bottom: 0;">
                    <!-- æ¨™ç±¤é å°‡ç”± JavaScript å‹•æ…‹ç”Ÿæˆ -->
                </div>

                <!-- å³å´ï¼šç®¡ç†æŒ‰éˆ•çµ„ -->
                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <button id="saveAllBtn" class="btn" style="padding: 10px 18px; background: var(--gradient-primary); border: none; white-space: nowrap;">
                        <i class="fas fa-database"></i> æ‰€æœ‰å„²å­˜
                    </button>
                    <button id="exportBtn" class="btn" style="padding: 10px 18px; white-space: nowrap;">
                        <i class="fas fa-file-download"></i> åŒ¯å‡ºå ±å‘Š
                    </button>
                    <button id="freePracticeBtn" class="btn btn-primary" style="padding: 10px 18px; white-space: nowrap;">
                        <i class="fas fa-edit"></i> è‡ªç”±æ¨¡å¼
                    </button>
                    <button id="exerciseModeBtn" class="btn" style="padding: 10px 18px; white-space: nowrap;">
                        <i class="fas fa-tasks"></i> è¨“ç·´æ¨¡å¼
                    </button>
                </div>
            </div>

            <div class="database-tabs-info">
                <span><i class="fas fa-info-circle"></i> ä½ å¯ä»¥å‰µå»ºå¤šå€‹è³‡æ–™åº«æª”æ¡ˆï¼Œä¸¦åœ¨å®ƒå€‘ä¹‹é–“å¿«é€Ÿåˆ‡æ›</span>
                <span id="currentTabInfo">ç›®å‰æª”æ¡ˆï¼š<strong>æª”æ¡ˆ 1</strong></span>
            </div>
        </div>

        <!-- è¨“ç·´é¡Œï¿½ï¿½ï¿½å¡ç‰‡ -->
        <div id="exerciseCard">
            <h3><i class="fas fa-tasks"></i> è¨“ç·´é¡Œç›®</h3>

            <!-- é¡Œç›®è³‡è¨Šè¡¨æ ¼ -->
            <div id="exerciseContent" style="margin-top: 15px;">
                <table style="width: 100%; border-collapse: collapse; background: rgba(0, 168, 255, 0.05); border: 2px solid var(--border-color); border-radius: 8px; overflow: hidden;">
                    <tr style="background: rgba(0, 102, 204, 0.2);">
                        <td colspan="2" style="padding: 12px; font-weight: 600; font-size: 1.1em; border-bottom: 2px solid var(--secondary);">
                            <i class="fas fa-book"></i> <span id="exerciseTitleDisplay"></span>
                        </td>
                    </tr>
                    <tr>
                        <td style="padding: 10px; width: 120px; font-weight: 600; background: rgba(0, 168, 255, 0.08); border-right: 1px solid var(--border-color);">
                            é›£åº¦ç­‰ç´š
                        </td>
                        <td style="padding: 10px;">
                            <span id="exerciseDifficulty" style="padding: 4px 12px; border-radius: 4px; font-weight: 600;"></span>
                            <span id="difficultyStars" style="margin-left: 10px; color: #FFD700; font-size: 18px;"></span>
                        </td>
                    </tr>
                    <tr>
                        <td style="padding: 10px; font-weight: 600; background: rgba(0, 168, 255, 0.08); border-right: 1px solid var(--border-color); border-top: 1px solid rgba(0, 168, 255, 0.1);">
                            åˆ†é¡
                        </td>
                        <td style="padding: 10px; border-top: 1px solid rgba(0, 168, 255, 0.1);">
                            <span id="exerciseCategory"></span>
                        </td>
                    </tr>
                    <tr>
                        <td style="padding: 10px; font-weight: 600; background: rgba(0, 168, 255, 0.08); border-right: 1px solid var(--border-color); border-top: 1px solid rgba(0, 168, 255, 0.1); vertical-align: top;">
                            é¡Œç›®è¦æ±‚
                        </td>
                        <td style="padding: 15px; border-top: 1px solid rgba(0, 168, 255, 0.1);">
                            <div id="exerciseDescription" style="color: var(--text-secondary); line-height: 1.8;"></div>
                        </td>
                    </tr>
                    <tr id="exerciseDataPreviewRow" style="display: none;">
                        <td style="padding: 10px; font-weight: 600; background: rgba(0, 204, 136, 0.08); border-right: 1px solid var(--border-color); border-top: 1px solid rgba(0, 204, 136, 0.3); vertical-align: top;">
                            ğŸ“Š å·²æä¾›è³‡æ–™
                        </td>
                        <td style="padding: 15px; border-top: 1px solid rgba(0, 204, 136, 0.3); background: rgba(0, 204, 136, 0.02);">
                            <div id="exerciseDataPreview" style="color: var(--text-secondary); line-height: 1.6; font-size: 0.9em;"></div>
                        </td>
                    </tr>
                    <tr>
                        <td style="padding: 10px; font-weight: 600; background: rgba(0, 168, 255, 0.08); border-right: 1px solid var(--border-color); border-top: 1px solid rgba(0, 168, 255, 0.1); vertical-align: top;">
                            ğŸ’¡ æç¤º
                        </td>
                        <td style="padding: 15px; border-top: 1px solid rgba(0, 168, 255, 0.1);">
                            <div id="exerciseHint" style="color: var(--warning); font-style: italic; line-height: 1.6;"></div>
                        </td>
                    </tr>
                    <tr>
                        <td style="padding: 10px; font-weight: 600; background: rgba(0, 168, 255, 0.08); border-right: 1px solid var(--border-color); border-top: 1px solid rgba(0, 168, 255, 0.1); vertical-align: top;">
                            âš ï¸ æ³¨æ„äº‹é …
                        </td>
                        <td style="padding: 15px; border-top: 1px solid rgba(0, 168, 255, 0.1);">
                            <div style="color: var(--error); line-height: 1.6;">
                                â€¢ åŸ·è¡Œæ¯ä¸€å¥èªå¥å¾Œæœƒè‡ªå‹•æª¢æŸ¥æ˜¯å¦ç¬¦åˆè¦æ±‚<br>
                                â€¢ <strong style="color: var(--warning);">âš ï¸ æäº¤è¦æ±‚ï¼š</strong>å¿…é ˆå…ˆåŸ·è¡ŒSQLèªå¥æ‰èƒ½æäº¤ç­”æ¡ˆ<br>
                                â€¢ å¯ä»¥æäº¤ä»»ä½•SQLç­”æ¡ˆï¼Œç³»çµ±æœƒè‡ªå‹•è©•åˆ†<br>
                                â€¢ å³ä½¿é¡Œç›®æœ‰é è¨­è³‡æ–™ï¼Œä»éœ€åŸ·è¡Œè‡ªå·±çš„SQL<br>
                                â€¢ å®Œæˆå¾Œè«‹é»æ“Šã€Œæäº¤ç­”æ¡ˆã€æŒ‰éˆ•é€²è¡Œè©•åˆ†<br>
                                â€¢ æ¯é¡Œæ»¿åˆ†30åˆ†ï¼Œè©•åˆ†æ¨™æº–è¦‹ä¸‹æ–¹è©•åˆ†è¡¨
                            </div>
                        </td>
                    </tr>
                </table>

                <!-- è©•åˆ†æ¨™æº–è¡¨ -->
                <div style="margin-top: 15px; padding: 15px; background: rgba(0, 204, 136, 0.05); border: 1px solid rgba(0, 204, 136, 0.3); border-radius: 8px;">
                    <div style="font-weight: 600; margin-bottom: 10px; color: var(--success);">
                        <i class="fas fa-clipboard-check"></i> è©•åˆ†æ¨™æº–ï¼ˆæ»¿åˆ†30åˆ†ï¼‰
                    </div>

                    <!-- å››å¤§è©•åˆ†é¡åˆ¥ -->
                    <div style="background: rgba(0, 168, 255, 0.05); padding: 12px; border-radius: 6px; margin-bottom: 12px; border-left: 4px solid var(--info);">
                        <div style="font-weight: 600; color: var(--info); margin-bottom: 8px;">ğŸ“Š è©•åˆ†é¡åˆ¥ï¼š</div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 8px; font-size: 0.9em;">
                            <div>â€¢ æ­£ç¢ºæ€§èˆ‡å®Œæ•´æ€§ (0-10åˆ†)</div>
                            <div>â€¢ æŠ€è¡“æ·±åº¦èˆ‡æœ€ä½³å¯¦è¸ (0-8åˆ†)</div>
                            <div>â€¢ é‚è¼¯èˆ‡å•é¡Œè§£æ±º (0-7åˆ†)</div>
                            <div>â€¢ å¯è®€æ€§èˆ‡çµæ§‹ (0-5åˆ†)</div>
                        </div>
                    </div>

                    <div id="requirementsTable"></div>

                    <!-- æ–°å¢ï¼šè©•åˆ†æº–å‰‡è©³ç´°èªªæ˜ -->
                    <div style="margin-top: 15px; padding: 15px; background: rgba(255, 204, 0, 0.08); border: 2px solid rgba(255, 204, 0, 0.4); border-radius: 8px;">
                        <div style="font-weight: 600; margin-bottom: 10px; color: var(--warning); font-size: 1.05em;">
                            <i class="fas fa-exclamation-triangle"></i> ğŸ“Œ é‡è¦æé†’ï¼šæäº¤ç­”æ¡ˆå‰å¿…è®€
                        </div>

                        <div style="background: rgba(0, 0, 0, 0.2); padding: 12px; border-radius: 6px; margin-bottom: 10px;">
                            <div style="font-weight: 600; color: var(--accent); margin-bottom: 8px;">âœ… æäº¤ç­”æ¡ˆçš„æ¢ä»¶ï¼š</div>
                            <ol style="margin-left: 20px; line-height: 1.8; color: var(--text-secondary);">
                                <li><strong style="color: var(--warning);">å¿…é ˆå…ˆåŸ·è¡ŒSQLèªå¥</strong> - é»æ“Šã€ŒåŸ·è¡Œ SQLã€æŒ‰éˆ•æ¸¬è©¦æ‚¨çš„ç­”æ¡ˆ</li>
                                <li><strong style="color: var(--info);">å¯ä»¥æäº¤ä»»ä½•ç­”æ¡ˆ</strong> - ä¸è«–SQLèªæ³•å°éŒ¯éƒ½å¯ä»¥æäº¤è©•åˆ†</li>
                                <li><strong style="color: var(--success);">å³ä½¿æœ‰é è¨­è³‡æ–™</strong> - ä»éœ€åŸ·è¡Œè‡ªå·±çš„SQLæ‰èƒ½æäº¤</li>
                            </ol>
                        </div>

                        <div style="background: rgba(0, 168, 255, 0.1); padding: 12px; border-radius: 6px; margin-bottom: 10px;">
                            <div style="font-weight: 600; color: var(--info); margin-bottom: 8px;">ğŸ“‹ è©•åˆ†æº–å‰‡ï¿½ï¿½ï¿½æ˜ï¼ˆæ¯é¡Œ30åˆ†ï¼‰ï¼š</div>
                            <ul style="margin-left: 20px; line-height: 1.8; color: var(--text-secondary); font-size: 0.95em;">
                                <li><strong>å®Œæ•´æ•¸æ“šè³‡æ–™</strong> - æª¢æŸ¥è¡¨æ ¼æ˜¯å¦çœŸå¯¦å­˜åœ¨æ–¼è³‡æ–™åº«ï¼Œä¸åªæ˜¯SQLæ–‡å­—</li>
                                <li><strong>èªå¥èªæ³•</strong> - æª¢æŸ¥SQLèªæ³•æ­£ç¢ºæ€§ï¼Œæ‹¬è™Ÿé…å°ï¼Œé—œéµå­—ä½¿ç”¨</li>
                                <li><strong>è¡¨æ ¼æ“ºä½ä½ç½®</strong> - æª¢æŸ¥æ¬„ä½å®šç¾©çš„é †åºå’Œçµæ§‹</li>
                                <li><strong>æ¬„ä½å±¬æ€§æª¢æ¸¬</strong> - ç²¾ç¢ºæª¢æ¸¬ä¸»éµã€å¤–éµã€éç©ºã€å”¯ä¸€ã€CHECKã€DEFAULTç­‰ç´„æŸ</li>
                            </ul>
                        </div>

                        <div style="background: rgba(0, 204, 136, 0.1); padding: 12px; border-radius: 6px;">
                            <div style="font-weight: 600; color: var(--success); margin-bottom: 8px;">ğŸ¯ è©•åˆ†æ”¹é€²èªªæ˜ï¼š</div>
                            <ul style="margin-left: 20px; line-height: 1.8; color: var(--text-secondary); font-size: 0.95em;">
                                <li><strong>è¡¨æ ¼åç¨±æª¢æŸ¥</strong> - ä¸åƒ…æª¢æŸ¥SQLæ–‡å­—ï¼Œé‚„é©—è­‰è¡¨æ ¼æ˜¯å¦çœŸçš„åœ¨è³‡æ–™åº«ä¸­å‰µå»º</li>
                                <li><strong>æ¬„ä½åŠå±¬æ€§æª¢æŸ¥</strong> - ä¾‹å¦‚ã€ŒåŒ…å« EMP_ID æ¬„ä½ï¼ˆä¸»éµï¼‰ã€æœƒåŒæ™‚æª¢æŸ¥ï¼š
                                    <ul style="margin-left: 20px; margin-top: 5px;">
                                        <li>âœ“ æ¬„ä½ EMP_ID æ˜¯å¦å­˜åœ¨</li>
                                        <li>âœ“ è©²æ¬„ä½æ˜¯å¦å®šç¾©ç‚º PRIMARY KEY</li>
                                        <li>âœ“ å…©è€…æ˜¯å¦åœ¨åŒä¸€å€‹æ¬„ä½å®šç¾©ä¸­</li>
                                    </ul>
                                </li>
                                <li><strong>ç´„æŸæª¢æ¸¬</strong> - ä½¿ç”¨æ­£å‰‡è¡¨é”å¼ç¢ºä¿ç´„æŸï¼ˆNOT NULLã€UNIQUEã€CHECKã€DEFAULTç­‰ï¼‰ç¢ºå¯¦æ‡‰ç”¨æ–¼æ­£ç¢ºçš„æ¬„ä½</li>
                                <li><strong>åš´æ ¼é©—è­‰</strong> - SQLèªæ³•æ­£ç¢ºä½†è¡¨æ ¼æœªæˆåŠŸå‰µå»ºçš„æƒ…æ³å°‡ç„¡æ³•å¾—åˆ†</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- å³æ™‚åé¥‹å€åŸŸ -->
                <div id="feedbackArea" style="margin-top: 15px; padding: 15px; background: rgba(0, 168, 255, 0.03); border: 1px solid var(--border-color); border-radius: 8px; display: none;">
                    <div style="font-weight: 600; margin-bottom: 10px;">
                        <i class="fas fa-comment-dots"></i> åŸ·è¡Œåé¥‹
                    </div>
                    <div id="feedbackContent"></div>
                </div>

                <!-- ç•¶å‰å¾—åˆ†é¡¯ç¤º -->
                <div id="currentScoreDisplay" style="margin-top: 15px; padding: 15px; background: linear-gradient(135deg, rgba(0, 204, 136, 0.2), rgba(0, 168, 255, 0.2)); border: 2px solid var(--success); border-radius: 8px; display: none;">
                    <div style="text-align: center; font-size: 1.3em; font-weight: 600; margin-bottom: 10px;">
                        ç•¶å‰å¾—åˆ†ï¼š<span id="currentScore">0</span> / 30 åˆ†
                    </div>
                    <div style="text-align: center; font-size: 1.1em; margin-bottom: 8px;">
                        ç­‰ç´šï¼š<span id="gradeLevel" style="font-weight: 700; padding: 4px 12px; border-radius: 6px;"></span>
                    </div>
                    <div id="categoryScoreBreakdown" style="font-size: 0.9em; background: rgba(0, 0, 0, 0.2); padding: 10px; border-radius: 6px; margin-top: 10px;"></div>

                    <!-- é‡åšé¸é … (åˆ†æ•¸ä½æ–¼15åˆ†æ™‚é¡¯ç¤º) -->
                    <div id="retakeOptions" style="display: none; margin-top: 12px; padding: 12px; background: rgba(255, 204, 0, 0.1); border: 2px solid var(--warning); border-radius: 6px;">
                        <div style="color: var(--warning); font-weight: 600; margin-bottom: 8px; text-align: center;">
                            <i class="fas fa-exclamation-triangle"></i> åˆ†æ•¸æœªé”æ¨™æº–ï¼ˆéœ€15åˆ†ä»¥ä¸Šï¼‰
                        </div>
                        <div style="display: flex; gap: 10px; justify-content: center;">
                            <button id="retakeSameBtn" class="btn" style="background: var(--warning); color: #000;">
                                <i class="fas fa-redo"></i> é‡åšæœ¬é¡Œ
                            </button>
                            <button id="retakeNewBtn" class="btn btn-primary">
                                <i class="fas fa-random"></i> æ›æ–°é¡Œç›®
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div style="display: flex; gap: 10px; margin-top: 15px; flex-wrap: wrap;">
                <button id="confirmQuestionBtn" class="btn" style="flex: 1; min-width: 200px; background: linear-gradient(135deg, rgba(0, 204, 136, 0.2), rgba(0, 168, 255, 0.2)); border: 2px solid var(--success);">
                    <i class="fas fa-clipboard-check"></i> ç¢ºå®šä½œç­”æ­¤é¡Œç›®
                </button>
                <button id="submitAnswerBtn" class="btn btn-primary" style="flex: 1; min-width: 200px;">
                    <i class="fas fa-check-circle"></i> æäº¤ç­”æ¡ˆ
                </button>
                <button id="nextExerciseBtn" class="btn" style="flex: 1; min-width: 200px;">
                    <i class="fas fa-arrow-right"></i> ä¸‹ä¸€é¡Œ
                </button>
            </div>

            <!-- ğŸ†• é¡Œç›®æ¨¡å¼æ–°åŠŸèƒ½æç¤º -->
            <div style="margin-top: 15px; padding: 12px; background: linear-gradient(135deg, rgba(255, 102, 178, 0.05), rgba(153, 102, 255, 0.05)); border-radius: 8px; border: 1px solid rgba(255, 102, 178, 0.3);">
                <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 10px;">
                    <i class="fas fa-star" style="color: #ff66b2; font-size: 16px;"></i>
                    <h4 style="color: #ff66b2; margin: 0; font-size: 13px;">ğŸ’¡ éŒ¯èª¤è¨ºæ–·ç³»çµ±</h4>
                </div>
                <p style="color: var(--text-secondary); font-size: 11px; margin: 0 0 8px 0; line-height: 1.6;">
                    åŸ·è¡Œå‡ºéŒ¯ï¼Ÿç³»çµ±æœƒè‡ªå‹•åˆ†æéŒ¯èª¤é¡å‹ï¼Œæä¾›ä¸­æ–‡è§£é‡‹å’Œ3æ¢ä¿®æ­£å»ºè­°ï¼
                </p>
                <div style="display: flex; gap: 6px; flex-wrap: wrap; font-size: 10px;">
                    <span style="background: rgba(0, 204, 136, 0.15); padding: 4px 8px; border-radius: 4px; color: var(--success);">âœ“ 18ç¨®éŒ¯èª¤åˆ†é¡</span>
                    <span style="background: rgba(0, 168, 255, 0.15); padding: 4px 8px; border-radius: 4px; color: var(--accent);">âœ“ æ™ºèƒ½å»ºè­°</span>
                    <span style="background: rgba(255, 204, 0, 0.15); padding: 4px 8px; border-radius: 4px; color: var(--warning);">âœ“ éŒ¯èª¤è¿½è¹¤</span>
                </div>
            </div>
        </div>

        <!-- æ¨¡æ“¬å™¨ä¸»å…§å®¹ -->
        <div class="simulator-layout">
            <!-- æ•¸æ“šæ¨¡å‹é¸æ“‡å™¨ -->
            <div class="model-selector-container card">
                <div class="model-selector-header">
                    <div class="model-selector-title">
                        <i class="fas fa-database"></i>
                        <span>æ•¸æ“šæ¨¡å‹</span>
                        <span class="current-model-badge" id="currentModelBadge">é—œè¯å¼</span>
                    </div>
                </div>

                <div class="quick-model-tabs" id="quickModelTabs">
                    <!-- æ‰€æœ‰15ç¨®æ•¸æ“šæ¨¡å‹ -->
                    <div class="model-tab active" data-model="relational">
                        <span class="model-icon">ğŸ“Š</span>
                        <span>é—œè¯å¼</span>
                    </div>
                    <div class="model-tab" data-model="json">
                        <span class="model-icon">ğŸ“„</span>
                        <span>JSONæ–‡ä»¶</span>
                    </div>
                    <div class="model-tab" data-model="xml">
                        <span class="model-icon">ğŸ“‹</span>
                        <span>XML</span>
                    </div>
                    <div class="model-tab" data-model="graph">
                        <span class="model-icon">ğŸ”—</span>
                        <span>åœ–å½¢DB</span>
                    </div>
                    <div class="model-tab" data-model="spatial">
                        <span class="model-icon">ğŸ—ºï¸</span>
                        <span>ç©ºé–“è³‡æ–™</span>
                    </div>
                    <div class="model-tab" data-model="blockchain">
                        <span class="model-icon">â›“ï¸</span>
                        <span>å€å¡Šéˆ</span>
                    </div>
                    <div class="model-tab" data-model="keyvalue">
                        <span class="model-icon">ğŸ”‘</span>
                        <span>éµå€¼å„²å­˜</span>
                    </div>
                    <div class="model-tab" data-model="timeseries">
                        <span class="model-icon">ğŸ“ˆ</span>
                        <span>æ™‚é–“åºåˆ—</span>
                    </div>
                    <div class="model-tab" data-model="fulltext">
                        <span class="model-icon">ğŸ”</span>
                        <span>æ–‡å­—æœå°‹</span>
                    </div>
                    <div class="model-tab" data-model="object">
                        <span class="model-icon">ğŸ“¦</span>
                        <span>ç‰©ä»¶é—œè¯</span>
                    </div>
                    <div class="model-tab" data-model="semistructured">
                        <span class="model-icon">ğŸ”€</span>
                        <span>åŠçµæ§‹åŒ–</span>
                    </div>
                    <div class="model-tab" data-model="streaming">
                        <span class="model-icon">ğŸ’§</span>
                        <span>æµè³‡æ–™</span>
                    </div>
                    <div class="model-tab" data-model="inmemory">
                        <span class="model-icon">âš¡</span>
                        <span>è¨˜æ†¶é«”DB</span>
                    </div>
                    <div class="model-tab" data-model="distributed">
                        <span class="model-icon">ğŸŒ</span>
                        <span>åˆ†ä½ˆå¼</span>
                    </div>
                    <div class="model-tab" data-model="multitenant">
                        <span class="model-icon">ğŸ¢</span>
                        <span>å¤šç§Ÿæˆ¶</span>
                    </div>
                </div>

                <!-- æ¨¡å‹èªªæ˜å€åŸŸ -->
                <div id="modelDescription" style="margin-top: 20px; padding: 15px; background: rgba(0, 168, 255, 0.05); border-radius: 10px; border-left: 4px solid var(--secondary);">
                    <div style="font-size: 14px; color: var(--text-secondary); line-height: 1.8;">
                        <div style="font-weight: 600; color: var(--text-primary); margin-bottom: 8px;">
                            <i class="fas fa-info-circle"></i> <span id="modelDescTitle">é—œè¯å¼æ¨¡å‹</span>
                        </div>
                        <div id="modelDescContent">
                            <strong>ç”¨é€”ï¼š</strong>å‚³çµ±çš„é—œè¯å¼æ•¸æ“šåº«ï¼Œä½¿ç”¨è¡¨æ ¼åŸ·è¡Œå’Œåˆ—ä¾†å­˜å„²æ•¸æ“šï¼Œæ”¯æŒ ACID ç‰¹æ€§ã€‚<br>
                            <strong>èªæ³•ï¼š</strong>æ¨™æº– SQL èªæ³• - CREATE TABLE, INSERT, SELECT, UPDATE, DELETE<br>
                            <strong>é©ç”¨å ´æ™¯ï¼š</strong>çµæ§‹åŒ–æ•¸æ“šã€å¤šè¡¨é—œè¯æŸ¥è©¢ã€äº‹å‹™è™•ç†
                        </div>
                    </div>
                </div>
            </div>

            <!-- SQLç·¨è¼¯å™¨å€åŸŸ -->
            <div class="sql-editor-container card">
                <div class="sql-editor-header">
                    <h3><i class="fas fa-terminal"></i> SQLç·¨è¼¯å™¨</h3>
                    <div class="sql-actions">
                        <button id="executeBtn" class="btn btn-primary">
                            <i class="fas fa-play"></i> åŸ·è¡ŒæŸ¥è©¢
                        </button>
                        <button id="clearBtn" class="btn">
                            <i class="fas fa-eraser"></i> æ¸…é™¤
                        </button>
                    </div>
                </div>

                <div class="sql-editor">
                    <div class="sql-input-container">
                        <div style="margin-bottom: 10px; color: var(--text-secondary); font-size: 14px;">
                            <i class="fas fa-info-circle"></i> è¼¸å…¥SQLèªå¥ï¼Œæ¯å¥ä»¥åˆ†è™Ÿ(;)çµæŸï¼Œç„¶å¾Œé»æ“Š"åŸ·è¡ŒæŸ¥è©¢"
                        </div>
                        <textarea id="sqlInput" placeholder="-- è¼¸å…¥SQLæŸ¥è©¢ï¼Œä¾‹å¦‚ï¼šSELECT * FROM employees;&#10;-- æ¯æ¢èªå¥å¿…é ˆä»¥åˆ†è™Ÿ(;)çµæŸ&#10;-- è¼¸å…¥æ¡†ç„¡å­—æ•¸é™åˆ¶"></textarea>
                        <div id="sqlErrorDisplay"></div>
                    </div>

                    <div style="color: var(--text-muted); font-size: 14px; margin-top: 15px;">
                        <div><i class="fas fa-lightbulb"></i> æç¤ºï¼šä½¿ç”¨ Ctrl+Enter å¿«é€ŸåŸ·è¡ŒæŸ¥è©¢ | æ¯æ¢SQLèªå¥å¿…é ˆä»¥ ; çµæŸ</div>
                    </div>
                </div>

                <!-- è¡¨æ ¼é è¦½å€åŸŸ -->
                <div id="tablePreview" class="table-preview-container">
                    <div class="table-preview-header">
                        <div class="table-preview-title">
                            <i class="fas fa-table"></i>
                            <span>å¤šç”¨é€”è³‡æ–™è¡¨é è¦½</span>
                        </div>
                        <div id="tablePreviewBadge" class="table-preview-badge" style="display: none;">
                            <i class="fas fa-check-circle"></i>
                            <span id="previewTableName"></span>
                        </div>
                    </div>
                    <div id="tablePreviewContent" class="table-preview-content">
                        <div class="table-preview-empty">
                            <i class="fas fa-inbox"></i>
                            <p>åŸ·è¡Œ CREATE TABLE æˆ– INSERT èªå¥å¾Œï¼Œé€™è£¡å°‡é¡¯ç¤ºè³‡æ–™è¡¨çš„å®Œæˆå“é è¦½</p>
                            <p style="font-size: 0.9rem; margin-top: 10px; opacity: 0.7;">å»ºè­°ï¼šå…ˆå‰µå»ºè¡¨æ ¼çµæ§‹ï¼Œå†æ’å…¥è³‡æ–™</p>
                        </div>
                    </div>
                </div>

            </div>

            <!-- å®Œæ•´æ•¸æ“šæ¨¡å‹é¢æ¿ (15ç¨®) -->
            <div class="all-models-panel" id="allModelsPanel">
                <h3 style="color: var(--text-primary); margin-bottom: 20px;">
                    <i class="fas fa-layer-group"></i> æ‰€æœ‰æ•¸æ“šæ¨¡å‹ (15ç¨®)
                </h3>
                <div class="models-grid" id="modelsGrid">
                    <!-- æ¨¡å‹å¡ç‰‡å°‡ç”± JavaScript å‹•æ…‹ç”Ÿæˆ -->
                </div>
            </div>

            <!-- è³‡æ–™åº«ç‹€æ…‹é¡¯ç¤ºå€åŸŸ -->
            <div class="result-container card">
                <div class="sql-editor-header">
                    <h3><i class="fas fa-info-circle"></i> åŸ·è¡Œçµæœ</h3>
                    <div>
                        <button id="showTablesBtn" class="btn" style="display: none;">
                            <i class="fas fa-eye"></i> é¡¯ç¤ºè³‡æ–™è¡¨
                        </button>
                    </div>
                </div>

                <div id="output">
                    <div style="text-align: center; padding: 50px 20px; color: var(--text-muted);">
                        <i class="fas fa-database" style="font-size: 48px; margin-bottom: 20px; display: block; opacity: 0.5;"></i>
                        <h3>è³‡æ–™åº«ç‹€æ…‹å°‡é¡¯ç¤ºåœ¨é€™è£¡</h3>
                        <p>è«‹åœ¨å·¦å´ç·¨è¼¯å™¨ä¸­è¼¸å…¥SQLèªå¥ï¼ˆä»¥åˆ†è™Ÿ ; çµæŸï¼‰ä¸¦åŸ·è¡Œ</p>
                    </div>
                </div>

                <!-- ğŸ†• æ–°åŠŸèƒ½å¿«é€Ÿè¨ªå•æç¤º -->
                <div style="margin-top: 20px; padding: 15px; background: linear-gradient(135deg, rgba(0, 255, 204, 0.05), rgba(0, 168, 255, 0.05)); border-radius: 10px; border: 1px solid rgba(0, 168, 255, 0.3);">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                        <i class="fas fa-rocket" style="color: var(--accent); font-size: 18px;"></i>
                        <h4 style="color: var(--accent); margin: 0; font-size: 14px;">âœ¨ è©¦è©¦æ–°åŠŸèƒ½</h4>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px;">
                        <button class="btn" onclick="insertExampleSQL('procedure')" style="font-size: 12px; padding: 8px; background: rgba(0, 204, 136, 0.1); border: 1px solid var(--success);">
                            âš™ï¸ å­˜å„²éç¨‹
                        </button>
                        <button class="btn" onclick="insertExampleSQL('trigger')" style="font-size: 12px; padding: 8px; background: rgba(255, 204, 0, 0.1); border: 1px solid var(--warning);">
                            âš¡ è§¸ç™¼å™¨
                        </button>
                        <button class="btn" onclick="insertExampleSQL('transaction')" style="font-size: 12px; padding: 8px; background: rgba(255, 102, 178, 0.1); border: 1px solid #ff66b2;">
                            ğŸ›¡ï¸ äº‹å‹™ç®¡ç†
                        </button>
                        <button class="btn" onclick="insertExampleSQL('explain')" style="font-size: 12px; padding: 8px; background: rgba(0, 168, 255, 0.1); border: 1px solid var(--info);">
                            ğŸ“Š æ€§èƒ½åˆ†æ
                        </button>
                    </div>
                    <p style="color: var(--text-muted); font-size: 11px; margin: 8px 0 0 0; text-align: center;">
                        ğŸ’¡ ä¸€éµæ’å…¥ç¯„ä¾‹ä»£ç¢¼åˆ°ç·¨è¼¯å™¨
                    </p>
                </div>
            </div>

            <!-- å´é‚ŠåŠŸèƒ½å€åŸŸ -->
            <div class="sidebar">
                <!-- æˆå°±é€²åº¦é¡¯ç¤º - ç·Šæ¹Šç‰ˆ -->
                <div class="card" style="background: linear-gradient(135deg, rgba(255, 102, 178, 0.08), rgba(153, 102, 255, 0.08)); border: 1px solid rgba(255, 102, 178, 0.3); padding: 12px;">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;">
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <i class="fas fa-trophy" style="color: #ff66b2; font-size: 16px;"></i>
                            <span style="color: #ff66b2; font-weight: 600; font-size: 13px;">æˆå°±é€²åº¦</span>
                        </div>
                        <div style="font-size: 18px; font-weight: 700; color: #ff66b2;" id="sidebarAchievements">0/9</div>
                    </div>
                    <button class="btn" onclick="document.getElementById('achievementsBtn').click()" style="width: 100%; font-size: 12px; padding: 8px; background: linear-gradient(135deg, var(--accent), #ff66b2); border: none;">
                        <i class="fas fa-eye"></i> æŸ¥çœ‹æ‰€æœ‰æˆå°±
                    </button>
                </div>

                <!-- å®Œæ•´èªæ³•åƒè€ƒæŒ‰éˆ• -->
                <div class="card" style="margin-top: 15px;">
                    <button id="fullSyntaxBtn" class="btn btn-primary" style="width: 100%;">
                        <i class="fas fa-book"></i> æŸ¥çœ‹å®Œæ•´èªæ³•åƒè€ƒ
                    </button>
                </div>


            </div>
        </div>

    </div>

    <!-- æ–°å»ºæª”æ¡ˆæ¨¡æ…‹æ¡† -->
    <div id="newFileModal" class="modal">
        <div class="modal-content fade-in">
            <div class="modal-header">
                <h2 class="gradient-text">æ–°å»ºè¨“ç·´æª”æ¡ˆ</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="form-group">
                <label class="form-label" for="databaseNameInput">
                    <i class="fas fa-database"></i> è³‡æ–™åº«åç¨±
                </label>
                <input type="text" id="databaseNameInput" class="form-input" placeholder="é è¨­ç‚º Database_Simulator" value="Database_Simulator">
                <div style="margin-top: 5px; color: var(--text-muted); font-size: 0.85em;">
                    ğŸ’¡ å¯è‡ªè¨‚è³‡æ–™åº«åç¨±ï¼Œé è¨­ç‚ºã€ŒDatabase_Simulatorã€
                </div>
            </div>
            <div class="form-group">
                <label class="form-label" for="usernameInput">
                    <i class="fas fa-user-circle"></i> ä½¿ç”¨è€…åç¨±
                </label>
                <input type="text" id="usernameInput" class="form-input" placeholder="è«‹è¼¸å…¥ä½¿ç”¨è€…åç¨±" value="">
                <div style="margin-top: 5px; color: var(--text-muted); font-size: 0.85em;">
                    âš ï¸ ä½¿ç”¨è€…åï¿½ï¿½ï¿½ç‚ºå¿…å¡«é …ç›®
                </div>
            </div>
            <button id="createFileBtn" class="btn btn-primary" style="width: 100%; padding: 18px; margin-top: 20px;">
                <i class="fas fa-plus"></i> ã€å§‹ç·´ç¿’
            </button>
        </div>
    </div>

    <!-- è¤‡ç¿’æ¸¬é©—æ¨¡æ…‹æ¡† -->
    <div id="quizModal" class="modal">
        <div class="modal-content" style="max-width: 900px; max-height: 90vh; overflow-y: auto;">
            <div class="modal-header">
                <h2 class="gradient-text"><i class="fas fa-question-circle"></i> ğŸ“ è¤‡ç¿’è³‡æ–™åº«æ¸¬é©—</h2>
                <button class="close-modal">&times;</button>
            </div>

            <!-- æ¸¬é©—èªªæ˜ -->
            <div id="quizIntro" style="padding: 20px; background: linear-gradient(135deg, rgba(255, 107, 157, 0.1), rgba(192, 108, 132, 0.1)); border-radius: 12px; margin-bottom: 20px;">
                <h3 style="color: var(--accent); margin-bottom: 15px;">ğŸ“š æ¸¬é©—èªªæ˜</h3>
                <ul style="color: var(--text-secondary); line-height: 1.8; margin-left: 20px;">
                    <li>âœ… å…±100é“é¸æ“‡é¡Œï¼Œæ¶µè“‹è³‡æ–™åº«æ ¸å¿ƒçŸ¥è­˜</li>
                    <li>â±ï¸ å»ºè­°æ™‚é–“ï¼š60-90åˆ†é˜ï¼ˆä¸é™æ™‚ï¼‰</li>
                    <li>ğŸ¯ é¡Œç›®åŒ…å«ï¼šDDLã€DMLã€DQLã€äº‹å‹™ã€ç´¢å¼•ã€å„ªåŒ–ç­‰</li>
                    <li>ğŸ“Š å®Œæˆå¾Œæœƒé¡¯ç¤ºè©³ç´°æˆç¸¾å’ŒéŒ¯é¡Œè§£æ</li>
                    <li>ğŸ”„ å¯é‡è¤‡æ¸¬é©—ï¼Œéå›ºçŸ¥è­˜</li>
                </ul>
                <div style="text-align: center; margin-top: 20px;">
                    <button id="startQuizBtn" class="btn btn-primary" style="font-size: 1.1rem; padding: 14px 40px;">
                        <i class="fas fa-play"></i> é–‹å§‹æ¸¬é©—
                    </button>
                </div>
            </div>

            <!-- æ¸¬é©—å…§å®¹ -->
            <div id="quizContent" style="display: none;">
                <!-- é€²åº¦æ¢ -->
                <div style="margin-bottom: 25px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                        <span style="font-size: 1.1rem; font-weight: 600;">é¡Œç›® <span id="currentQuestionNum">1</span> / 100</span>
                        <span style="color: var(--text-secondary);">å·²ç­”ï¼š<span id="answeredCount">0</span> é¡Œ</span>
                    </div>
                    <div style="width: 100%; height: 8px; background: rgba(0, 168, 255, 0.2); border-radius: 4px; overflow: hidden;">
                        <div id="quizProgress" style="width: 1%; height: 100%; background: var(--gradient-primary); transition: width 0.3s ease;"></div>
                    </div>
                </div>

                <!-- é¡Œç›®é¡¯ç¤º -->
                <div id="questionDisplay" style="padding: 25px; background: rgba(0, 168, 255, 0.05); border-radius: 12px; border-left: 4px solid var(--accent); margin-bottom: 25px;">
                    <h3 id="questionText" style="color: var(--text-primary); margin-bottom: 20px; line-height: 1.6;"></h3>
                    <div id="optionsContainer"></div>
                </div>

                <!-- å°èˆªæŒ‰éˆ• -->
                <div style="display: flex; justify-content: space-between; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <button id="prevQuestionBtn" class="btn" style="flex: 1; min-width: 150px;">
                        <i class="fas fa-arrow-left"></i> ä¸Šä¸€é¡Œ
                    </button>
                    <button id="nextQuestionBtn" class="btn btn-primary" style="flex: 1; min-width: 150px;">
                        ä¸‹ä¸€é¡Œ <i class="fas fa-arrow-right"></i>
                    </button>
                    <button id="submitQuizBtn" class="btn" style="flex: 1; min-width: 150px; background: linear-gradient(135deg, #00cc88, #00aa66); border: none; display: none;">
                        <i class="fas fa-check-circle"></i> æäº¤æ¸¬é©—
                    </button>
                </div>
            </div>

            <!-- æ¸¬é©—çµæœ -->
            <div id="quizResults" style="display: none;">
                <div style="text-align: center; padding: 30px; background: linear-gradient(135deg, rgba(0, 204, 136, 0.1), rgba(0, 168, 255, 0.1)); border-radius: 12px; margin-bottom: 20px;">
                    <h2 style="font-size: 2.5rem; margin-bottom: 15px;" id="quizScoreDisplay"></h2>
                    <p style="font-size: 1.3rem; color: var(--text-secondary);" id="quizResultMessage"></p>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 25px;">
                    <div style="padding: 20px; background: rgba(0, 204, 136, 0.1); border-radius: 10px; text-align: center;">
                        <div style="font-size: 2rem; color: var(--success); margin-bottom: 5px;" id="correctCount">0</div>
                        <div style="color: var(--text-secondary);">ç­”å°é¡Œæ•¸</div>
                    </div>
                    <div style="padding: 20px; background: rgba(255, 51, 102, 0.1); border-radius: 10px; text-align: center;">
                        <div style="font-size: 2rem; color: var(--error); margin-bottom: 5px;" id="wrongCount">0</div>
                        <div style="color: var(--text-secondary);">ç­”éŒ¯é¡Œæ•¸</div>
                    </div>
                    <div style="padding: 20px; background: rgba(255, 204, 0, 0.1); border-radius: 10px; text-align: center;">
                        <div style="font-size: 2rem; color: var(--warning); margin-bottom: 5px;" id="accuracyRate">0%</div>
                        <div style="color: var(--text-secondary);">æ­£ç¢ºç‡</div>
                    </div>
                </div>

                <div style="text-align: center;">
                    <button id="retakeQuizBtn" class="btn btn-primary" style="margin-right: 15px;">
                        <i class="fas fa-redo"></i> é‡æ–°æ¸¬é©—
                    </button>
                    <button id="reviewWrongBtn" class="btn" style="background: linear-gradient(135deg, rgba(255, 51, 102, 0.3), rgba(255, 102, 153, 0.3));">
                        <i class="fas fa-list"></i> æŸ¥çœ‹éŒ¯é¡Œ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- æˆå°±ç³»çµ±æ¨¡æ…‹æ¡† -->
    <div id="achievementsModal" class="modal">
        <div class="modal-content fade-in" style="max-width: 900px; max-height: 90vh; overflow-y: auto;">
            <div class="modal-header">
                <h2 class="gradient-text"><i class="fas fa-trophy"></i> ğŸ† æˆ‘çš„æˆå°±</h2>
                <button class="close-modal">&times;</button>
            </div>

            <div id="achievementsContent" style="padding: 20px;">
                <!-- ç¸½é«”é€²åº¦ -->
                <div style="margin-bottom: 30px; padding: 20px; background: linear-gradient(135deg, rgba(0, 255, 204, 0.1), rgba(0, 168, 255, 0.1)); border-radius: 16px; border: 2px solid var(--accent);">
                    <h3 style="color: var(--accent); margin-bottom: 15px;"><i class="fas fa-chart-line"></i> å­¸ç¿’é€²åº¦ç¸½è¦½</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                        <div style="text-align: center; padding: 15px; background: rgba(0, 168, 255, 0.1); border-radius: 10px;">
                            <div style="font-size: 32px; font-weight: 700; color: var(--accent);" id="totalAchievements">0/9</div>
                            <div style="font-size: 14px; color: var(--text-secondary); margin-top: 5px;">å·²è§£é–æˆå°±</div>
                        </div>
                        <div style="text-align: center; padding: 15px; background: rgba(0, 204, 136, 0.1); border-radius: 10px;">
                            <div style="font-size: 32px; font-weight: 700; color: var(--success);" id="sqlExecutions">0</div>
                            <div style="font-size: 14px; color: var(--text-secondary); margin-top: 5px;">SQL åŸ·è¡Œæ¬¡æ•¸</div>
                        </div>
                        <div style="text-align: center; padding: 15px; background: rgba(255, 204, 0, 0.1); border-radius: 10px;">
                            <div style="font-size: 32px; font-weight: 700; color: var(--warning);" id="tablesCreated">0</div>
                            <div style="font-size: 14px; color: var(--text-secondary); margin-top: 5px;">å‰µå»ºè¡¨æ ¼æ•¸</div>
                        </div>
                        <div style="text-align: center; padding: 15px; background: rgba(255, 102, 178, 0.1); border-radius: 10px;">
                            <div style="font-size: 32px; font-weight: 700; color: #ff66b2;" id="joinsPerformed">0</div>
                            <div style="font-size: 14px; color: var(--text-secondary); margin-top: 5px;">JOIN æŸ¥è©¢æ¬¡æ•¸</div>
                        </div>
                    </div>
                </div>

                <!-- æˆå°±åˆ—è¡¨ -->
                <h3 style="color: var(--text-primary); margin-bottom: 20px;"><i class="fas fa-award"></i> æˆå°±å¾½ç« </h3>
                <div id="achievementsList" style="display: grid; gap: 15px;">
                    <!-- å‹•æ…‹ç”Ÿæˆæˆå°±å¡ç‰‡ -->
                </div>
            </div>
        </div>
    </div>

    <!-- æµç¨‹åœ–æ¨¡æ…‹æ¡† -->
    <div id="flowchartModal" class="modal">
        <div class="modal-content fade-in" style="max-width: 1400px; max-height: 95vh; overflow-y: auto;">
            <div class="modal-header">
                <h2 class="gradient-text">ğŸ“Š æ¨¡æ“¬è³‡æ–™åº«æµç¨‹åœ–</h2>
                <button class="close-modal">&times;</button>
            </div>

            <!-- ç¸½è¦½èªªæ˜ -->
            <div style="margin-bottom: 30px; padding: 20px; background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(0, 153, 255, 0.1)); border-radius: 12px; border-left: 5px solid #00d4ff;">
                <h3 style="color: #00d4ff; margin-bottom: 12px;"><i class="fas fa-info-circle"></i> ç³»çµ±æ¶æ§‹ç¸½è¦½</h3>
                <p style="color: var(--text-primary); line-height: 1.8; font-size: 1.05rem;">
                    æœ¬æ¨¡æ“¬å™¨æ¡ç”¨<strong>ç€è¦½å™¨ç«¯æ¨¡æ“¬æ¶æ§‹</strong>ï¼Œä½¿ç”¨ JavaScript å¯¦ç¾å®Œæ•´çš„ Oracle è³‡æ–™åº«åŠŸèƒ½ï¼Œ
                    æ‰€æœ‰æ•¸æ“šå­˜å„²æ–¼<strong>ç€è¦½å™¨å…§å­˜</strong>ä¸­ã€‚ä»¥ä¸‹æµç¨‹åœ–å±•ç¤ºäº†ç³»çµ±çš„å®Œæ•´é‹ä½œæµç¨‹ã€‚
                </p>
            </div>

                        <!-- ä¸»æµç¨‹åœ– -->
            <div style="margin-bottom: 40px;">
                <h3 style="color: var(--accent); margin-bottom: 20px; text-align: center; font-size: 1.5rem;">
                    <i class="fas fa-sitemap"></i> æ ¸å¿ƒåŸ·è¡Œæµç¨‹
                </h3>

                <!-- æç¤ºå€åŸŸ -->
                <div style="text-align: center; margin-bottom: 15px; padding: 12px; background: rgba(0, 212, 255, 0.1); border-radius: 8px;">
                    <p style="color: var(--text-secondary); font-size: 0.95rem;">
                        <i class="fas fa-mouse-pointer"></i> é›»è…¦ä¸Šå¯ç”¨<strong>æ»‘é¼ æ»¾è¼ª</strong>ç¸®æ”¾ï¼Œæ‰‹æ©Ÿä¸Šå¯ç”¨<strong>é›™æŒ‡ç¸®æ”¾</strong>æŸ¥çœ‹ç´°ç¯€
                    </p>
                </div>

                <div style="background: rgba(0, 0, 0, 0.2); padding: 20px; border-radius: 16px; position: relative; overflow: auto; max-height: 900px;">
                    <!-- SVG å®¹å™¨æ”¯æ´ç¸®æ”¾ -->
                    <div id="flowchartContainer" style="transform-origin: center top; transition: transform 0.3s ease; min-width: 100%; cursor: grab;">
                        <svg width="100%" viewBox="0 0 1000 1600" style="max-width: 100%; height: auto; min-height: 800px;" preserveAspectRatio="xMidYMid meet">
                            <defs>
                                <linearGradient id="flowGrad1" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#00d4ff;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#0099ff;stop-opacity:1" />
                                </linearGradient>
                                <linearGradient id="flowGrad2" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#00ff7f;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#00cc88;stop-opacity:1" />
                                </linearGradient>
                                <linearGradient id="flowGrad3" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#ffcc00;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#ff9900;stop-opacity:1" />
                                </linearGradient>
                                <linearGradient id="flowGrad4" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#ff66b2;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#ff3385;stop-opacity:1" />
                                </linearGradient>
                                <marker id="flowArrow" markerWidth="12" markerHeight="12" refX="10" refY="4" orient="auto">
                                    <polygon points="0 0, 12 4, 0 8" fill="#00ffcc" />
                                </marker>
                            </defs>

                            <!-- é–‹å§‹ç¯€é» -->
                            <ellipse cx="500" cy="60" rx="140" ry="45" fill="url(#flowGrad1)" stroke="#00d4ff" stroke-width="3"/>
                            <text x="500" y="70" text-anchor="middle" fill="white" font-size="22" font-weight="bold">ğŸš€ é–‹å§‹ä½¿ç”¨</text>

                            <!-- ç®­é ­1 -->
                            <line x1="500" y1="105" x2="500" y2="170" stroke="#00ffcc" stroke-width="3" marker-end="url(#flowArrow)"/>

                            <!-- 1. SQL è¼¸å…¥ -->
                            <rect x="350" y="170" width="300" height="100" rx="15" fill="url(#flowGrad1)" stroke="#00d4ff" stroke-width="3"/>
                            <text x="500" y="205" text-anchor="middle" fill="white" font-size="20" font-weight="bold">1ï¸âƒ£ ç”¨æˆ¶è¼¸å…¥ SQL</text>
                            <text x="500" y="235" text-anchor="middle" fill="white" font-size="16">ç·¨å¯«æŸ¥è©¢èªå¥</text>
                            <text x="500" y="255" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="13">æ”¯æ´å¤šæ¢èªå¥æ‰¹æ¬¡åŸ·è¡Œ</text>

                            <!-- ç®­é ­2 -->
                            <line x1="500" y1="270" x2="500" y2="340" stroke="#00ffcc" stroke-width="3" marker-end="url(#flowArrow)"/>

                            <!-- 2. èªæ³•æª¢æŸ¥ -->
                            <rect x="350" y="340" width="300" height="100" rx="15" fill="url(#flowGrad2)" stroke="#00ff7f" stroke-width="3"/>
                            <text x="500" y="375" text-anchor="middle" fill="white" font-size="20" font-weight="bold">2ï¸âƒ£ æ™ºèƒ½èªæ³•æª¢æŸ¥</text>
                            <text x="500" y="405" text-anchor="middle" fill="white" font-size="16">18ç¨®éŒ¯èª¤é¡å‹è¨ºæ–·</text>
                            <text x="500" y="425" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="13">æä¾›ä¿®æ­£å»ºè­°</text>

                            <!-- ç®­é ­3 -->
                            <line x1="500" y1="440" x2="500" y2="510" stroke="#00ffcc" stroke-width="3" marker-end="url(#flowArrow)"/>

                            <!-- åˆ¤æ–·ç¯€é» -->
                            <path d="M 500 510 L 620 580 L 500 650 L 380 580 Z" fill="url(#flowGrad3)" stroke="#ffcc00" stroke-width="3"/>
                            <text x="500" y="575" text-anchor="middle" fill="white" font-size="19" font-weight="bold">èªæ³•æ­£ç¢º?</text>
                            <text x="500" y="600" text-anchor="middle" fill="rgba(255,255,255,0.9)" font-size="14">æª¢æŸ¥çµæ§‹ã€ç´„æŸ</text>

                            <!-- éŒ¯èª¤è·¯å¾‘ -->
                            <line x1="620" y1="580" x2="780" y2="580" stroke="#ff6666" stroke-width="3" marker-end="url(#flowArrow)"/>
                            <text x="700" y="565" text-anchor="middle" fill="#ff6666" font-size="17" font-weight="bold">âœ— å¦</text>

                            <rect x="780" y="530" width="200" height="100" rx="15" fill="#ff6666" stroke="#ff3333" stroke-width="3"/>
                            <text x="880" y="565" text-anchor="middle" fill="white" font-size="18" font-weight="bold">âŒ é¡¯ç¤ºéŒ¯èª¤</text>
                            <text x="880" y="590" text-anchor="middle" fill="white" font-size="14">ä¸­æ–‡éŒ¯èª¤èªªæ˜</text>
                            <text x="880" y="610" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="12">æä¾›3æ¢ä¿®æ­£å»ºè­°</text>

                            <!-- æ­£ç¢ºè·¯å¾‘ -->
                            <line x1="500" y1="650" x2="500" y2="720" stroke="#00ffcc" stroke-width="3" marker-end="url(#flowArrow)"/>
                            <text x="540" y="690" text-anchor="start" fill="#00ff7f" font-size="17" font-weight="bold">âœ“ æ˜¯</text>

                            <!-- 3. SQL è§£æ -->
                            <rect x="350" y="720" width="300" height="100" rx="15" fill="url(#flowGrad1)" stroke="#00d4ff" stroke-width="3"/>
                            <text x="500" y="755" text-anchor="middle" fill="white" font-size="20" font-weight="bold">3ï¸âƒ£ SQL è§£æ</text>
                            <text x="500" y="785" text-anchor="middle" fill="white" font-size="16">åˆ†æèªå¥é¡å‹</text>
                            <text x="500" y="805" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="13">DDL/DML/DQL/DCL/PL-SQL</text>

                            <!-- ç®­é ­4 -->
                            <line x1="500" y1="820" x2="500" y2="890" stroke="#00ffcc" stroke-width="3" marker-end="url(#flowArrow)"/>

                            <!-- 4. åŸ·è¡Œå¼•æ“ -->
                            <rect x="330" y="890" width="340" height="120" rx="15" fill="url(#flowGrad4)" stroke="#ff66b2" stroke-width="4"/>
                            <text x="500" y="930" text-anchor="middle" fill="white" font-size="22" font-weight="bold">4ï¸âƒ£ åŸ·è¡Œå¼•æ“</text>
                            <text x="500" y="960" text-anchor="middle" fill="white" font-size="16">è³‡æ–™åº«æ ¸å¿ƒè™•ç†</text>
                            <text x="500" y="985" text-anchor="middle" fill="rgba(255,255,255,0.9)" font-size="14">äº‹å‹™ç®¡ç† + ç´„æŸé©—è­‰ + ç´¢å¼•å„ªåŒ–</text>

                            <!-- åˆ†æ”¯åˆ°ä¸åŒæ“ä½œé¡å‹ -->
                            <line x1="300" y1="950" x2="100" y2="1080" stroke="#00ffcc" stroke-width="3" marker-end="url(#flowArrow)"/>
                            <line x1="500" y1="1010" x2="500" y2="1080" stroke="#00ffcc" stroke-width="3" marker-end="url(#flowArrow)"/>
                            <line x1="700" y1="950" x2="900" y2="1080" stroke="#00ffcc" stroke-width="3" marker-end="url(#flowArrow)"/>

                            <!-- DDL: CREATE/ALTER/DROP -->
                            <rect x="0" y="1080" width="200" height="90" rx="12" fill="#9966ff" stroke="#7744dd" stroke-width="3"/>
                            <text x="100" y="1110" text-anchor="middle" fill="white" font-size="17" font-weight="bold">DDL è³‡æ–™å®šç¾©</text>
                            <text x="100" y="1135" text-anchor="middle" fill="white" font-size="14">CREATE/ALTER</text>
                            <text x="100" y="1155" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="12">DROP TABLE/VIEW</text>

                            <!-- DML: INSERT/UPDATE/DELETE -->
                            <rect x="400" y="1080" width="200" height="90" rx="12" fill="#00cc88" stroke="#00aa66" stroke-width="3"/>
                            <text x="500" y="1110" text-anchor="middle" fill="white" font-size="17" font-weight="bold">DML è³‡æ–™æ“ä½œ</text>
                            <text x="500" y="1135" text-anchor="middle" fill="white" font-size="14">INSERT/UPDATE</text>
                            <text x="500" y="1155" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="12">DELETE æ•¸æ“š</text>

                            <!-- DQL: SELECT/JOIN -->
                            <rect x="800" y="1080" width="200" height="90" rx="12" fill="#3399ff" stroke="#0066cc" stroke-width="3"/>
                            <text x="900" y="1110" text-anchor="middle" fill="white" font-size="17" font-weight="bold">DQL è³‡æ–™æŸ¥è©¢</text>
                            <text x="900" y="1135" text-anchor="middle" fill="white" font-size="14">SELECT/JOIN</text>
                            <text x="900" y="1155" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="12">èšåˆå‡½æ•¸</text>

                            <!-- åŒ¯èšåˆ°çµæœè™•ç† -->
                            <line x1="100" y1="1170" x2="500" y2="1250" stroke="#00ffcc" stroke-width="3" marker-end="url(#flowArrow)"/>
                            <line x1="500" y1="1170" x2="500" y2="1250" stroke="#00ffcc" stroke-width="3" marker-end="url(#flowArrow)"/>
                            <line x1="900" y1="1170" x2="500" y2="1250" stroke="#00ffcc" stroke-width="3" marker-end="url(#flowArrow)"/>

                            <!-- 5. çµæœè™•ç† -->
                            <rect x="350" y="1250" width="300" height="100" rx="15" fill="url(#flowGrad2)" stroke="#00ff7f" stroke-width="3"/>
                            <text x="500" y="1285" text-anchor="middle" fill="white" font-size="20" font-weight="bold">5ï¸âƒ£ çµæœè™•ç†</text>
                            <text x="500" y="1315" text-anchor="middle" fill="white" font-size="16">æ ¼å¼åŒ–è¼¸å‡º</text>
                            <text x="500" y="1335" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="13">è¡¨æ ¼ + è¦–è¦ºåŒ–åœ–è¡¨</text>

                            <!-- ç®­é ­5 -->
                            <line x1="500" y1="1350" x2="500" y2="1420" stroke="#00ffcc" stroke-width="3" marker-end="url(#flowArrow)"/>

                            <!-- çµæŸç¯€é» -->
                            <ellipse cx="500" cy="1480" rx="140" ry="45" fill="url(#flowGrad2)" stroke="#00ff7f" stroke-width="3"/>
                            <text x="500" y="1490" text-anchor="middle" fill="white" font-size="22" font-weight="bold">âœ… é¡¯ç¤ºçµæœ</text>
                        </svg>
                    </div>
                </div>

                <!-- æ·»åŠ ç¸®æ”¾è…³æœ¬ -->
                <script>
                (function() {
                    const container = document.getElementById('flowchartContainer');
                    if (!container) return;

                    let scale = 1;
                    const minScale = 0.5;
                    const maxScale = 2.5;

                    // æ»‘é¼ æ»¾è¼ªç¸®æ”¾ï¼ˆåƒ…æ¡Œé¢ï¼‰
                    container.parentElement.addEventListener('wheel', (e) => {
                        if (window.innerWidth > 768) { // åƒ…åœ¨æ¡Œé¢å•Ÿç”¨
                            e.preventDefault();
                            const delta = e.deltaY > 0 ? -0.1 : 0.1;
                            scale = Math.min(Math.max(scale + delta, minScale), maxScale);
                            container.style.transform = `scale(${scale})`;
                        }
                    }, { passive: false });
                })();
                </script>
            </div>

            <!-- åŠŸèƒ½åˆ†é¡è…¦åœ– -->
            <div style="margin-bottom: 40px;">
                <h3 style="color: var(--accent); margin-bottom: 20px; text-align: center; font-size: 1.5rem;">
                    <i class="fas fa-brain"></i> åŠŸèƒ½åˆ†é¡è…¦åœ–
                </h3>
                <div class="flowchart-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px;">

                    <!-- DDL åˆ†æ”¯ -->
                    <div style="background: linear-gradient(135deg, rgba(153, 102, 255, 0.1), rgba(119, 68, 221, 0.1)); padding: 25px; border-radius: 16px; border-left: 5px solid #9966ff;">
                        <h4 style="color: #9966ff; margin-bottom: 15px; font-size: 1.2rem;"><i class="fas fa-database"></i> DDL - è³‡æ–™å®šç¾©èªè¨€</h4>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <div style="background: rgba(153, 102, 255, 0.2); padding: 12px; border-radius: 8px;">
                                <strong style="color: var(--text-primary);">CREATE</strong>
                                <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 5px;">TABLE, VIEW, INDEX, SEQUENCE, SYNONYM, PACKAGE, TABLESPACE</p>
                            </div>
                            <div style="background: rgba(153, 102, 255, 0.2); padding: 12px; border-radius: 8px;">
                                <strong style="color: var(--text-primary);">ALTER</strong>
                                <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 5px;">ADD COLUMN, MODIFY, DROP COLUMN</p>
                            </div>
                            <div style="background: rgba(153, 102, 255, 0.2); padding: 12px; border-radius: 8px;">
                                <strong style="color: var(--text-primary);">DROP</strong>
                                <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 5px;">åˆªé™¤è³‡æ–™åº«ç‰©ä»¶</p>
                            </div>
                        </div>
                    </div>

                    <!-- DML åˆ†æ”¯ -->
                    <div style="background: linear-gradient(135deg, rgba(0, 204, 136, 0.1), rgba(0, 170, 102, 0.1)); padding: 25px; border-radius: 16px; border-left: 5px solid #00cc88;">
                        <h4 style="color: #00cc88; margin-bottom: 15px; font-size: 1.2rem;"><i class="fas fa-edit"></i> DML - è³‡æ–™æ“ä½œèªè¨€</h4>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <div style="background: rgba(0, 204, 136, 0.2); padding: 12px; border-radius: 8px;">
                                <strong style="color: var(--text-primary);">INSERT</strong>
                                <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 5px;">æ–°å¢æ•¸æ“šï¼Œæ”¯æ´ NEXTVAL/CURRVAL</p>
                            </div>
                            <div style="background: rgba(0, 204, 136, 0.2); padding: 12px; border-radius: 8px;">
                                <strong style="color: var(--text-primary);">UPDATE</strong>
                                <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 5px;">æ›´æ–°æ•¸æ“šï¼Œæ”¯æ´ WHERE æ¢ä»¶</p>
                            </div>
                            <div style="background: rgba(0, 204, 136, 0.2); padding: 12px; border-radius: 8px;">
                                <strong style="color: var(--text-primary);">DELETE</strong>
                                <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 5px;">åˆªé™¤æ•¸æ“šï¼Œæ”¯æ´æ¢ä»¶éæ¿¾</p>
                            </div>
                        </div>
                    </div>

                    <!-- DQL åˆ†æ”¯ -->
                    <div style="background: linear-gradient(135deg, rgba(51, 153, 255, 0.1), rgba(0, 102, 204, 0.1)); padding: 25px; border-radius: 16px; border-left: 5px solid #3399ff;">
                        <h4 style="color: #3399ff; margin-bottom: 15px; font-size: 1.2rem;"><i class="fas fa-search"></i> DQL - è³‡æ–™æŸ¥è©¢èªè¨€</h4>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <div style="background: rgba(51, 153, 255, 0.2); padding: 12px; border-radius: 8px;">
                                <strong style="color: var(--text-primary);">SELECT</strong>
                                <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 5px;">åŸºæœ¬æŸ¥è©¢ï¼ŒWHERE, ORDER BY, GROUP BY</p>
                            </div>
                            <div style="background: rgba(51, 153, 255, 0.2); padding: 12px; border-radius: 8px;">
                                <strong style="color: var(--text-primary);">JOIN</strong>
                                <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 5px;">INNER, LEFT, RIGHT JOIN</p>
                            </div>
                            <div style="background: rgba(51, 153, 255, 0.2); padding: 12px; border-radius: 8px;">
                                <strong style="color: var(--text-primary);">èšåˆå‡½æ•¸</strong>
                                <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 5px;">COUNT, SUM, AVG, MAX, MIN</p>
                            </div>
                        </div>
                    </div>

                    <!-- PL/SQL åˆ†æ”¯ -->
                    <div style="background: linear-gradient(135deg, rgba(255, 102, 178, 0.1), rgba(255, 51, 133, 0.1)); padding: 25px; border-radius: 16px; border-left: 5px solid #ff66b2;">
                        <h4 style="color: #ff66b2; margin-bottom: 15px; font-size: 1.2rem;"><i class="fas fa-cogs"></i> PL/SQL - ç¨‹åºåŒ–èªè¨€</h4>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <div style="background: rgba(255, 102, 178, 0.2); padding: 12px; border-radius: 8px;">
                                <strong style="color: var(--text-primary);">PROCEDURE</strong>
                                <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 5px;">å­˜å„²éç¨‹ï¼Œå°è£æ¥­å‹™é‚è¼¯</p>
                            </div>
                            <div style="background: rgba(255, 102, 178, 0.2); padding: 12px; border-radius: 8px;">
                                <strong style="color: var(--text-primary);">FUNCTION</strong>
                                <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 5px;">å‡½æ•¸ï¼Œè¿”å›è¨ˆç®—çµæœ</p>
                            </div>
                            <div style="background: rgba(255, 102, 178, 0.2); padding: 12px; border-radius: 8px;">
                                <strong style="color: var(--text-primary);">TRIGGER</strong>
                                <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 5px;">è§¸ç™¼å™¨ï¼Œè‡ªå‹•åŸ·è¡Œæ“ä½œ</p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- æ•¸æ“šæ¨¡å‹åˆ†é¡ -->
            <div style="margin-bottom: 40px;">
                <h3 style="color: var(--accent); margin-bottom: 20px; text-align: center; font-size: 1.5rem;">
                    <i class="fas fa-layer-group"></i> 15ç¨®æ•¸æ“šæ¨¡å‹åˆ†é¡
                </h3>
                <div style="background: rgba(0, 0, 0, 0.2); padding: 25px; border-radius: 16px;">
                    <div class="models-grid-3col" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
                        <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, rgba(0, 168, 255, 0.15), rgba(0, 102, 204, 0.15)); border-radius: 10px; border: 2px solid #00a8ff;">
                            <div style="font-size: 2rem; margin-bottom: 8px;">ğŸ“Š</div>
                            <strong style="color: var(--text-primary);">é—œè¯å¼</strong>
                            <p style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px;">è¡¨æ ¼çµæ§‹</p>
                        </div>
                        <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, rgba(255, 204, 0, 0.15), rgba(255, 153, 0, 0.15)); border-radius: 10px; border: 2px solid #ffcc00;">
                            <div style="font-size: 2rem; margin-bottom: 8px;">ğŸ“„</div>
                            <strong style="color: var(--text-primary);">JSON</strong>
                            <p style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px;">æ–‡ä»¶å­˜å„²</p>
                        </div>
                        <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, rgba(255, 153, 0, 0.15), rgba(255, 102, 0, 0.15)); border-radius: 10px; border: 2px solid #ff9900;">
                            <div style="font-size: 2rem; margin-bottom: 8px;">ğŸ“‹</div>
                            <strong style="color: var(--text-primary);">XML</strong>
                            <p style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px;">æ¨™ç±¤çµæ§‹</p>
                        </div>
                        <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, rgba(0, 255, 127, 0.15), rgba(0, 204, 102, 0.15)); border-radius: 10px; border: 2px solid #00ff7f;">
                            <div style="font-size: 2rem; margin-bottom: 8px;">ğŸ”—</div>
                            <strong style="color: var(--text-primary);">åœ–å½¢</strong>
                            <p style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px;">ç¯€é»é—œä¿‚</p>
                        </div>
                        <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, rgba(51, 153, 255, 0.15), rgba(0, 204, 255, 0.15)); border-radius: 10px; border: 2px solid #3399ff;">
                            <div style="font-size: 2rem; margin-bottom: 8px;">ğŸ—ºï¸</div>
                            <strong style="color: var(--text-primary);">ç©ºé–“</strong>
                            <p style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px;">åœ°ç†æ•¸æ“š</p>
                        </div>
                        <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, rgba(255, 99, 71, 0.15), rgba(255, 69, 0, 0.15)); border-radius: 10px; border: 2px solid #ff6347;">
                            <div style="font-size: 2rem; margin-bottom: 8px;">â›“ï¸</div>
                            <strong style="color: var(--text-primary);">å€å¡Šéˆ</strong>
                            <p style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px;">éˆå¼å­˜å„²</p>
                        </div>
                        <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, rgba(255, 102, 178, 0.15), rgba(255, 51, 153, 0.15)); border-radius: 10px; border: 2px solid #ff66b2;">
                            <div style="font-size: 2rem; margin-bottom: 8px;">ğŸ”‘</div>
                            <strong style="color: var(--text-primary);">éµå€¼</strong>
                            <p style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px;">Key-Value</p>
                        </div>
                        <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, rgba(0, 204, 136, 0.15), rgba(0, 255, 154, 0.15)); border-radius: 10px; border: 2px solid #00cc88;">
                            <div style="font-size: 2rem; margin-bottom: 8px;">ğŸ“ˆ</div>
                            <strong style="color: var(--text-primary);">æ™‚é–“åºåˆ—</strong>
                            <p style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px;">æ™‚åºæ•¸æ“š</p>
                        </div>
                        <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, rgba(0, 255, 127, 0.15), rgba(0, 250, 154, 0.15)); border-radius: 10px; border: 2px solid #00ff7f;">
                            <div style="font-size: 2rem; margin-bottom: 8px;">ğŸ”</div>
                            <strong style="color: var(--text-primary);">å…¨æ–‡æª¢ç´¢</strong>
                            <p style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px;">æ–‡æœ¬æœç´¢</p>
                        </div>
                        <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, rgba(255, 20, 147, 0.15), rgba(199, 21, 133, 0.15)); border-radius: 10px; border: 2px solid #ff1493;">
                            <div style="font-size: 2rem; margin-bottom: 8px;">ğŸ“¦</div>
                            <strong style="color: var(--text-primary);">ç‰©ä»¶</strong>
                            <p style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px;">OOPæ¨¡å‹</p>
                        </div>
                        <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, rgba(64, 224, 208, 0.15), rgba(72, 209, 204, 0.15)); border-radius: 10px; border: 2px solid #40e0d0;">
                            <div style="font-size: 2rem; margin-bottom: 8px;">ğŸ”€</div>
                            <strong style="color: var(--text-primary);">åŠçµæ§‹åŒ–</strong>
                            <p style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px;">å½ˆæ€§çµæ§‹</p>
                        </div>
                        <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 223, 0, 0.15)); border-radius: 10px; border: 2px solid #ffd700;">
                            <div style="font-size: 2rem; margin-bottom: 8px;">ğŸ’§</div>
                            <strong style="color: var(--text-primary);">ä¸²æµ</strong>
                            <p style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px;">å¯¦æ™‚æ•¸æ“š</p>
                        </div>
                        <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, rgba(147, 112, 219, 0.15), rgba(138, 43, 226, 0.15)); border-radius: 10px; border: 2px solid #9370db;">
                            <div style="font-size: 2rem; margin-bottom: 8px;">âš¡</div>
                            <strong style="color: var(--text-primary);">å…§å­˜</strong>
                            <p style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px;">æ¥µé€Ÿè®€å¯«</p>
                        </div>
                        <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, rgba(30, 144, 255, 0.15), rgba(65, 105, 225, 0.15)); border-radius: 10px; border: 2px solid #1e90ff;">
                            <div style="font-size: 2rem; margin-bottom: 8px;">ğŸŒ</div>
                            <strong style="color: var(--text-primary);">åˆ†æ•£å¼</strong>
                            <p style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px;">åˆ†å¸ƒå­˜å„²</p>
                        </div>
                        <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, rgba(255, 140, 0, 0.15), rgba(255, 165, 0, 0.15)); border-radius: 10px; border: 2px solid #ff8c00;">
                            <div style="font-size: 2rem; margin-bottom: 8px;">ğŸ¢</div>
                            <strong style="color: var(--text-primary);">å¤šç§Ÿæˆ¶</strong>
                            <p style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px;">æ•¸æ“šéš”é›¢</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- æ“ä½œæµç¨‹æ­¥é©Ÿ -->
            <div style="margin-bottom: 40px;">
                <h3 style="color: var(--accent); margin-bottom: 20px; text-align: center; font-size: 1.5rem;">
                    <i class="fas fa-tasks"></i> å…¸å‹æ“ä½œæµç¨‹
                </h3>
                <div class="operations-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">

                    <!-- å‰µå»ºè¡¨æµç¨‹ -->
                    <div style="background: linear-gradient(135deg, rgba(153, 102, 255, 0.1), rgba(119, 68, 221, 0.1)); padding: 20px; border-radius: 12px; border-left: 5px solid #9966ff;">
                        <h4 style="color: #9966ff; margin-bottom: 15px;"><i class="fas fa-table"></i> å‰µå»ºè¡¨æµç¨‹</h4>
                        <div style="display: flex; flex-direction: column; gap: 12px;">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #9966ff; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">1</div>
                                <div style="color: var(--text-secondary);">è¼¸å…¥ CREATE TABLE èªå¥</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #9966ff; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">2</div>
                                <div style="color: var(--text-secondary);">è§£æè¡¨åã€æ¬„ä½ã€ç´„æŸ</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #9966ff; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">3</div>
                                <div style="color: var(--text-secondary);">å‰µå»ºå…ƒæ•¸æ“šçµæ§‹</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #9966ff; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">4</div>
                                <div style="color: var(--text-secondary);">åˆå§‹åŒ–ç©ºæ•¸æ“šé™£åˆ—</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #9966ff; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">5</div>
                                <div style="color: var(--text-secondary);">é¡¯ç¤ºè¡¨æ ¼é è¦½</div>
                            </div>
                        </div>
                    </div>

                    <!-- æŸ¥è©¢æ•¸æ“šæµç¨‹ -->
                    <div style="background: linear-gradient(135deg, rgba(51, 153, 255, 0.1), rgba(0, 102, 204, 0.1)); padding: 20px; border-radius: 12px; border-left: 5px solid #3399ff;">
                        <h4 style="color: #3399ff; margin-bottom: 15px;"><i class="fas fa-search"></i> æŸ¥è©¢æ•¸æ“šæµç¨‹</h4>
                        <div style="display: flex; flex-direction: column; gap: 12px;">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #3399ff; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">1</div>
                                <div style="color: var(--text-secondary);">è¼¸å…¥ SELECT èªå¥</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #3399ff; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">2</div>
                                <div style="color: var(--text-secondary);">è§£æè¡¨åã€æ¬„ä½ã€æ¢ä»¶</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #3399ff; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">3</div>
                                <div style="color: var(--text-secondary);">WHERE éæ¿¾æ•¸æ“š</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #3399ff; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">4</div>
                                <div style="color: var(--text-secondary);">ORDER BY æ’åº</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #3399ff; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">5</div>
                                <div style="color: var(--text-secondary);">è¿”ï¿½ï¿½ï¿½çµæœé›† + è¦–è¦ºåŒ–</div>
                            </div>
                        </div>
                    </div>

                    <!-- JOIN æŸ¥è©¢æµç¨‹ -->
                    <div style="background: linear-gradient(135deg, rgba(255, 102, 178, 0.1), rgba(255, 51, 133, 0.1)); padding: 20px; border-radius: 12px; border-left: 5px solid #ff66b2;">
                        <h4 style="color: #ff66b2; margin-bottom: 15px;"><i class="fas fa-link"></i> JOIN æŸ¥è©¢æµç¨‹</h4>
                        <div style="display: flex; flex-direction: column; gap: 12px;">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #ff66b2; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">1</div>
                                <div style="color: var(--text-secondary);">è§£æ JOIN é¡å‹å’Œæ¢ä»¶</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #ff66b2; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">2</div>
                                <div style="color: var(--text-secondary);">è®€å–å·¦å³å…©è¡¨æ•¸æ“š</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #ff66b2; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">3</div>
                                <div style="color: var(--text-secondary);">åŸ·è¡Œ ON æ¢ä»¶åŒ¹é…</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #ff66b2; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">4</div>
                                <div style="color: var(--text-secondary);">åˆä½µçµæœï¼ŒåŠ è¡¨åå‰ç¶´</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #ff66b2; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">5</div>
                                <div style="color: var(--text-secondary);">è¿”å›é€£æ¥çµæœ</div>
                            </div>
                        </div>
                    </div>

                    <!-- äº‹å‹™è™•ç†æµç¨‹ -->
                    <div style="background: linear-gradient(135deg, rgba(255, 204, 0, 0.1), rgba(255, 153, 0, 0.1)); padding: 20px; border-radius: 12px; border-left: 5px solid #ffcc00;">
                        <h4 style="color: #ffcc00; margin-bottom: 15px;"><i class="fas fa-shield-alt"></i> äº‹å‹™è™•ç†æµç¨‹</h4>
                        <div style="display: flex; flex-direction: column; gap: 12px;">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #ffcc00; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">1</div>
                                <div style="color: var(--text-secondary);">BEGIN é–‹å§‹äº‹å‹™</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #ffcc00; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">2</div>
                                <div style="color: var(--text-secondary);">å‰µå»ºæ•¸æ“šå¿«ç…§å‚™ä»½</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #ffcc00; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">3</div>
                                <div style="color: var(--text-secondary);">åŸ·è¡Œå¤šæ¢ DML èªå¥</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #ffcc00; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">4</div>
                                <div style="color: var(--text-secondary);">COMMIT æäº¤ / ROLLBACK å›æ»¾</div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="min-width: 30px; height: 30px; border-radius: 50%; background: #ffcc00; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">5</div>
                                <div style="color: var(--text-secondary);">æ‡‰ç”¨æˆ–é‚„åŸæ›´æ”¹</div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- é€²éšåŠŸèƒ½èªªæ˜ - å¿«é€Ÿä¸Šæ‰‹æŒ‡å—æœªæ¶µè“‹çš„å…§å®¹ -->
            <div style="margin-bottom: 40px;">
                <h3 style="color: var(--accent); margin-bottom: 20px; text-align: center; font-size: 1.5rem;">
                    <i class="fas fa-graduation-cap"></i> é€²éšåŠŸèƒ½èªªæ˜
                </h3>
                <div style="background: linear-gradient(135deg, rgba(0, 255, 204, 0.1), rgba(0, 212, 255, 0.1)); padding: 25px; border-radius: 16px; border-left: 5px solid var(--accent); margin-bottom: 20px;">
                    <p style="color: var(--text-secondary); font-size: 1rem; line-height: 1.8; margin-bottom: 15px;">
                        ä»¥ä¸‹åŠŸèƒ½åœ¨<strong style="color: var(--accent);">å¿«é€Ÿä¸Šæ‰‹æŒ‡å—</strong>ä¸­æœªè©³ç´°èªªæ˜ï¼Œä½†å°é€²éšå­¸ç¿’éå¸¸é‡è¦ï¼š
                    </p>
                </div>

                <div class="operations-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">

                    <!-- é€²éšç´¢å¼•åŠŸèƒ½ -->
                    <div style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 193, 7, 0.1)); padding: 20px; border-radius: 12px; border-left: 5px solid #ffd700;">
                        <h4 style="color: #ffd700; margin-bottom: 15px;"><i class="fas fa-bolt"></i> é€²éšç´¢å¼•åŠŸèƒ½</h4>
                        <ul style="color: var(--text-secondary); line-height: 1.8; font-size: 0.95rem; margin-left: 20px;">
                            <li><strong style="color: var(--text-primary);">è¤‡åˆç´¢å¼• (Composite Index)</strong><br>
                                <span style="font-size: 0.85rem;">CREATE INDEX idx_name ON table(col1, col2);</span>
                            </li>
                            <li><strong style="color: var(--text-primary);">å”¯ä¸€ç´¢å¼• (Unique Index)</strong><br>
                                <span style="font-size: 0.85rem;">CREATE UNIQUE INDEX idx_name ON table(col);</span>
                            </li>
                            <li><strong style="color: var(--text-primary);">å‡½æ•¸ç´¢å¼• (Function-Based Index)</strong><br>
                                <span style="font-size: 0.85rem;">CREATE INDEX idx_name ON table(UPPER(col));</span>
                            </li>
                        </ul>
                    </div>

                    <!-- è¦–åœ–èˆ‡ç‰©åŒ–è¦–åœ– -->
                    <div style="background: linear-gradient(135deg, rgba(138, 43, 226, 0.1), rgba(147, 112, 219, 0.1)); padding: 20px; border-radius: 12px; border-left: 5px solid #9370db;">
                        <h4 style="color: #9370db; margin-bottom: 15px;"><i class="fas fa-eye"></i> è¦–åœ–èˆ‡ç‰©åŒ–è¦–åœ–</h4>
                        <ul style="color: var(--text-secondary); line-height: 1.8; font-size: 0.95rem; margin-left: 20px;">
                            <li><strong style="color: var(--text-primary);">ä¸€èˆ¬è¦–åœ– (VIEW)</strong><br>
                                <span style="font-size: 0.85rem;">è™›æ“¬è¡¨ï¼Œæ¯æ¬¡æŸ¥è©¢æ™‚å‹•æ…‹ç”Ÿæˆçµæœ</span>
                            </li>
                            <li><strong style="color: var(--text-primary);">ç‰©åŒ–è¦–åœ– (MATERIALIZED VIEW)</strong><br>
                                <span style="font-size: 0.85rem;">å¯¦é«”å­˜å„²æŸ¥è©¢çµæœï¼Œæå‡æŸ¥è©¢æ•ˆèƒ½</span>
                            </li>
                            <li><strong style="color: var(--text-primary);">è¦–åœ–æ›´æ–°</strong><br>
                                <span style="font-size: 0.85rem;">REFRESH MATERIALIZED VIEW view_name;</span>
                            </li>
                        </ul>
                    </div>

                    <!-- åºåˆ—èˆ‡è‡ªå‹•ç·¨è™Ÿ -->
                    <div style="background: linear-gradient(135deg, rgba(0, 191, 255, 0.1), rgba(30, 144, 255, 0.1)); padding: 20px; border-radius: 12px; border-left: 5px solid #00bfff;">
                        <h4 style="color: #00bfff; margin-bottom: 15px;"><i class="fas fa-sort-numeric-up"></i> åºåˆ—èˆ‡è‡ªå‹•ç·¨è™Ÿ</h4>
                        <ul style="color: var(--text-secondary); line-height: 1.8; font-size: 0.95rem; margin-left: 20px;">
                            <li><strong style="color: var(--text-primary);">SEQUENCE åºåˆ—</strong><br>
                                <span style="font-size: 0.85rem;">CREATE SEQUENCE seq_name START WITH 1;</span>
                            </li>
                            <li><strong style="color: var(--text-primary);">NEXTVAL å–ä¸‹ä¸€å€‹å€¼</strong><br>
                                <span style="font-size: 0.85rem;">INSERT INTO t VALUES (seq_name.NEXTVAL, 'data');</span>
                            </li>
                            <li><strong style="color: var(--text-primary);">CURRVAL å–ç•¶å‰å€¼</strong><br>
                                <span style="font-size: 0.85rem;">SELECT seq_name.CURRVAL FROM DUAL;</span>
                            </li>
                        </ul>
                    </div>

                    <!-- åŒï¿½ï¿½ï¿½è©èˆ‡å¥—ä»¶ -->
                    <div style="background: linear-gradient(135deg, rgba(255, 99, 71, 0.1), rgba(255, 127, 80, 0.1)); padding: 20px; border-radius: 12px; border-left: 5px solid #ff6347;">
                        <h4 style="color: #ff6347; margin-bottom: 15px;"><i class="fas fa-link"></i> åŒç¾©è©èˆ‡å¥—ä»¶</h4>
                        <ul style="color: var(--text-secondary); line-height: 1.8; font-size: 0.95rem; margin-left: 20px;">
                            <li><strong style="color: var(--text-primary);">åŒç¾©è© (SYNONYM)</strong><br>
                                <span style="font-size: 0.85rem;">ç‚ºè¡¨ã€è¦–åœ–ç­‰å‰µå»ºåˆ¥åï¼Œç°¡åŒ–è¨ªå•</span>
                            </li>
                            <li><strong style="color: var(--text-primary);">å¥—ä»¶ (PACKAGE)</strong><br>
                                <span style="font-size: 0.85rem;">å°è£ç›¸é—œçš„ç¨‹åºã€å‡½æ•¸å’Œè®Šæ•¸</span>
                            </li>
                            <li><strong style="color: var(--text-primary);">å¥—ä»¶è¦ç¯„èˆ‡ä¸»é«”</strong><br>
                                <span style="font-size: 0.85rem;">PACKAGE SPECIFICATION + PACKAGE BODY</span>
                            </li>
                        </ul>
                    </div>

                    <!-- è§¸ç™¼å™¨èˆ‡äº‹ä»¶ -->
                    <div style="background: linear-gradient(135deg, rgba(255, 20, 147, 0.1), rgba(219, 112, 147, 0.1)); padding: 20px; border-radius: 12px; border-left: 5px solid #ff1493;">
                        <h4 style="color: #ff1493; margin-bottom: 15px;"><i class="fas fa-magic"></i> è§¸ç™¼å™¨é€²éšæ‡‰ç”¨</h4>
                        <ul style="color: var(--text-secondary); line-height: 1.8; font-size: 0.95rem; margin-left: 20px;">
                            <li><strong style="color: var(--text-primary);">BEFORE / AFTER è§¸ç™¼å™¨</strong><br>
                                <span style="font-size: 0.85rem;">åœ¨æ“ä½œå‰å¾Œè‡ªå‹•åŸ·è¡Œç‰¹å®šé‚è¼¯</span>
                            </li>
                            <li><strong style="color: var(--text-primary);">ROW ç´šåˆ¥ vs STATEMENT ç´šåˆ¥</strong><br>
                                <span style="font-size: 0.85rem;">FOR EACH ROW æˆ– FOR EACH STATEMENT</span>
                            </li>
                            <li><strong style="color: var(--text-primary);">:NEW å’Œ :OLD è®Šæ•¸</strong><br>
                                <span style="font-size: 0.85rem;">è¨ªå•ä¿®æ”¹å‰å¾Œçš„æ•¸æ“šå€¼</span>
                            </li>
                        </ul>
                    </div>

                    <!-- åˆ†å€è¡¨èˆ‡è¡¨ç©ºé–“ -->
                    <div style="background: linear-gradient(135deg, rgba(34, 139, 34, 0.1), rgba(50, 205, 50, 0.1)); padding: 20px; border-radius: 12px; border-left: 5px solid #32cd32;">
                        <h4 style="color: #32cd32; margin-bottom: 15px;"><i class="fas fa-layer-group"></i> åˆ†å€è¡¨èˆ‡è¡¨ç©ºé–“</h4>
                        <ul style="color: var(--text-secondary); line-height: 1.8; font-size: 0.95rem; margin-left: 20px;">
                            <li><strong style="color: var(--text-primary);">TABLESPACE è¡¨ç©ºé–“</strong><br>
                                <span style="font-size: 0.85rem;">ç‰©ç†å­˜å„²ç©ºé–“çš„é‚è¼¯åŠƒåˆ†</span>
                            </li>
                            <li><strong style="color: var(--text-primary);">PARTITION åˆ†å€è¡¨</strong><br>
                                <span style="font-size: 0.85rem;">å°‡å¤§è¡¨åˆ†å‰²æˆå¤šå€‹ç‰©ç†æ®µä»¥æå‡æ€§èƒ½</span>
                            </li>
                            <li><strong style="color: var(--text-primary);">åˆ†å€é¡å‹</strong><br>
                                <span style="font-size: 0.85rem;">RANGE, LIST, HASH, COMPOSITE åˆ†å€</span>
                            </li>
                        </ul>
                    </div>

                    <!-- è³‡æ–™åŒ¯å…¥åŒ¯å‡º -->
                    <div style="background: linear-gradient(135deg, rgba(64, 224, 208, 0.1), rgba(72, 209, 204, 0.1)); padding: 20px; border-radius: 12px; border-left: 5px solid #40e0d0;">
                        <h4 style="color: #40e0d0; margin-bottom: 15px;"><i class="fas fa-file-export"></i> è³‡æ–™åŒ¯å…¥åŒ¯å‡º</h4>
                        <ul style="color: var(--text-secondary); line-height: 1.8; font-size: 0.95rem; margin-left: 20px;">
                            <li><strong style="color: var(--text-primary);">å®Œæ•´è³‡æ–™åŒ¯å‡º (JSON)</strong><br>
                                <span style="font-size: 0.85rem;">åŒ¯å‡ºæ‰€æœ‰è¡¨çµæ§‹ã€æ•¸æ“šã€ç´¢å¼•ç­‰å®Œæ•´è³‡è¨Š</span>
                            </li>
                            <li><strong style="color: var(--text-primary);">å°ˆæ¥­ PDF å ±å‘Š</strong><br>
                                <span style="font-size: 0.85rem;">ç”ŸæˆåŒ…å«çµ±è¨ˆã€åœ–è¡¨çš„å®Œæ•´å ±å‘Š</span>
                            </li>
                            <li><strong style="color: var(--text-primary);">SQL è…³æœ¬åŒ¯å‡º</strong><br>
                                <span style="font-size: 0.85rem;">åŒ¯å‡ºå¯åŸ·è¡Œçš„ CREATE å’Œ INSERT èªå¥</span>
                            </li>
                        </ul>
                    </div>

                    <!-- 15ç¨®æ•¸æ“šæ¨¡å‹ -->
                    <div style="background: linear-gradient(135deg, rgba(186, 85, 211, 0.1), rgba(147, 112, 219, 0.1)); padding: 20px; border-radius: 12px; border-left: 5px solid #ba55d3;">
                        <h4 style="color: #ba55d3; margin-bottom: 15px;"><i class="fas fa-database"></i> 15ç¨®æ•¸æ“šæ¨¡å‹æ”¯æ´</h4>
                        <ul style="color: var(--text-secondary); line-height: 1.8; font-size: 0.95rem; margin-left: 20px;">
                            <li><strong style="color: var(--text-primary);">å¤šæ¨¡å‹è³‡æ–™åº«</strong><br>
                                <span style="font-size: 0.85rem;">æ”¯æ´é—œè¯å¼ã€JSONã€XMLã€åœ–å½¢ç­‰15ç¨®æ¨¡å‹</span>
                            </li>
                            <li><strong style="color: var(--text-primary);">JSON å­˜å„²èˆ‡æŸ¥è©¢</strong><br>
                                <span style="font-size: 0.85rem;">JSON_VALUE, JSON_QUERY å‡½æ•¸</span>
                            </li>
                            <li><strong style="color: var(--text-primary);">ç©ºé–“æ•¸æ“šèˆ‡å€å¡Šéˆ</strong><br>
                                <span style="font-size: 0.85rem;">åœ°ç†è³‡è¨Šç³»çµ±å’Œåˆ†æ•£å¼å¸³æœ¬æŠ€è¡“</span>
                            </li>
                        </ul>
                    </div>

                </div>
            </div>

            <!-- é—œéµæç¤º -->
            <div style="background: linear-gradient(135deg, rgba(255, 152, 0, 0.1), rgba(255, 87, 34, 0.1)); padding: 25px; border-radius: 12px; border-left: 5px solid #ff9800;">
                <h3 style="color: #ff9800; margin-bottom: 15px;"><i class="fas fa-lightbulb"></i> é‡è¦æç¤º</h3>
                <ul style="color: var(--text-secondary); line-height: 2; font-size: 1.05rem; margin-left: 20px;">
                    <li>æ‰€æœ‰æ•¸æ“šå­˜å„²æ–¼<strong style="color: var(--text-primary);">ç€è¦½å™¨å…§å­˜</strong>ï¼Œé—œé–‰é é¢å¾Œå°‡ä¸ä¿å­˜</li>
                    <li>å»ºè­°ä½¿ç”¨<strong style="color: var(--text-primary);">ã€Œå®Œæ•´è³‡æ–™åŒ¯å‡ºã€</strong>åŠŸèƒ½ä¿å­˜å­¸ç¿’æˆæœ</li>
                    <li>æ”¯æ´<strong style="color: var(--text-primary);">å¤šæ¢ SQL èªå¥</strong>åŒæ™‚åŸ·è¡Œï¼Œç”¨åˆ†è™Ÿåˆ†éš”</li>
                    <li>æ¯å€‹åŠŸèƒ½éƒ½æœ‰<strong style="color: var(--text-primary);">è©³ç´°éŒ¯èª¤æç¤º</strong>å’Œä¿®æ­£å»ºè­°</li>
                    <li>ä½¿ç”¨<strong style="color: var(--text-primary);">æˆå°±ç³»çµ±</strong>è¿½è¹¤å­¸ç¿’é€²åº¦</li>
                </ul>
            </div>

        </div>
    </div>

    <!-- ç©ã€èªªæ˜æ¨¡æ…‹æ¡† -->
    <div id="howToPlayModal" class="modal">
        <div class="modal-content fade-in" style="max-width: 1100px; max-height: 90vh; overflow-y: auto;">
            <div class="modal-header">
                <h2 class="gradient-text">ğŸ¯ å¿«é€Ÿä¸Šæ‰‹æŒ‡å—</h2>
                <button class="close-modal">&times;</button>
            </div>

            <!-- å¿«é€Ÿä»‹ç´¹ -->
            <div style="margin-bottom: 25px; padding: 20px; background: linear-gradient(135deg, rgba(0, 255, 204, 0.1), rgba(0, 168, 255, 0.1)); border-radius: 12px; border-left: 4px solid var(--accent);">
                <h3 style="color: var(--accent); margin-bottom: 10px;"><i class="fas fa-rocket"></i> é€™æ˜¯ä»€éº¼ï¼Ÿ</h3>
                <p style="color: var(--text-primary); line-height: 1.8; font-size: 1.05rem;">
                    <strong>å…è²»çš„ Oracle SQL å­¸ç¿’å¹³å°</strong>ï¼Œåœ¨ç€è¦½å™¨ç›´æ¥ç·´ç¿’ï¼Œç„¡éœ€å®‰è£ä»»ä½•è»Ÿä»¶ã€‚
                </p>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 12px; margin-top: 15px;">
                    <div style="background: rgba(0,255,204,0.1); padding: 12px; border-radius: 8px;">
                        âœ… <strong>å³æ™‚æª¢æŸ¥</strong> - èªæ³•éŒ¯èª¤ç«‹å³æç¤º
                    </div>
                    <div style="background: rgba(0,255,204,0.1); padding: 12px; border-radius: 8px;">
                        âœ… <strong>å®Œå…¨å…è²»</strong> - æ‰€æœ‰åŠŸèƒ½æ°¸ä¹…å…è²»
                    </div>
                    <div style="background: rgba(0,255,204,0.1); padding: 12px; border-radius: 8px;">
                        âœ… <strong>å¤šå¹³å°</strong> - é›»è…¦ã€æ‰‹æ©Ÿã€å¹³æ¿éƒ½èƒ½ç”¨
                    </div>
                </div>
            </div>

            <!-- ä¸‰æ­¥é©Ÿé–‹å§‹ -->
            <div style="margin-bottom: 25px;">
                <h3 style="color: var(--accent); margin-bottom: 15px;"><i class="fas fa-play-circle"></i> ä¸‰æ­¥é©Ÿé–‹å§‹</h3>
                <div style="display: grid; gap: 12px;">
                    <div style="display: flex; align-items: start; gap: 15px; padding: 15px; background: rgba(0,168,255,0.05); border-radius: 10px;">
                        <div style="min-width: 40px; height: 40px; background: var(--accent); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 1.2rem;">1</div>
                        <div>
                            <h4 style="color: var(--text-primary); margin-bottom: 5px;">è¼¸å…¥ SQL</h4>
                            <p style="color: var(--text-secondary); font-size: 0.95rem;">åœ¨ç·¨è¼¯å™¨å¯« SQLï¼Œæ¯å¥çµå°¾åŠ åˆ†è™Ÿ <code>;</code></p>
                            <code style="display: block; background: rgba(0,0,0,0.3); padding: 8px; border-radius: 6px; margin-top: 8px; font-size: 0.9rem;">
                                CREATE TABLE students (id NUMBER, name VARCHAR2(50));
                            </code>
                        </div>
                    </div>
                    <div style="display: flex; align-items: start; gap: 15px; padding: 15px; background: rgba(0,168,255,0.05); border-radius: 10px;">
                        <div style="min-width: 40px; height: 40px; background: var(--success); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 1.2rem;">2</div>
                        <div>
                            <h4 style="color: var(--text-primary); margin-bottom: 5px;">åŸ·è¡ŒæŸ¥è©¢</h4>
                            <p style="color: var(--text-secondary); font-size: 0.95rem;">æŒ‰ <code>Ctrl+Enter</code> æˆ–é»ã€ŒåŸ·è¡ŒæŸ¥è©¢ã€æŒ‰éˆ•</p>
                        </div>
                    </div>
                    <div style="display: flex; align-items: start; gap: 15px; padding: 15px; background: rgba(0,168,255,0.05); border-radius: 10px;">
                        <div style="min-width: 40px; height: 40px; background: var(--warning); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 1.2rem;">3</div>
                        <div>
                            <h4 style="color: var(--text-primary); margin-bottom: 5px;">æŸ¥çœ‹çµæœ</h4>
                            <p style="color: var(--text-secondary); font-size: 0.95rem;">æˆåŠŸé¡¯ç¤ºç¶ è‰²âœ…ï¼ŒéŒ¯èª¤é¡¯ç¤ºç´…è‰²âŒå’Œä¿®æ­£å»ºè­°</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ä¸»è¦åŠŸèƒ½æŒ‰éˆ• -->
            <div style="margin-bottom: 25px;">
                <h3 style="color: var(--accent); margin-bottom: 15px;"><i class="fas fa-magic"></i> ä¸»è¦åŠŸèƒ½</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                    <div style="padding: 12px; background: rgba(0,204,136,0.1); border-radius: 8px; border-left: 3px solid var(--success);">
                        <strong style="color: var(--success);">ğŸš€ åŸ·è¡ŒæŸ¥è©¢</strong>
                        <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 5px;">é‹è¡Œ SQL èªå¥</p>
                    </div>
                    <div style="padding: 12px; background: rgba(0,168,255,0.1); border-radius: 8px; border-left: 3px solid var(--info);">
                        <strong style="color: var(--info);">ğŸ‘ é¡¯ç¤ºè³‡æ–™è¡¨</strong>
                        <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 5px;">æŸ¥çœ‹æ‰€æœ‰è¡¨å’Œå°è±¡</p>
                    </div>
                    <div style="padding: 12px; background: rgba(255,204,0,0.1); border-radius: 8px; border-left: 3px solid var(--warning);">
                        <strong style="color: var(--warning);">ğŸ’¾ æ‰€æœ‰å„²å­˜</strong>
                        <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 5px;">è‡¨æ™‚ä¿å­˜ï¼ˆè¨˜æ†¶é«”ï¼‰</p>
                    </div>
                    <div style="padding: 12px; background: rgba(255,51,102,0.1); border-radius: 8px; border-left: 3px solid var(--error);">
                        <strong style="color: var(--error);">ğŸ“¥ åŒ¯å‡ºå ±å‘Š</strong>
                        <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 5px;">æ°¸ä¹…ä¿å­˜ï¼ˆPDFæª”æ¡ˆï¼‰</p>
                    </div>
                </div>
            </div>

            <!-- æ–°åŠŸèƒ½é€Ÿè¦½ -->
            <div style="margin-bottom: 25px;">
                <h3 style="color: var(--accent); margin-bottom: 15px;"><i class="fas fa-star"></i> Oracle å°ˆæ¥­åŠŸèƒ½</h3>
                <div style="display: grid; gap: 10px;">
                    <details style="background: rgba(0,255,204,0.05); padding: 12px; border-radius: 8px; border-left: 3px solid var(--accent);">
                        <summary style="cursor: pointer; font-weight: 600; color: var(--accent);">ğŸ”¢ SEQUENCEï¼ˆè‡ªå‹•åºè™Ÿï¼‰</summary>
                        <div style="margin-top: 10px; padding-left: 10px; color: var(--text-secondary);">
                            <p style="margin-bottom: 8px;">è‡ªå‹•ç”Ÿæˆéå¢æ•¸å­—ï¼Œå¸¸ç”¨æ–¼ä¸»éµ ID</p>
                            <code style="display: block; background: rgba(0,0,0,0.3); padding: 8px; border-radius: 4px; font-size: 0.85rem; white-space: pre-wrap;">CREATE SEQUENCE emp_seq START WITH 1;
INSERT INTO emp VALUES (emp_seq.NEXTVAL, 'å¼µä¸‰');</code>
                        </div>
                    </details>

                    <details style="background: rgba(0,255,204,0.05); padding: 12px; border-radius: 8px; border-left: 3px solid var(--success);">
                        <summary style="cursor: pointer; font-weight: 600; color: var(--success);">âš™ï¸ PL/SQLï¼ˆç¨‹åºã€å‡½æ•¸ã€è§¸ç™¼å™¨ï¼‰</summary>
                        <div style="margin-top: 10px; padding-left: 10px; color: var(--text-secondary);">
                            <p style="margin-bottom: 8px;">å‰µå»ºå­˜å„²éç¨‹ã€å‡½æ•¸ã€è§¸ç™¼å™¨</p>
                            <code style="display: block; background: rgba(0,0,0,0.3); padding: 8px; border-radius: 4px; font-size: 0.85rem; white-space: pre-wrap;">CREATE PROCEDURE add_emp(name VARCHAR2) AS
BEGIN
    INSERT INTO emp VALUES (name);
END;
EXEC add_emp('æå››');</code>
                        </div>
                    </details>

                    <details style="background: rgba(0,255,204,0.05); padding: 12px; border-radius: 8px; border-left: 3px solid var(--warning);">
                        <summary style="cursor: pointer; font-weight: 600; color: var(--warning);">ğŸ’¾ äº‹å‹™ç®¡ç†ï¼ˆCOMMIT / ROLLBACKï¼‰</summary>
                        <div style="margin-top: 10px; padding-left: 10px; color: var(--text-secondary);">
                            <p style="margin-bottom: 8px;">æ§åˆ¶æ•¸æ“šä¸€è‡´æ€§ï¼Œå¯å›æ»¾éŒ¯èª¤</p>
                            <code style="display: block; background: rgba(0,0,0,0.3); padding: 8px; border-radius: 4px; font-size: 0.85rem; white-space: pre-wrap;">BEGIN;
UPDATE accounts SET balance = balance - 100;
COMMIT; -- ç¢ºèªä¿å­˜
ROLLBACK; -- å–æ¶ˆæ›´æ”¹</code>
                        </div>
                    </details>

                    <details style="background: rgba(0,255,204,0.05); padding: 12px; border-radius: 8px; border-left: 3px solid var(--info);">
                        <summary style="cursor: pointer; font-weight: 600; color: var(--info);">ğŸ“Š æ€§èƒ½åˆ†æï¼ˆEXPLAIN PLANï¼‰</summary>
                        <div style="margin-top: 10px; padding-left: 10px; color: var(--text-secondary);">
                            <p style="margin-bottom: 8px;">æŸ¥çœ‹ SQL åŸ·è¡Œè¨ˆç•«å’Œå„ªåŒ–å»ºè­°</p>
                            <code style="display: block; background: rgba(0,0,0,0.3); padding: 8px; border-radius: 4px; font-size: 0.85rem;">EXPLAIN PLAN FOR SELECT * FROM emp WHERE salary > 50000;</code>
                        </div>
                    </details>

                    <details style="background: rgba(0,255,204,0.05); padding: 12px; border-radius: 8px; border-left: 3px solid #9966ff);">
                        <summary style="cursor: pointer; font-weight: 600; color: #9966ff;">ğŸ¯ å®Œæ•´ Oracle å°è±¡æ”¯æŒ</summary>
                        <div style="margin-top: 10px; padding-left: 10px; color: var(--text-secondary);">
                            <ul style="line-height: 1.8; margin-left: 15px;">
                                <li><strong>VIEW</strong> - è™›æ“¬è¦–åœ–</li>
                                <li><strong>INDEX</strong> - B-tree ç´¢å¼•</li>
                                <li><strong>SYNONYM</strong> - å°è±¡åˆ¥å</li>
                                <li><strong>PACKAGE</strong> - ç¨‹åºåŒ…</li>
                                <li><strong>TABLESPACE</strong> - è¡¨ç©ºé–“</li>
                            </ul>
                        </div>
                    </details>
                </div>
            </div>

            <!-- é‡è¦æç¤º -->
            <div style="margin-bottom: 25px;">
                <h3 style="color: var(--error); margin-bottom: 15px;"><i class="fas fa-exclamation-triangle"></i> é‡è¦æç¤º</h3>
                <div style="background: rgba(255,51,102,0.1); padding: 15px; border-radius: 10px; border-left: 4px solid var(--error);">
                    <ul style="color: var(--text-secondary); line-height: 2; margin-left: 20px;">
                        <li><strong style="color: var(--error);">åˆ†è™Ÿå¿…é ˆåŠ </strong> - æ¯å¥ SQL çµå°¾åŠ  <code>;</code></li>
                        <li><strong style="color: var(--error);">å­—ä¸²ç”¨å–®å¼•è™Ÿ</strong> - ç”¨ <code>'å¼µä¸‰'</code> ä¸æ˜¯ <code>"å¼µä¸‰"</code></li>
                        <li><strong style="color: var(--warning);">é—œé–‰æœƒéºå¤±</strong> - é—œé–‰åˆ†é å‰è«‹ã€ŒåŒ¯å‡ºå ±å‘Šã€ä¿å­˜</li>
                        <li><strong style="color: var(--warning);">æ—¥æœŸè¦æ ¼å¼åŒ–</strong> - ç”¨ <code>TO_DATE('2024-01-15', 'YYYY-MM-DD')</code></li>
                    </ul>
                </div>
            </div>

            <!-- å¿«æ·éµ -->
            <div style="margin-bottom: 25px;">
                <h3 style="color: var(--accent); margin-bottom: 15px;"><i class="fas fa-keyboard"></i> å¿«æ·éµ</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                    <div style="background: rgba(0,168,255,0.08); padding: 10px; border-radius: 6px;">
                        <code style="color: var(--accent);">Ctrl + Enter</code>
                        <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 3px;">åŸ·è¡Œ SQL</p>
                    </div>
                    <div style="background: rgba(0,168,255,0.08); padding: 10px; border-radius: 6px;">
                        <code style="color: var(--accent);">å¤šåˆ†é </code>
                        <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 3px;">é»é ‚éƒ¨æ¨™ç±¤åˆ‡æ›è³‡æ–™åº«</p>
                    </div>
                </div>
            </div>

            <!-- å­¸ç¿’å»ºè­° -->
            <div style="margin-bottom: 25px;">
                <h3 style="color: var(--success); margin-bottom: 15px;"><i class="fas fa-lightbulb"></i> å­¸ç¿’å»ºè­°</h3>
                <ol style="color: var(--text-secondary); line-height: 2.2; margin-left: 20px;">
                    <li>å¾ <code>CREATE TABLE</code> é–‹å§‹ï¼Œå‰µå»ºç¬¬ä¸€å€‹è³‡æ–™è¡¨</li>
                    <li>ç”¨ <code>INSERT</code> æ’å…¥è³‡æ–™ï¼Œç”¨ <code>SELECT</code> æŸ¥è©¢</li>
                    <li>è©¦è©¦ <code>JOIN</code>ã€<code>GROUP BY</code>ã€å­æŸ¥è©¢ç­‰é€²éšèªæ³•</li>
                    <li>å˜—è©¦å‰µå»º SEQUENCEã€PROCEDUREã€TRIGGER ç­‰ Oracle å°è±¡</li>
                    <li>å®šæœŸç”¨ã€ŒåŒ¯å‡ºå ±å‘Šã€ä¿å­˜æˆæœ</li>
                    <li><strong>å¤šç·´ç¿’ï¼Œä¸æ€•çŠ¯éŒ¯ï¼</strong>éŒ¯èª¤æ˜¯æœ€å¥½çš„è€å¸«</li>
                </ol>
            </div>

            <!-- æ•¸æ“šæ¨¡å‹å®Œæ•´æŒ‡å— -->
            <div style="margin-bottom: 30px;">
                <h3 style="color: var(--accent); margin-bottom: 20px; font-size: 1.5rem; text-align: center;">
                    <i class="fas fa-database"></i> 15ç¨®æ•¸æ“šæ¨¡å‹å®Œæ•´æŒ‡å—
                </h3>
                <p style="color: var(--text-secondary); text-align: center; margin-bottom: 25px; font-size: 1.05rem;">
                    æ¯ç¨®æ¨¡å‹éƒ½æœ‰ä¸åŒçš„ç”¨é€”å’Œç‰¹é»ï¼Œé¸æ“‡é©åˆçš„æ¨¡å‹èƒ½å¤§å¹…æå‡æ•ˆç‡ï¼
                </p>

                <!-- æ¨¡å‹1: é—œè¯å¼ -->
                <details open style="margin-bottom: 15px; background: linear-gradient(135deg, rgba(0, 168, 255, 0.1), rgba(0, 102, 204, 0.1)); padding: 18px; border-radius: 12px; border-left: 5px solid var(--primary); cursor: pointer;">
                    <summary style="font-size: 1.2rem; font-weight: 700; color: var(--primary); cursor: pointer; user-select: none;">
                        <i class="fas fa-table"></i> 1. é—œè¯å¼æ¨¡å‹ (Relational Model)
                    </summary>
                    <div style="margin-top: 15px; padding-left: 10px;">
                        <div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 8px; margin-bottom: 12px;">
                            <h4 style="color: var(--accent); margin-bottom: 8px;">ğŸ“ é€™æ˜¯ä»€éº¼ï¼Ÿ</h4>
                            <p style="color: var(--text-secondary); line-height: 1.7;">
                                æœ€å¸¸è¦‹çš„æ•¸æ“šåº«æ¨¡å‹ï¼Œç”¨<strong>è¡¨æ ¼ï¼ˆTableï¼‰</strong>å„²å­˜æ•¸æ“šï¼Œæ¯è¡Œæ˜¯ä¸€ç­†è¨˜éŒ„ï¼Œæ¯åˆ—æ˜¯ä¸€å€‹å±¬æ€§ã€‚
                                å°±åƒ Excel è¡¨æ ¼ä¸€æ¨£ï¼
                            </p>
                        </div>

                        <div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 8px; margin-bottom: 12px;">
                            <h4 style="color: var(--success); margin-bottom: 8px;">âœ… é©åˆç”¨é€”</h4>
                            <ul style="color: var(--text-secondary); line-height: 1.8; margin-left: 20px;">
                                <li>å“¡å·¥ç®¡ç†ç³»çµ±</li>
                                <li>è¨‚å–®è™•ç†ç³»çµ±</li>
                                <li>å­¸ç”Ÿæˆç¸¾ç³»çµ±</li>
                                <li>éŠ€è¡Œäº¤æ˜“è¨˜éŒ„</li>
                            </ul>
                        </div>

                        <div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 8px; margin-bottom: 12px;">
                            <h4 style="color: var(--warning); margin-bottom: 8px;">ğŸ“‹ æ“ä½œæ­¥é©Ÿ</h4>
                            <div style="background: rgba(0, 0, 0, 0.5); padding: 12px; border-radius: 6px; font-family: monospace;">
                                <div style="color: var(--text-muted); margin-bottom: 8px;">-- æ­¥é©Ÿ1: å‰µå»ºè¡¨</div>
                                <code style="color: var(--accent); display: block; margin-bottom: 10px;">CREATE TABLE employees (
    id NUMBER PRIMARY KEY,
    name VARCHAR2(50) NOT NULL,
    department VARCHAR2(30),
    salary NUMBER(10,2)
);</code>

                                <div style="color: var(--text-muted); margin-bottom: 8px;">-- æ­¥é©Ÿ2: æ’å…¥æ•¸æ“š</div>
                                <code style="color: var(--success); display: block; margin-bottom: 10px;">INSERT INTO employees VALUES (1, 'å¼µä¸‰', 'ITéƒ¨', 50000);
INSERT INTO employees VALUES (2, 'æå››', 'è²¡å‹™éƒ¨', 45000);</code>

                                <div style="color: var(--text-muted); margin-bottom: 8px;">-- æ­¥é©Ÿ3: æŸ¥è©¢æ•¸æ“š</div>
                                <code style="color: var(--info); display: block; margin-bottom: 10px;">SELECT * FROM employees WHERE salary > 40000;</code>

                                <div style="color: var(--text-muted); margin-bottom: 8px;">-- æ­¥é©Ÿ4: æ›´æ–°æ•¸æ“š</div>
                                <code style="color: var(--warning); display: block; margin-bottom: 10px;">UPDATE employees SET salary = 55000 WHERE id = 1;</code>

                                <div style="color: var(--text-muted); margin-bottom: 8px;">-- æ­¥é©Ÿ5: åˆªé™¤æ•¸æ“š</div>
                                <code style="color: var(--error); display: block;">DELETE FROM employees WHERE id = 2;</code>
                            </div>
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                            <div style="background: rgba(0, 204, 136, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid var(--success);">
                                <h4 style="color: var(--success); margin-bottom: 8px;">ğŸ‘ å„ªé»</h4>
                                <ul style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; margin-left: 18px;">
                                    <li>çµæ§‹æ¸…æ™°æ˜“æ‡‚</li>
                                    <li>æ•¸æ“šå®Œæ•´æ€§é«˜</li>
                                    <li>æ”¯æŒè¤‡é›œæŸ¥è©¢</li>
                                    <li>å·¥å…·ï¿½ï¿½ï¿½ç†Ÿè±å¯Œ</li>
                                </ul>
                            </div>
                            <div style="background: rgba(255, 51, 102, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid var(--error);">
                                <h4 style="color: var(--error); margin-bottom: 8px;">ğŸ‘ é™åˆ¶</h4>
                                <ul style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; margin-left: 18px;">
                                    <li>çµæ§‹è®Šæ›´è¼ƒéº»ç…©</li>
                                    <li>è™•ç†å±¤æ¬¡æ•¸æ“šè¼ƒè¤‡é›œ</li>
                                    <li>å¤§æ•¸æ“šæ“´å±•æ€§å—é™</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>

                <!-- æ¨¡å‹2: JSON -->
                <details style="margin-bottom: 15px; background: linear-gradient(135deg, rgba(255, 204, 0, 0.1), rgba(255, 153, 0, 0.1)); padding: 18px; border-radius: 12px; border-left: 5px solid var(--warning); cursor: pointer;">
                    <summary style="font-size: 1.2rem; font-weight: 700; color: var(--warning); cursor: pointer; user-select: none;">
                        <i class="fas fa-file-code"></i> 2. JSON æ–‡ä»¶æ¨¡å‹ (JSON Document Model)
                    </summary>
                    <div style="margin-top: 15px; padding-left: 10px;">
                        <div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 8px; margin-bottom: 12px;">
                            <h4 style="color: var(--accent); margin-bottom: 8px;">ğŸ“ é€™æ˜¯ä»€éº¼ï¼Ÿ</h4>
                            <p style="color: var(--text-secondary); line-height: 1.7;">
                                å„²å­˜ <strong>JSON æ ¼å¼</strong>çš„æ•¸æ“šï¼Œé©åˆ<strong>åŠçµæ§‹åŒ–</strong>æ•¸æ“šã€‚æ¯ç­†è¨˜éŒ„å¯ä»¥æœ‰ä¸åŒçš„ï¿½ï¿½ï¿½ä½çµæ§‹ã€‚
                            </p>
                        </div>

                        <div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 8px; margin-bottom: 12px;">
                            <h4 style="color: var(--success); margin-bottom: 8px;">âœ… é©åˆç”¨é€”</h4>
                            <ul style="color: var(--text-secondary); line-height: 1.8; margin-left: 20px;">
                                <li>ç”¢å“ç›®éŒ„ï¼ˆè¦æ ¼å„ç•°ï¼‰</li>
                                <li>ç”¨æˆ¶é…ç½®æ–‡ä»¶</li>
                                <li>API æ•¸æ“šå­˜å„²</li>
                                <li>æ—¥èªŒè¨˜éŒ„</li>
                            </ul>
                        </div>

                        <div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 8px; margin-bottom: 12px;">
                            <h4 style="color: var(--warning); margin-bottom: 8px;">ğŸ“‹ æ“ä½œæ­¥é©Ÿ</h4>
                            <div style="background: rgba(0, 0, 0, 0.5); padding: 12px; border-radius: 6px; font-family: monospace;">
                                <code style="color: var(--accent); display: block; margin-bottom: 10px;">-- å‰µå»ºJSONæ•¸æ“šè¡¨
CREATE TABLE products (
    id NUMBER,
    data VARCHAR2(1000)
);</code>

                                <code style="color: var(--success); display: block; margin-bottom: 10px;">-- æ’å…¥JSONæ•¸æ“š
INSERT INTO products VALUES (1,
    '{"name":"ç­†è¨˜æœ¬é›»è…¦","price":25000,"specs":{"cpu":"i7","ram":"16GB"}}');</code>

                                <code style="color: var(--info); display: block;">-- æŸ¥è©¢æ•¸æ“š
SELECT * FROM products;</code>
                            </div>
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                            <div style="background: rgba(0, 204, 136, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid var(--success);">
                                <h4 style="color: var(--success); margin-bottom: 8px;">ğŸ‘ å„ªé»</h4>
                                <ul style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; margin-left: 18px;">
                                    <li>éˆæ´»çš„çµæ§‹</li>
                                    <li>æ˜“æ–¼æ“´å±•æ¬„ä½</li>
                                    <li>é©åˆè®ŠåŒ–çš„æ•¸æ“š</li>
                                </ul>
                            </div>
                            <div style="background: rgba(255, 51, 102, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid var(--error);">
                                <h4 style="color: var(--error); margin-bottom: 8px;">ğŸ‘ é™åˆ¶</h4>
                                <ul style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; margin-left: 18px;">
                                    <li>æŸ¥è©¢æ•ˆç‡è¼ƒä½</li>
                                    <li>æ•¸æ“šå®Œæ•´ï¿½ï¿½ï¿½å¼±</li>
                                    <li>ä½”ç”¨ç©ºé–“è¼ƒå¤§</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>

                <!-- æ¨¡å‹3: åœ–æ•¸æ“šåº« -->
                <details style="margin-bottom: 15px; background: linear-gradient(135deg, rgba(0, 255, 204, 0.1), rgba(0, 204, 136, 0.1)); padding: 18px; border-radius: 12px; border-left: 5px solid var(--success); cursor: pointer;">
                    <summary style="font-size: 1.2rem; font-weight: 700; color: var(--success); cursor: pointer; user-select: none;">
                        <i class="fas fa-project-diagram"></i> 3. åœ–æ•¸æ“šåº«æ¨¡å‹ (Graph Model)
                    </summary>
                    <div style="margin-top: 15px; padding-left: 10px;">
                        <div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 8px; margin-bottom: 12px;">
                            <h4 style="color: var(--accent); margin-bottom: 8px;">ğŸ“ é€™æ˜¯ä»€éº¼ï¼Ÿ</h4>
                            <p style="color: var(--text-secondary); line-height: 1.7;">
                                ç”¨<strong>ç¯€é»ï¼ˆNodesï¼‰</strong>å’Œ<strong>é‚Šï¼ˆEdgesï¼‰</strong>è¡¨ç¤ºæ•¸æ“šä¹‹é–“çš„é—œä¿‚ã€‚
                                å°±åƒç¤¾äº¤ç¶²çµ¡çš„æœ‹å‹é—œä¿‚åœ–ï¼
                            </p>
                        </div>

                        <div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 8px; margin-bottom: 12px;">
                            <h4 style="color: var(--success); margin-bottom: 8px;">âœ… é©åˆç”¨é€”</h4>
                            <ul style="color: var(--text-secondary); line-height: 1.8; margin-left: 20px;">
                                <li>ç¤¾äº¤ç¶²çµ¡ï¼ˆFacebookã€LinkedInï¼‰</li>
                                <li>æ¨è–¦ç³»çµ±</li>
                                <li>çŸ¥è­˜åœ–è­œ</li>
                                <li>è·¯å¾‘æŸ¥æ‰¾ï¼ˆå°èˆªï¼‰</li>
                            </ul>
                        </div>

                        <div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 8px; margin-bottom: 12px;">
                            <h4 style="color: var(--warning); margin-bottom: 8px;">ğŸ“‹ æ“ä½œæ­¥é©Ÿ</h4>
                            <div style="background: rgba(0, 0, 0, 0.5); padding: 12px; border-radius: 6px; font-family: monospace;">
                                <code style="color: var(--accent); display: block; margin-bottom: 10px;">-- å‰µå»ºç¯€é»è¡¨
CREATE TABLE nodes (
    id NUMBER,
    type VARCHAR2(50),
    name VARCHAR2(100)
);</code>

                                <code style="color: var(--accent); display: block; margin-bottom: 10px;">-- å‰µå»ºé—œä¿‚è¡¨
CREATE TABLE edges (
    from_id NUMBER,
    to_id NUMBER,
    relationship VARCHAR2(50)
);</code>

                                <code style="color: var(--success); display: block; margin-bottom: 10px;">-- æ’å…¥ç¯€é»ï¼ˆäººï¼‰
INSERT INTO nodes VALUES (1, 'Person', 'Alice');
INSERT INTO nodes VALUES (2, 'Person', 'Bob');
INSERT INTO nodes VALUES (3, 'Person', 'Charlie');</code>

                                <code style="color: var(--success); display: block; margin-bottom: 10px;">-- æ’å…¥é—œä¿‚ï¼ˆæœ‹å‹ï¼‰
INSERT INTO edges VALUES (1, 2, 'FRIEND');
INSERT INTO edges VALUES (2, 3, 'FRIEND');</code>

                                <code style="color: var(--info); display: block;">-- æŸ¥è©¢Aliceçš„æœ‹å‹
SELECT n.name
FROM nodes n
JOIN edges e ON n.id = e.to_id
WHERE e.from_id = 1;</code>
                            </div>
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                            <div style="background: rgba(0, 204, 136, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid var(--success);">
                                <h4 style="color: var(--success); margin-bottom: 8px;">ğŸ‘ å„ªé»</h4>
                                <ul style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; margin-left: 18px;">
                                    <li>é—œä¿‚æŸ¥è©¢å¿«é€Ÿ</li>
                                    <li>é©åˆè¤‡é›œç¶²çµ¡</li>
                                    <li>ç›´è§€è¡¨ç¤ºé—œè¯</li>
                                </ul>
                            </div>
                            <div style="background: rgba(255, 51, 102, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid var(--error);">
                                <h4 style="color: var(--error); margin-bottom: 8px;">ğŸ‘ é™åˆ¶</h4>
                                <ul style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; margin-left: 18px;">
                                    <li>å­¸ç¿’æ›²ç·šé™¡å³­</li>
                                    <li>å‚³çµ±SQLä¸å¤ªé©åˆ</li>
                                    <li>å·¥å…·è¼ƒå°‘</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>

                <!-- æ¨¡å‹4: æ™‚é–“åºåˆ— -->
                <details style="margin-bottom: 15px; background: linear-gradient(135deg, rgba(255, 102, 178, 0.1), rgba(153, 102, 255, 0.1)); padding: 18px; border-radius: 12px; border-left: 5px solid #ff66b2; cursor: pointer;">
                    <summary style="font-size: 1.2rem; font-weight: 700; color: #ff66b2; cursor: pointer; user-select: none;">
                        <i class="fas fa-chart-line"></i> 4. æ™‚é–“åºåˆ—æ¨¡å‹ (Time Series Model)
                    </summary>
                    <div style="margin-top: 15px; padding-left: 10px;">
                        <div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 8px; margin-bottom: 12px;">
                            <h4 style="color: var(--accent); margin-bottom: 8px;">ğŸ“ é€™æ˜¯ä»€éº¼ï¼Ÿ</h4>
                            <p style="color: var(--text-secondary); line-height: 1.7;">
                                å„²å­˜<strong>æŒ‰æ™‚é–“æ’åº</strong>çš„æ•¸æ“šï¼Œæ¯ç­†è¨˜éŒ„éƒ½æœ‰æ™‚é–“æˆ³è¨˜ã€‚
                                é©åˆåˆ†ææ•¸æ“šéš¨æ™‚é–“çš„è®ŠåŒ–è¶¨å‹¢ã€‚
                            </p>
                        </div>

                        <div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 8px; margin-bottom: 12px;">
                            <h4 style="color: var(--success); margin-bottom: 8px;">âœ… é©åˆç”¨é€”</h4>
                            <ul style="color: var(--text-secondary); line-height: 1.8; margin-left: 20px;">
                                <li>è‚¡ç¥¨åƒ¹æ ¼è¿½è¹¤</li>
                                <li>IoT æ„Ÿæ¸¬å™¨æ•¸æ“š</li>
                                <li>ç³»çµ±ç›£æ§æŒ‡æ¨™</li>
                                <li>ç¶²ç«™æµé‡åˆ†æ</li>
                            </ul>
                        </div>

                        <div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 8px; margin-bottom: 12px;">
                            <h4 style="color: var(--warning); margin-bottom: 8px;">ğŸ“‹ æ“ä½œæ­¥é©Ÿ</h4>
                            <div style="background: rgba(0, 0, 0, 0.5); padding: 12px; border-radius: 6px; font-family: monospace;">
                                <code style="color: var(--accent); display: block; margin-bottom: 10px;">-- å‰µå»ºæ™‚é–“åºåˆ—è¡¨
CREATE TABLE sensor_data (
    sensor_id NUMBER,
    timestamp VARCHAR2(50),
    temperature NUMBER,
    humidity NUMBER
);</code>

                                <code style="color: var(--success); display: block; margin-bottom: 10px;">-- æ’å…¥æ™‚é–“åºåˆ—æ•¸æ“š
INSERT INTO sensor_data VALUES (1, '2024-12-25 10:00:00', 25.5, 60.2);
INSERT INTO sensor_data VALUES (1, '2024-12-25 10:01:00', 25.7, 60.5);
INSERT INTO sensor_data VALUES (1, '2024-12-25 10:02:00', 25.6, 60.3);</code>

                                <code style="color: var(--info); display: block;">-- æŸ¥è©¢æœ€è¿‘æ•¸æ“š
SELECT * FROM sensor_data
ORDER BY timestamp DESC;</code>
                            </div>
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                            <div style="background: rgba(0, 204, 136, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid var(--success);">
                                <h4 style="color: var(--success); margin-bottom: 8px;">ğŸ‘ å„ªé»</h4>
                                <ul style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; margin-left: 18px;">
                                    <li>æ™‚é–“æŸ¥è©¢å¿«é€Ÿ</li>
                                    <li>é©åˆè¶¨å‹¢åˆ†æ</li>
                                    <li>è‡ªå‹•æ™‚é–“ç´¢å¼•</li>
                                </ul>
                            </div>
                            <div style="background: rgba(255, 51, 102, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid var(--error);">
                                <h4 style="color: var(--error); margin-bottom: 8px;">ğŸ‘ é™åˆ¶</h4>
                                <ul style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; margin-left: 18px;">
                                    <li>åªé©åˆæ™‚é–“æ•¸æ“š</li>
                                    <li>æ­·å²æ•¸æ“šé¾å¤§</li>
                                    <li>åˆªé™¤ä¸å¸¸è¦‹</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>

                <!-- æ¨¡å‹5: éµå€¼å­˜å„² -->
                <details style="margin-bottom: 15px; background: linear-gradient(135deg, rgba(138, 43, 226, 0.1), rgba(186, 85, 211, 0.1)); padding: 18px; border-radius: 12px; border-left: 5px solid #8a2be2; cursor: pointer;">
                    <summary style="font-size: 1.2rem; font-weight: 700; color: #8a2be2; cursor: pointer; user-select: none;">
                        <i class="fas fa-key"></i> 5. éµå€¼å­˜å„²æ¨¡å‹ (Key-Value Model)
                    </summary>
                    <div style="margin-top: 15px; padding-left: 10px;">
                        <div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 8px; margin-bottom: 12px;">
                            <h4 style="color: var(--accent); margin-bottom: 8px;">ğŸ“ é€™æ˜¯ä»€éº¼ï¼Ÿ</h4>
                            <p style="color: var(--text-secondary); line-height: 1.7;">
                                æœ€ç°¡å–®çš„æ•¸æ“šæ¨¡å‹ï¼Œå°±åƒ<strong>å­—å…¸</strong>ä¸€æ¨£ï¼Œç”¨<strong>éµï¼ˆKeyï¼‰</strong>å­˜å–<strong>å€¼ï¼ˆValueï¼‰</strong>ã€‚
                            </p>
                        </div>

                        <div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 8px; margin-bottom: 12px;">
                            <h4 style="color: var(--success); margin-bottom: 8px;">âœ… é©åˆç”¨é€”</h4>
                            <ul style="color: var(--text-secondary); line-height: 1.8; margin-left: 20px;">
                                <li>ç·©å­˜æ•¸æ“šï¼ˆRedisï¼‰</li>
                                <li>Session å­˜å„²</li>
                                <li>é…ç½®æ–‡ä»¶</li>
                                <li>è³¼ç‰©è»Šæ•¸æ“š</li>
                            </ul>
                        </div>

                        <div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 8px; margin-bottom: 12px;">
                            <h4 style="color: var(--warning); margin-bottom: 8px;">ğŸ“‹ æ“ä½œæ­¥é©Ÿ</h4>
                            <div style="background: rgba(0, 0, 0, 0.5); padding: 12px; border-radius: 6px; font-family: monospace;">
                                <code style="color: var(--accent); display: block; margin-bottom: 10px;">-- å‰µå»ºéµå€¼è¡¨
CREATE TABLE kv_store (
    key VARCHAR2(100),
    value VARCHAR2(500)
);</code>

                                <code style="color: var(--success); display: block; margin-bottom: 10px;">-- å­˜å„²é…ç½®
INSERT INTO kv_store VALUES ('app_name', 'Database Simulator');
INSERT INTO kv_store VALUES ('version', '2.0');
INSERT INTO kv_store VALUES ('theme', 'dark');</code>

                                <code style="color: var(--info); display: block;">-- æŸ¥è©¢å€¼
SELECT value FROM kv_store WHERE key = 'app_name';</code>
                            </div>
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                            <div style="background: rgba(0, 204, 136, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid var(--success);">
                                <h4 style="color: var(--success); margin-bottom: 8px;">ğŸ‘ å„ªé»</h4>
                                <ul style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; margin-left: 18px;">
                                    <li>æ¥µå¿«çš„è®€å¯«é€Ÿåº¦</li>
                                    <li>çµæ§‹è¶…ç´šç°¡å–®</li>
                                    <li>æ˜“æ–¼æ“´å±•</li>
                                </ul>
                            </div>
                            <div style="background: rgba(255, 51, 102, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid var(--error);">
                                <h4 style="color: var(--error); margin-bottom: 8px;">ğŸ‘ é™åˆ¶</h4>
                                <ul style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; margin-left: 18px;">
                                    <li>ç„¡è¤‡é›œæŸ¥è©¢</li>
                                    <li>ç„¡é—œä¿‚æ”¯æŒ</li>
                                    <li>åªèƒ½æŒ‰éµæŸ¥æ‰¾</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>

                <!-- å¿«é€Ÿå°æ¯”è¡¨ -->
                <div style="margin-top: 30px; padding: 20px; background: rgba(0, 0, 0, 0.5); border-radius: 12px; border: 2px solid var(--accent);">
                    <h3 style="color: var(--accent); margin-bottom: 15px; text-align: center;">
                        <i class="fas fa-balance-scale"></i> æ¨¡å‹å¿«é€Ÿå°æ¯”
                    </h3>
                    <div style="overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse; color: var(--text-secondary);">
                            <thead>
                                <tr style="background: rgba(0, 168, 255, 0.2);">
                                    <th style="padding: 12px; border: 1px solid var(--border-color); text-align: left;">æ¨¡å‹</th>
                                    <th style="padding: 12px; border: 1px solid var(--border-color);">æŸ¥è©¢é€Ÿåº¦</th>
                                    <th style="padding: 12px; border: 1px solid var(--border-color);">éˆæ´»æ€§</th>
                                    <th style="padding: 12px; border: 1px solid var(--border-color);">å­¸ç¿’é›£åº¦</th>
                                    <th style="padding: 12px; border: 1px solid var(--border-color);">æœ€é©åˆ</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid var(--border-color);"><strong style="color: var(--primary);">é—œè¯å¼</strong></td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">â­â­â­â­</td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">â­â­â­</td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">â­â­</td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color);">å‚³çµ±æ¥­å‹™ç³»çµ±</td>
                                </tr>
                                <tr style="background: rgba(255, 255, 255, 0.02);">
                                    <td style="padding: 10px; border: 1px solid var(--border-color);"><strong style="color: var(--warning);">JSON</strong></td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">â­â­â­</td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">â­â­â­â­â­</td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">â­â­â­</td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color);">APIï¿½ï¿½ï¿½é…ç½®æ–‡ä»¶</td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid var(--border-color);"><strong style="color: var(--success);">åœ–æ•¸æ“šåº«</strong></td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">â­â­â­â­â­</td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">â­â­â­â­</td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">â­â­â­â­</td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color);">ç¤¾äº¤ç¶²çµ¡ã€æ¨è–¦</td>
                                </tr>
                                <tr style="background: rgba(255, 255, 255, 0.02);">
                                    <td style="padding: 10px; border: 1px solid var(--border-color);"><strong style="color: #ff66b2;">æ™‚é–“åºåˆ—</strong></td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">â­â­â­â­â­</td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">â­â­</td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">â­â­</td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color);">ç›£æ§ã€IoT</td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid var(--border-color);"><strong style="color: #8a2be2;">éµå€¼å­˜å„²</strong></td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">â­â­â­â­â­</td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">â­</td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">â­</td>
                                    <td style="padding: 10px; border: 1px solid var(--border-color);">ç·©å­˜ã€Session</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- é¸æ“‡å»ºè­° -->
                <div style="margin-top: 20px; padding: 18px; background: linear-gradient(135deg, rgba(0, 255, 204, 0.15), rgba(0, 168, 255, 0.15)); border-radius: 12px; border: 2px solid var(--accent);">
                    <h4 style="color: var(--accent); margin-bottom: 12px; text-align: center;">
                        <i class="fas fa-lightbulb"></i> å¦‚ä½•é¸æ“‡åˆé©çš„æ¨¡å‹ï¼Ÿ
                    </h4>
                    <div style="display: grid; gap: 10px;">
                        <div style="padding: 10px; background: rgba(0, 0, 0, 0.3); border-radius: 6px;">
                            <strong style="color: var(--primary);">ğŸ¢ æ¥­å‹™ç³»çµ±ï¼Ÿ</strong>
                            <span style="color: var(--text-secondary);"> â†’ ç”¨<strong>é—œè¯å¼æ¨¡å‹</strong></span>
                        </div>
                        <div style="padding: 10px; background: rgba(0, 0, 0, 0.3); border-radius: 6px;">
                            <strong style="color: var(--success);">ğŸ‘¥ ç¤¾äº¤ç¶²çµ¡ï¼Ÿ</strong>
                            <span style="color: var(--text-secondary);"> â†’ ç”¨<strong>åœ–æ•¸æ“šåº«æ¨¡å‹</strong></span>
                        </div>
                        <div style="padding: 10px; background: rgba(0, 0, 0, 0.3); border-radius: 6px;">
                            <strong style="color: var(--warning);">ğŸ“¦ APIæ•¸æ“šï¼Ÿ</strong>
                            <span style="color: var(--text-secondary);"> â†’ ç”¨<strong>JSONæ¨¡å‹</strong></span>
                        </div>
                        <div style="padding: 10px; background: rgba(0, 0, 0, 0.3); border-radius: 6px;">
                            <strong style="color: #ff66b2;">ğŸ“ˆ ç›£æ§æ•¸æ“šï¼Ÿ</strong>
                            <span style="color: var(--text-secondary);"> â†’ ç”¨<strong>æ™‚é–“åºåˆ—æ¨¡å‹</strong></span>
                        </div>
                        <div style="padding: 10px; background: rgba(0, 0, 0, 0.3); border-radius: 6px;">
                            <strong style="color: #8a2be2;">âš¡ é«˜é€Ÿç·©å­˜ï¼Ÿ</strong>
                            <span style="color: var(--text-secondary);"> â†’ ç”¨<strong>éµå€¼å­˜å„²æ¨¡å‹</strong></span>
                        </div>
                    </div>
                </div>
            </div>


            <!-- å¸¸è¦‹éŒ¯èª¤ -->
            <div>
                <h3 style="color: var(--warning); margin-bottom: 15px;"><i class="fas fa-bug"></i> å¸¸è¦‹éŒ¯èª¤</h3>
                <div style="display: grid; gap: 8px;">
                    <div style="padding: 10px; background: rgba(255,51,102,0.08); border-radius: 6px;">
                        <strong style="color: var(--error);">âŒ</strong> <code>SELECT * FROM students</code>
                        <span style="color: var(--success); margin-left: 10px;"><strong>âœ…</strong> <code>SELECT * FROM students;</code></span>
                    </div>
                    <div style="padding: 10px; background: rgba(255,51,102,0.08); border-radius: 6px;">
                        <strong style="color: var(--error);">âŒ</strong> <code>INSERT INTO t VALUES ("John")</code>
                        <span style="color: var(--success); margin-left: 10px;"><strong>âœ…</strong> <code>INSERT INTO t VALUES ('John');</code></span>
                    </div>
                    <div style="padding: 10px; background: rgba(255,51,102,0.08); border-radius: 6px;">
                        <strong style="color: var(--error);">âŒ</strong> å…ˆ SELECT å¾Œ CREATE TABLE
                        <span style="color: var(--success); margin-left: 10px;"><strong>âœ…</strong> å…ˆ CREATE TABLE å¾Œ SELECT</span>
                    </div>
                </div>
            </div>

            </div>
        </div>
    </div>

    <!-- èªæ³•åƒè€ƒæ¨¡æ…‹æ¡† -->
    <div id="syntaxModal" class="modal">
        <div class="modal-content fade-in" style="max-width: 1000px;">
            <div class="modal-header">
                <h2 class="gradient-text">Oracle Database SQL èªæ³•åƒè€ƒï¼ˆä¸­è‹±å°ç…§ï¼‰</h2>
                <button class="close-modal">&times;</button>
            </div>

            <!-- é›£åº¦åˆ†é¡é¸æ“‡ -->
            <div style="margin-bottom: 30px; display: flex; gap: 15px; flex-wrap: wrap;">
                <button class="syntax-level-btn active" data-level="basic">
                    <i class="fas fa-star"></i> åŸºã€éœ€è¦å­¸ç¿’
                </button>
                <button class="syntax-level-btn" data-level="intermediate">
                    <i class="fas fa-star"></i><i class="fas fa-star"></i> é€²éšèªæ³•
                </button>
                <button class="syntax-level-btn" data-level="advanced">
                    <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i> é«˜éšèªæ³•
                </button>
            </div>

            <!-- åŸºæœ¬èªæ³• -->
            <div class="syntax-level active" data-level="basic">
                <div style="margin-bottom: 25px;">
                    <h3>åŸºæœ¬æ•¸æ“šé¡å‹ (Data Types)</h3>
                    <table class="syntax-table">
                        <thead>
                            <tr>
                                <th>èªæ³•</th>
                                <th>æ‡‰ç”¨</th>
                                <th>ä¸­æ–‡æ„æ€</th>
                                <th>ç¯„ä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="code">VARCHAR2(n)</span></td>
                                <td>å„²å­˜å¯è®Šé•·åº¦å­—ç¬¦ä¸²</td>
                                <td>å¯è®Šå­—ç¬¦ï¼Œæœ€å¤§ n å€‹å­—ç¬¦</td>
                                <td>VARCHAR2(50) - æœ€å¤š50å­—ç¬¦</td>
                            </tr>
                            <tr>
                                <td><span class="code">NUMBER(p,s)</span></td>
                                <td>å„²å­˜æ•¸å€¼å‹è³‡æ–™</td>
                                <td>æ•¸å­—ï¼Œp=ç¸½ä½æ•¸ï¼Œs=å°æ•¸ä½</td>
                                <td>NUMBER(10,2) - å¦‚ 12345.67</td>
                            </tr>
                            <tr>
                                <td><span class="code">DATE</span></td>
                                <td>å„²å­˜æ—¥æœŸå’Œæ™‚é–“</td>
                                <td>æ—¥æœŸæ™‚é–“</td>
                                <td>DATE - å­˜å„²å¹´æœˆæ—¥æ™‚åˆ†ç§’</td>
                            </tr>
                            <tr>
                                <td><span class="code">CHAR(n)</span></td>
                                <td>å„²å­˜å›ºå®šé•·åº¦å­—ç¬¦ä¸²</td>
                                <td>å›ºå®šå­—ç¬¦ï¼Œé•·åº¦ n</td>
                                <td>CHAR(10) - å›ºå®š10å­—ç¬¦</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="margin-bottom: 25px;">
                    <h3>åŸºæœ¬æŸ¥è©¢èªå¥ (Basic SELECT)</h3>
                    <table class="syntax-table">
                        <thead>
                            <tr>
                                <th>èªæ³•</th>
                                <th>ã€ç”¨</th>
                                <th>ä¸­æ–‡æ„æ€</th>
                                <th>ç¯„ä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="sql-keyword">SELECT</span></td>
                                <td>é¸æ“‡è¦æŸ¥è©¢çš„æ¬„ä½</td>
                                <td>é¸æ“‡ / æŸ¥è©¢</td>
                                <td>SELECT name, age FROM students;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">FROM</span></td>
                                <td>æŒ‡å®šè³‡æ–™ä¾†æºè¡¨</td>
                                <td>å¾...è³‡æ–™è¡¨</td>
                                <td>SELECT * FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">WHERE</span></td>
                                <td>è¨­å®šç¯©ã€æ¢ä»¶</td>
                                <td>æ¢ä»¶ç¯©é¸</td>
                                <td>WHERE salary > 50000;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">ORDER BY</span></td>
                                <td>æ’åºæŸ¥è©¢çµæœ</td>
                                <td>æŒ‰...æ’åº</td>
                                <td>ORDER BY name ASC;</td>
                            </tr>
                            <tr>
                                <td><span class="code">*</span></td>
                                <td>é¸æ“‡æ‰€æœ‰æ¬„ä½</td>
                                <td>å…¨éƒ¨æ¬„ä½</td>
                                <td>SELECT * FROM table_name;</td>
                            </tr>
                            <tr>
                                <td><span class="code">;</span></td>
                                <td>SQLèªå¥çµæŸç¬¦è™Ÿ</td>
                                <td>èªå¥çµæŸ</td>
                                <td>æ¯æ¢ SQL èªå¥å¿…é ˆç”¨ ; çµæŸ</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="margin-bottom: 25px;">
                    <h3>æ•¸æ“šæ“ä½œèªè¨€ (DML - Data Manipulation)</h3>
                    <table class="syntax-table">
                        <thead>
                            <tr>
                                <th>èªæ³•</th>
                                <th>æ‡‰ç”¨</th>
                                <th>ä¸­æ–‡æ„æ€</th>
                                <th>ç¯„ä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="sql-keyword">INSERT INTO</span></td>
                                <td>å‘è¡¨ä¸­æ’å…¥æ–°è³‡æ–™</td>
                                <td>æ’å…¥è³‡æ–™</td>
                                <td>INSERT INTO users VALUES (1, 'John');</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">UPDATE</span></td>
                                <td>æ›´æ–°ç¾æœ‰è³‡æ–™</td>
                                <td>æ›´æ–°è³‡æ–™</td>
                                <td>UPDATE users SET age = 25 WHERE id = 1;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">DELETE</span></td>
                                <td>åˆªé™¤è³‡æ–™</td>
                                <td>åˆªé™¤è³‡æ–™</td>
                                <td>DELETE FROM users WHERE id = 1;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">COMMIT</span></td>
                                <td>ç¢ºèªä¸¦å„²å­˜ã€æ˜“</td>
                                <td>æäº¤äº‹å‹™</td>
                                <td>COMMIT; - æ°¸ä¹…ä¿å­˜æ›´æ”¹</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">ROLLBACK</span></td>
                                <td>å–æ¶ˆæœªæäº¤çš„æ›´æ”¹</td>
                                <td>å›æ»¾äº‹å‹™</td>
                                <td>ROLLBACK; - æ’¤éŠ·æ›´æ”¹</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="margin-bottom: 25px;">
                    <h3>æ•¸æ“šå®šç¾©èªè¨€ (DDL - Data Definition)</h3>
                    <table class="syntax-table">
                        <thead>
                            <tr>
                                <th>èªæ³•</th>
                                <th>æ‡‰ç”¨</th>
                                <th>ä¸­æ–‡æ„æ€</th>
                                <th>ç¯„ä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="sql-keyword">CREATE TABLE</span></td>
                                <td>å‰µå»ºæ–°è³‡æ–™è¡¨</td>
                                <td>å‰µå»ºè¡¨</td>
                                <td>CREATE TABLE users (id NUMBER, name VARCHAR2(50));</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">DROP TABLE</span></td>
                                <td>åˆªé™¤æ•´å€‹è³‡æ–™è¡¨</td>
                                <td>åˆªé™¤è¡¨</td>
                                <td>DROP TABLE users;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">ALTER TABLE</span></td>
                                <td>ä¿®æ”¹è¡¨çµæ§‹</td>
                                <td>ä¿®æ”¹è¡¨</td>
                                <td>ALTER TABLE users ADD email VARCHAR2(100);</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">TRUNCATE</span></td>
                                <td>æ¸…ç©ºè¡¨ä¸­æ‰€æœ‰è³‡æ–™</td>
                                <td>æˆªæ–·è¡¨</td>
                                <td>TRUNCATE TABLE users;</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- é€²éšèªæ³• -->
            <div class="syntax-level" data-level="intermediate">
                <div style="margin-bottom: 25px;">
                    <h3>é€²éšæŸ¥è©¢ (Advanced Queries)</h3>
                    <table class="syntax-table">
                        <thead>
                            <tr>
                                <th>èªæ³•</th>
                                <th>æ‡‰ç”¨</th>
                                <th>ä¸­æ–‡æ„æ€</th>
                                <th>ç¯„ä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="sql-keyword">JOIN</span></td>
                                <td>é€£æ¥å¤šå€‹è³‡æ–™è¡¨</td>
                                <td>è¡¨é€£æ¥</td>
                                <td>SELECT * FROM users JOIN orders ON users.id = orders.user_id;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">GROUP BY</span></td>
                                <td>æŒ‰æ¬„ä½åˆ†çµ„è³‡æ–™</td>
                                <td>åˆ†çµ„</td>
                                <td>SELECT dept, COUNT(*) FROM emp GROUP BY dept;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">HAVING</span></td>
                                <td>å°åˆ†çµ„çµæœé€²è¡Œç¯©é¸</td>
                                <td>åˆ†çµ„æ¢ä»¶</td>
                                <td>HAVING COUNT(*) > 5;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">UNION</span></td>
                                <td>åˆä½µå¤šå€‹æŸ¥è©¢çµæœ</td>
                                <td>è¯åˆæŸ¥è©¢</td>
                                <td>SELECT name FROM t1 UNION SELECT name FROM t2;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">DISTINCT</span></td>
                                <td>å»é™¤é‡è¤‡è¨˜éŒ„</td>
                                <td>å»é‡</td>
                                <td>SELECT DISTINCT department FROM employees;</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="margin-bottom: 25px;">
                    <h3>èšåˆå‡½æ•¸ (Aggregate Functions)</h3>
                    <table class="syntax-table">
                        <thead>
                            <tr>
                                <th>èªæ³•</th>
                                <th>æ‡‰ç”¨</th>
                                <th>ä¸­æ–‡æ„æ€</th>
                                <th>ç¯„ä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="sql-function">COUNT()</span></td>
                                <td>è¨ˆç®—è¨˜éŒ„æ•¸é‡</td>
                                <td>è¨ˆæ•¸</td>
                                <td>SELECT COUNT(*) FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">SUM()</span></td>
                                <td>è¨ˆç®—ç¸½å’Œ</td>
                                <td>æ±‚å’Œ</td>
                                <td>SELECT SUM(salary) FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">AVG()</span></td>
                                <td>è¨ˆç®—å¹³å‡å€¼</td>
                                <td>å¹³å‡</td>
                                <td>SELECT AVG(price) FROM products;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">MAX()</span></td>
                                <td>æ‰¾å‡ºæœ€å¤§å€¼</td>
                                <td>æœ€å¤§å€¼</td>
                                <td>SELECT MAX(salary) FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">MIN()</span></td>
                                <td>æ‰¾å‡ºæœ€å°å€¼</td>
                                <td>æœ€å°å€¼</td>
                                <td>SELECT MIN(price) FROM products;</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="margin-bottom: 25px;">
                    <h3>ç´„æŸæ¢ä»¶ (Constraints)</h3>
                    <table class="syntax-table">
                        <thead>
                            <tr>
                                <th>èªæ³•</th>
                                <th>æ‡‰ç”¨</th>
                                <th>ä¸­æ–‡æ„æ€</th>
                                <th>ç¯„ä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="sql-keyword">PRIMARY KEY</span></td>
                                <td>è¨­å®šä¸»ã€ï¼Œå”¯ä¸€æ¨™è­˜</td>
                                <td>ä¸»éµ</td>
                                <td>id NUMBER PRIMARY KEY</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">FOREIGN KEY</span></td>
                                <td>è¨­å®šå¤–éµï¼Œåƒç…§å…¶ä»–è¡¨</td>
                                <td>å¤–éµ</td>
                                <td>FOREIGN KEY (user_id) REFERENCES users(id)</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">NOT NULL</span></td>
                                <td>æ¬„ä½ä¸å¯ç‚ºç©ºå€¼</td>
                                <td>éç©º</td>
                                <td>name VARCHAR2(50) NOT NULL</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">UNIQUE</span></td>
                                <td>æ¬„ä½å€¼å¿…é ˆå”¯ä¸€</td>
                                <td>å”¯ä¸€</td>
                                <td>email VARCHAR2(100) UNIQUE</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">CHECK</span></td>
                                <td>æª¢æŸ¥æ¢ä»¶ç´„æŸ</td>
                                <td>æª¢æŸ¥ç´„æŸ</td>
                                <td>CHECK (age >= 18)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="margin-bottom: 25px;">
                    <h3>å­æŸ¥è©¢ (Subqueries)</h3>
                    <table class="syntax-table">
                        <thead>
                            <tr>
                                <th>èªæ³•</th>
                                <th>æ‡‰ç”¨</th>
                                <th>ä¸­æ–‡æ„æ€</th>
                                <th>ç¯„ä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="sql-keyword">IN</span></td>
                                <td>æª¢æŸ¥å€¼æ˜¯å¦åœ¨åˆ—è¡¨ä¸­</td>
                                <td>åœ¨...ä¹‹ä¸­</td>
                                <td>WHERE id IN (SELECT user_id FROM orders)</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">EXISTS</span></td>
                                <td>æª¢æŸ¥å­æŸ¥è©¢æ˜¯å¦è¿”å›çµæœ</td>
                                <td>å­˜åœ¨</td>
                                <td>WHERE EXISTS (SELECT 1 FROM orders WHERE user_id = u.id)</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">ANY</span></td>
                                <td>èˆ‡å­æŸ¥è©¢ä»»ä¸€å€¼æ¯”è¼ƒ</td>
                                <td>ä»»ä½•</td>
                                <td>WHERE salary > ANY (SELECT avg_salary FROM departments)</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">ALL</span></td>
                                <td>èˆ‡å­æŸ¥è©¢æ‰€æœ‰å€¼ã€è¼ƒ</td>
                                <td>å…¨éƒ¨</td>
                                <td>WHERE salary > ALL (SELECT salary FROM interns)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- é«˜éšèªæ³• -->
            <div class="syntax-level" data-level="advanced">
                <div style="margin-bottom: 25px;">
                    <h3>Oracle å°ˆæœ‰èªæ³• âœ… å·²å®Œæ•´æ”¯æŒ</h3>
                    <table class="syntax-table">
                        <thead>
                            <tr>
                                <th>èªæ³•</th>
                                <th>æ‡‰ç”¨</th>
                                <th>ä¸­æ–‡æ„æ€</th>
                                <th>ç¯„ä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="sql-keyword">ROWNUM</span></td>
                                <td>Oracle è¡Œè™Ÿï¼Œé™åˆ¶æŸ¥è©¢çµæœ</td>
                                <td>è¡Œè™Ÿ</td>
                                <td>SELECT * FROM emp WHERE ROWNUM <= 10;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">CREATE SEQUENCE</span></td>
                                <td>å‰µå»ºè‡ªå‹•éå¢åºåˆ—</td>
                                <td>åºåˆ—</td>
                                <td>CREATE SEQUENCE emp_seq START WITH 1 INCREMENT BY 1;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">NEXTVAL / CURRVAL</span></td>
                                <td>å–å¾—åºåˆ—çš„ä¸‹ä¸€å€‹å€¼/ç•¶å‰å€¼</td>
                                <td>åºåˆ—å€¼</td>
                                <td>INSERT INTO emp VALUES (emp_seq.NEXTVAL, 'John');</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">CREATE SYNONYM</span></td>
                                <td>å‰µå»ºåŒç¾©è©ï¼ˆåˆ¥åï¼‰</td>
                                <td>åŒç¾©è©</td>
                                <td>CREATE SYNONYM emp FOR employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">CREATE PACKAGE</span></td>
                                <td>å‰µå»ºåŒ…ï¼ˆçµ„ç¹”ç›¸é—œç¨‹åºï¼‰</td>
                                <td>åŒ…</td>
                                <td>CREATE PACKAGE emp_pkg AS ... END emp_pkg;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">CREATE TABLESPACE</span></td>
                                <td>å‰µå»ºè¡¨ç©ºé–“ï¼ˆæ¦‚å¿µæ€§ï¼‰</td>
                                <td>è¡¨ç©ºé–“</td>
                                <td>CREATE TABLESPACE users_ts;</td>
                            </tr>
                            <tr>
                                <td><span class="code">DUAL</span></td>
                                <td>Oracle è™›æ“¬å–®è¡Œè¡¨</td>
                                <td>è™›æ“¬è¡¨</td>
                                <td>SELECT SYSDATE FROM DUAL;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">NVL()</span></td>
                                <td>ç©ºå€¼è™•ç†å‡½æ•¸</td>
                                <td>ç©ºå€¼è½‰æ›</td>
                                <td>SELECT NVL(commission, 0) FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">TO_DATE()</span></td>
                                <td>å­—ç¬¦ä¸²è½‰æ—¥æœŸ</td>
                                <td>æ—¥æœŸè½‰æ›</td>
                                <td>TO_DATE('2024-01-15', 'YYYY-MM-DD')</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="margin-bottom: 25px;">
                    <h3>è¦–åœ–èˆ‡ç´¢å¼• (Views & Indexes)</h3>
                    <table class="syntax-table">
                        <thead>
                            <tr>
                                <th>èªæ³•</th>
                                <th>æ‡‰ç”¨</th>
                                <th>ä¸­æ–‡æ„æ€</th>
                                <th>ç¯„ä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="sql-keyword">CREATE VIEW</span></td>
                                <td>å‰µå»ºè¦–åœ–ï¼ˆè™›æ“¬è¡¨ï¼‰</td>
                                <td>å‰µå»ºè¦–åœ–</td>
                                <td>CREATE VIEW emp_view AS SELECT * FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">CREATE INDEX</span></td>
                                <td>å‰µå»ºç´¢å¼•æå‡æŸ¥è©¢é€Ÿåº¦</td>
                                <td>å‰µå»ºç´¢å¼•</td>
                                <td>CREATE INDEX idx_name ON employees(name);</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">DROP VIEW</span></td>
                                <td>åˆªé™¤è¦–åœ–</td>
                                <td>åˆªé™¤è¦–åœ–</td>
                                <td>DROP VIEW emp_view;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">DROP INDEX</span></td>
                                <td>åˆªé™¤ç´¢å¼•</td>
                                <td>åˆªé™¤ç´¢å¼•</td>
                                <td>DROP INDEX idx_name;</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="margin-bottom: 25px;">
                    <h3>é€²éšå‡½æ•¸ (Advanced Functions)</h3>
                    <table class="syntax-table">
                        <thead>
                            <tr>
                                <th>èªæ³•</th>
                                <th>æ‡‰ç”¨</th>
                                <th>ä¸­æ–‡æ„æ€</th>
                                <th>ç¯„ä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="sql-function">NVL()</span></td>
                                <td>è™•ç† NULL å€¼</td>
                                <td>ç©ºå€¼æ›¿æ›</td>
                                <td>SELECT NVL(commission, 0) FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">DECODE()</span></td>
                                <td>æ¢ä»¶åˆ¤æ–·å‡½æ•¸</td>
                                <td>è§£ç¢¼/æ¢ä»¶</td>
                                <td>DECODE(gender, 'M', 'Male', 'F', 'Female')</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">CASE WHEN</span></td>
                                <td>å¤šæ¢ä»¶åˆ¤æ–·</td>
                                <td>æ¢ä»¶åˆ¤æ–·</td>
                                <td>CASE WHEN age < 18 THEN 'Minor' ELSE 'Adult' END</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">ROW_NUMBER()</span></td>
                                <td>çª—å‡½æ•¸ï¼Œç”Ÿæˆè¡Œè™Ÿ</td>
                                <td>è¡Œè™Ÿçª—</td>
                                <td>ROW_NUMBER() OVER (ORDER BY salary DESC)</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">RANK()</span></td>
                                <td>æ’åå‡½æ•¸</td>
                                <td>æ’å</td>
                                <td>RANK() OVER (ORDER BY score DESC)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="margin-bottom: 25px;">
                    <h3>äº‹å‹™æ§åˆ¶ (Transaction Control)</h3>
                    <table class="syntax-table">
                        <thead>
                            <tr>
                                <th>èªæ³•</th>
                                <th>æ‡‰ç”¨</th>
                                <th>ä¸­æ–‡æ„æ€</th>
                                <th>ç¯„ä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="sql-keyword">SAVEPOINT</span></td>
                                <td>è¨­ç½®ä¿å­˜é»</td>
                                <td>ä¿å­˜é»</td>
                                <td>SAVEPOINT sp1;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">ROLLBACK TO</span></td>
                                <td>å›æ»¾åˆ°ä¿å­˜é»</td>
                                <td>å›æ»¾è‡³</td>
                                <td>ROLLBACK TO sp1;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">SET TRANSACTION</span></td>
                                <td>è¨­ç½®äº‹å‹™å±¬æ€§</td>
                                <td>è¨­ç½®äº‹å‹™</td>
                                <td>SET TRANSACTION READ ONLY;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">SET TRANSACTION ISOLATION LEVEL</span></td>
                                <td>è¨­ç½®éš”é›¢ç´šåˆ¥</td>
                                <td>éš”é›¢ç´šåˆ¥</td>
                                <td>SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="margin-bottom: 25px;">
                    <h3>ğŸ”¥ å†·é–€ä½†å¯¦ç”¨çš„èªå¥ (Advanced & Rare)</h3>
                    <table class="syntax-table">
                        <thead>
                            <tr>
                                <th>èªæ³•</th>
                                <th>æ‡‰ç”¨</th>
                                <th>ä¸­æ–‡æ„æ€</th>
                                <th>ç¯„ä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="sql-keyword">MERGE INTO</span></td>
                                <td>åˆä½µæ•¸æ“šï¼ˆæ›´æ–°æˆ–æ’å…¥ï¼‰</td>
                                <td>UPSERT æ“ä½œ</td>
                                <td>MERGE INTO target USING source ON (condition) WHEN MATCHED THEN UPDATE SET ... WHEN NOT MATCHED THEN INSERT ...;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">CONNECT BY</span></td>
                                <td>éšå±¤å¼æŸ¥è©¢ï¼ˆæ¨¹ç‹€çµæ§‹ï¼‰</td>
                                <td>å±¤æ¬¡æŸ¥è©¢</td>
                                <td>SELECT * FROM employees START WITH manager_id IS NULL CONNECT BY PRIOR employee_id = manager_id;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">LISTAGG()</span></td>
                                <td>å°‡å¤šè¡Œèšåˆç‚ºä¸€è¡Œå­—ç¬¦ä¸²</td>
                                <td>å­—ç¬¦ä¸²èšåˆ</td>
                                <td>SELECT dept, LISTAGG(name, ', ') FROM emp GROUP BY dept;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">PIVOT</span></td>
                                <td>è¡Œè½‰åˆ—ï¼ˆäº¤å‰è¡¨ï¼‰</td>
                                <td>æ•¸æ“šé€è¦–</td>
                                <td>SELECT * FROM sales PIVOT (SUM(amount) FOR quarter IN ('Q1', 'Q2', 'Q3', 'Q4'));</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">UNPIVOT</span></td>
                                <td>åˆ—ï¿½ï¿½ï¿½è¡Œï¼ˆåé€è¦–ï¼‰</td>
                                <td>åé€è¦–</td>
                                <td>SELECT * FROM sales UNPIVOT (amount FOR quarter IN (q1, q2, q3, q4));</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">COALESCE()</span></td>
                                <td>è¿”å›ç¬¬ä¸€å€‹é NULL å€¼</td>
                                <td>åˆä½µéç©ºå€¼</td>
                                <td>SELECT COALESCE(phone, mobile, email, 'N/A') FROM contacts;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">NULLIF()</span></td>
                                <td>å…©å€¼ç›¸ç­‰è¿”å› NULL</td>
                                <td>ç©ºå€¼åˆ¤æ–·</td>
                                <td>SELECT NULLIF(salary, 0) FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">REGEXP_LIKE()</span></td>
                                <td>æ­£å‰‡è¡¨é”å¼åŒ¹é…</td>
                                <td>æ­£å‰‡åŒ¹é…</td>
                                <td>SELECT * FROM users WHERE REGEXP_LIKE(email, '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z]{2,}$', 'i');</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">REGEXP_REPLACE()</span></td>
                                <td>æ­£å‰‡è¡¨é”å¼æ›¿æ›</td>
                                <td>æ­£å‰‡æ›¿æ›</td>
                                <td>SELECT REGEXP_REPLACE(phone, '[^0-9]', '') FROM contacts;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">LEAD() / LAG()</span></td>
                                <td>å–å¾—å‰å¾Œè¡Œçš„å€¼</td>
                                <td>çª—å£å‰å¾Œå€¼</td>
                                <td>SELECT name, salary, LAG(salary, 1, 0) OVER (ORDER BY hire_date) AS prev_salary FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">FIRST_VALUE() / LAST_VALUE()</span></td>
                                <td>å–å¾—çª—å£é¦–å°¾å€¼</td>
                                <td>é¦–å°¾å€¼</td>
                                <td>SELECT FIRST_VALUE(salary) OVER (PARTITION BY dept ORDER BY salary DESC) AS max_dept_salary FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">NTILE(n)</span></td>
                                <td>å°‡æ•¸æ“šåˆ†æˆ n å€‹æ¡¶</td>
                                <td>åˆ†æ¡¶å‡½æ•¸</td>
                                <td>SELECT name, NTILE(4) OVER (ORDER BY salary) AS quartile FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">CUME_DIST()</span></td>
                                <td>ç´¯ç©åˆ†ä½ˆï¼ˆç™¾åˆ†ä½ï¼‰</td>
                                <td>ç´¯ç©åˆ†ä½ˆ</td>
                                <td>SELECT name, CUME_DIST() OVER (ORDER BY salary) AS percentile FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">PERCENT_RANK()</span></td>
                                <td>ç™¾åˆ†æ¯”æ’å</td>
                                <td>ç™¾åˆ†æ¯”æ’å</td>
                                <td>SELECT name, PERCENT_RANK() OVER (ORDER BY score) AS pct_rank FROM students;</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="margin-bottom: 25px;">
                    <h3>ğŸ¯ åˆ†æå‡½æ•¸ (Analytical Functions)</h3>
                    <table class="syntax-table">
                        <thead>
                            <tr>
                                <th>èªæ³•</th>
                                <th>æ‡‰ç”¨</th>
                                <th>ä¸­æ–‡æ„æ€</th>
                                <th>ç¯„ä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="sql-function">RATIO_TO_REPORT()</span></td>
                                <td>è¨ˆç®—æ¯”ä¾‹</td>
                                <td>æ¯”ä¾‹è¨ˆç®—</td>
                                <td>SELECT name, salary, RATIO_TO_REPORT(salary) OVER () AS salary_ratio FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">DENSE_RANK()</span></td>
                                <td>å¯†é›†æ’åï¼ˆç„¡é–“éš™ï¼‰</td>
                                <td>å¯†é›†æ’å</td>
                                <td>SELECT name, DENSE_RANK() OVER (ORDER BY score DESC) AS rank FROM students;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">PARTITION BY</span></td>
                                <td>çª—å£å‡½æ•¸åˆ†çµ„</td>
                                <td>åˆ†å€</td>
                                <td>SELECT dept, name, RANK() OVER (PARTITION BY dept ORDER BY salary DESC) AS dept_rank FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">ROWS BETWEEN</span></td>
                                <td>å®šç¾©çª—å£ç¯„åœ</td>
                                <td>è¡Œç¯„åœ</td>
                                <td>SELECT name, AVG(salary) OVER (ORDER BY hire_date ROWS BETWEEN 2 PRECEDING AND CURRENT ROW) AS moving_avg FROM employees;</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="margin-bottom: 25px;">
                    <h3>ğŸ”§ å­—ç¬¦ä¸²èˆ‡æ—¥æœŸå‡½æ•¸ (String & Date Functions)</h3>
                    <table class="syntax-table">
                        <thead>
                            <tr>
                                <th>èªæ³•</th>
                                <th>æ‡‰ç”¨</th>
                                <th>ä¸­æ–‡æ„æ€</th>
                                <th>ç¯„ä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="sql-function">SUBSTR()</span></td>
                                <td>æˆªå–å­å­—ç¬¦ä¸²</td>
                                <td>å­ä¸²</td>
                                <td>SELECT SUBSTR(name, 1, 3) FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">INSTR()</span></td>
                                <td>æŸ¥æ‰¾å­—ç¬¦ä½ç½®</td>
                                <td>å­—ç¬¦ä½ç½®</td>
                                <td>SELECT INSTR(email, '@') FROM users;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">LPAD() / RPAD()</span></td>
                                <td>å·¦å³å¡«å……å­—ç¬¦</td>
                                <td>å¡«å……</td>
                                <td>SELECT LPAD(id, 6, '0') FROM orders; -- 000123</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">TRIM() / LTRIM() / RTRIM()</span></td>
                                <td>å»é™¤ç©ºæ ¼</td>
                                <td>ä¿®å‰ªç©ºæ ¼</td>
                                <td>SELECT TRIM(BOTH ' ' FROM name) FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">REPLACE()</span></td>
                                <td>å­—ç¬¦ä¸²æ›¿æ›</td>
                                <td>æ›¿æ›</td>
                                <td>SELECT REPLACE(phone, '-', '') FROM contacts;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">TRANSLATE()</span></td>
                                <td>å­—ç¬¦æ˜ å°„æ›¿æ›</td>
                                <td>å­—ç¬¦è½‰æ›</td>
                                <td>SELECT TRANSLATE(phone, '0123456789', 'ABCDEFGHIJ') FROM contacts;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">ADD_MONTHS()</span></td>
                                <td>æ—¥æœŸåŠ æ¸›æœˆä»½</td>
                                <td>æœˆä»½è¨ˆç®—</td>
                                <td>SELECT ADD_MONTHS(hire_date, 3) FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">MONTHS_BETWEEN()</span></td>
                                <td>è¨ˆç®—æœˆä»½å·®</td>
                                <td>æœˆä»½å·®</td>
                                <td>SELECT MONTHS_BETWEEN(SYSDATE, hire_date) FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">NEXT_DAY()</span></td>
                                <td>ä¸‹ä¸€å€‹æŒ‡å®šæ˜ŸæœŸ</td>
                                <td>ä¸‹é€±å¹¾</td>
                                <td>SELECT NEXT_DAY(SYSDATE, 'MONDAY') FROM DUAL;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">LAST_DAY()</span></td>
                                <td>æœˆä»½æœ€å¾Œä¸€å¤©</td>
                                <td>æœˆæœ«æ—¥æœŸ</td>
                                <td>SELECT LAST_DAY(hire_date) FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">EXTRACT()</span></td>
                                <td>æå–æ—¥æœŸéƒ¨åˆ†</td>
                                <td>æ—¥æœŸæå–</td>
                                <td>SELECT EXTRACT(YEAR FROM hire_date) FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">TO_CHAR()</span></td>
                                <td>æ—¥æœŸ/æ•¸å­—è½‰å­—ç¬¦</td>
                                <td>æ ¼å¼åŒ–è¼¸å‡º</td>
                                <td>SELECT TO_CHAR(salary, '999,999.99') FROM employees;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-function">TO_NUMBER()</span></td>
                                <td>å­—ç¬¦è½‰æ•¸å­—</td>
                                <td>æ•¸å­—è½‰æ›</td>
                                <td>SELECT TO_NUMBER('12345') FROM DUAL;</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="margin-bottom: 25px;">
                    <h3>âš¡ æ€§èƒ½å„ªåŒ–èˆ‡æç¤º (Performance Hints)</h3>
                    <table class="syntax-table">
                        <thead>
                            <tr>
                                <th>èªæ³•</th>
                                <th>æ‡‰ç”¨</th>
                                <th>ä¸­æ–‡æ„æ€</th>
                                <th>ç¯„ä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="sql-keyword">EXPLAIN PLAN</span></td>
                                <td>åˆ†æåŸ·è¡Œè¨ˆåŠƒ</td>
                                <td>åŸ·è¡Œè¨ˆåŠƒ</td>
                                <td>EXPLAIN PLAN FOR SELECT * FROM employees WHERE dept = 'IT';</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">/*+ INDEX(table index) */</span></td>
                                <td>å¼·åˆ¶ä½¿ç”¨ç´¢å¼•</td>
                                <td>ç´¢å¼•æç¤º</td>
                                <td>SELECT /*+ INDEX(emp idx_name) */ * FROM emp WHERE name = 'John';</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">/*+ FULL(table) */</span></td>
                                <td>å¼·åˆ¶å…¨è¡¨æƒæ</td>
                                <td>å…¨è¡¨æç¤º</td>
                                <td>SELECT /*+ FULL(emp) */ * FROM emp;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">/*+ PARALLEL(n) */</span></td>
                                <td>ä¸¦è¡ŒæŸ¥è©¢</td>
                                <td>ä¸¦è¡Œæç¤º</td>
                                <td>SELECT /*+ PARALLEL(4) */ * FROM large_table;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">ANALYZE TABLE</span></td>
                                <td>æ”¶é›†çµ±è¨ˆä¿¡æ¯</td>
                                <td>åˆ†æè¡¨</td>
                                <td>ANALYZE TABLE employees COMPUTE STATISTICS;</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="margin-bottom: 25px;">
                    <h3>ğŸ” æ•¸æ“šå®‰å…¨èˆ‡æ¬Šé™ (Security & Privileges)</h3>
                    <table class="syntax-table">
                        <thead>
                            <tr>
                                <th>èªæ³•</th>
                                <th>æ‡‰ç”¨</th>
                                <th>ä¸­æ–‡æ„æ€</th>
                                <th>ç¯„ä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="sql-keyword">GRANT</span></td>
                                <td>æˆäºˆæ¬Šé™</td>
                                <td>æˆæ¬Š</td>
                                <td>GRANT SELECT, INSERT ON employees TO user1;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">REVOKE</span></td>
                                <td>æ’¤éŠ·æ¬Šé™</td>
                                <td>æ’¤æ¬Š</td>
                                <td>REVOKE INSERT ON employees FROM user1;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">CREATE USER</span></td>
                                <td>å‰µå»ºç”¨æˆ¶</td>
                                <td>å‰µå»ºç”¨æˆ¶</td>
                                <td>CREATE USER john IDENTIFIED BY password123;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">ALTER USER</span></td>
                                <td>ä¿®æ”¹ç”¨æˆ¶</td>
                                <td>ä¿®æ”¹ç”¨æˆ¶</td>
                                <td>ALTER USER john IDENTIFIED BY newpass456;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">CREATE ROLE</span></td>
                                <td>å‰µå»ºè§’è‰²</td>
                                <td>è§’è‰²</td>
                                <td>CREATE ROLE manager;</td>
                            </tr>
                            <tr>
                                <td><span class="sql-keyword">GRANT ROLE</span></td>
                                <td>æˆäºˆè§’è‰²</td>
                                <td>è§’è‰²æˆæ¬Š</td>
                                <td>GRANT manager TO john;</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€è®Šæ•¸
        let currentDatabase = {};
        let currentUser = "Sam";
        let currentDatabaseName = "Test";
        let currentMode = "free"; // free or exercise
        let currentExerciseIndex = 0;
        let savedData = {}; // å„²å­˜çš„è³‡æ–™
        let executionHistory = []; // SQL åŸ·è¡Œæ­·å²
        let currentChart = null; // ç•¶å‰åœ–è¡¨å¯¦ä¾‹
        let lastQueryResult = null; // æœ€å¾ŒæŸ¥è©¢çµæœ
        let currentDataModel = 'relational'; // ç•¶ï¿½ï¿½ï¿½æ•¸æ“šæ¨¡å‹

        // æˆå°±ç³»çµ±
        let userAchievements = {
            earned: [],
            progress: {
                sqlExecutions: 0,
                tablesCreated: 0,
                joinsPerformed: 0,
                proceduresCreated: 0,
                triggersCreated: 0,
                transactionsUsed: 0,
                errorsEncountered: 0,
                errorsFixed: 0,
                modelsExplored: []
            }
        };

        const achievements = {
            first_query: {
                id: 'first_query',
                name: 'SQL åˆå­¸è€…',
                description: 'åŸ·è¡Œç¬¬ä¸€å€‹ SQL æŸ¥è©¢',
                icon: 'ğŸŒŸ',
                requirement: { sqlExecutions: 1 }
            },
            table_creator: {
                id: 'table_creator',
                name: 'å»ºè¡¨å¤§å¸«',
                description: 'å‰µå»º 5 å€‹è³‡æ–™è¡¨',
                icon: 'ğŸ“Š',
                requirement: { tablesCreated: 5 }
            },
            join_master: {
                id: 'join_master',
                name: 'JOIN æŸ¥è©¢å¤§å¸«',
                description: 'åŸ·è¡Œ 10 æ¬¡ JOIN æŸ¥è©¢',
                icon: 'ğŸ”—',
                requirement: { joinsPerformed: 10 }
            },
            procedure_expert: {
                id: 'procedure_expert',
                name: 'å­˜å„²éç¨‹å°ˆå®¶',
                description: 'å‰µå»º 3 å€‹å­˜å„²éç¨‹æˆ–å‡½æ•¸',
                icon: 'âš™ï¸',
                requirement: { proceduresCreated: 3 }
            },
            trigger_wizard: {
                id: 'trigger_wizard',
                name: 'è§¸ç™¼å™¨å·«å¸«',
                description: 'å‰µå»º 3 å€‹è§¸ç™¼å™¨',
                icon: 'âš¡',
                requirement: { triggersCreated: 3 }
            },
            transaction_pro: {
                id: 'transaction_pro',
                name: 'äº‹å‹™è™•ç†å°ˆå®¶',
                description: 'ä½¿ç”¨ COMMIT/ROLLBACK 10 æ¬¡',
                icon: 'ğŸ’¾',
                requirement: { transactionsUsed: 10 }
            },
            error_fixer: {
                id: 'error_fixer',
                name: 'èª¿è©¦é«˜æ‰‹',
                description: 'ä¿®å¾© 20 å€‹éŒ¯èª¤',
                icon: 'ğŸ›',
                requirement: { errorsFixed: 20 }
            },
            model_explorer: {
                id: 'model_explorer',
                name: 'æ•¸æ“šæ¨¡å‹æ¢ç´¢è€…',
                description: 'å˜—è©¦ 5 ç¨®ä¸åŒçš„æ•¸æ“šæ¨¡å‹',
                icon: 'ğŸ—ºï¸',
                requirement: { modelsExploredCount: 5 }
            },
            sql_veteran: {
                id: 'sql_veteran',
                name: 'SQL è€æ‰‹',
                description: 'åŸ·è¡Œ 100 å€‹ SQL èªå¥',
                icon: 'ğŸ†',
                requirement: { sqlExecutions: 100 }
            }
        };

        // å¢å¼·çš„æ•¸æ“šåº«å…ƒæ•¸æ“šçµæ§‹
        let databaseMetadata = {
            tables: {},      // è¡¨æ ¼å…ƒæ•¸æ“š
            views: {},       // è¦–åœ–å®šç¾©
            indexes: {},     // ç´¢å¼•å®šç¾©
            constraints: {}, // ç´„æŸå®šç¾©
            triggers: {},    // è§¸ç™¼å™¨å®šç¾©
            procedures: {},  // å­˜å„²éç¨‹å®šç¾©
            sequences: {},   // åºåˆ—å®šç¾© (Oracle SEQUENCE)
            packages: {},    // åŒ…å®šç¾© (Oracle PACKAGE)
            synonyms: {},    // åŒç¾©è©å®šç¾© (Oracle SYNONYM)
            tablespaces: {}  // è¡¨ç©ºé–“å®šç¾© (Oracle TABLESPACE, æ¦‚å¿µæ€§)
        };

        // 15ç¨®æ•¸æ“šæ¨¡å‹å®šç¾©
        const dataModels = {
            relational: {
                id: 'relational',
                name: 'é—œè¯å¼æ¨¡å‹',
                icon: 'ğŸ“Š',
                category: 'åŸºç¤æ¨¡å‹',
                description: 'å‚³çµ±çš„é—œè¯å¼æ•¸æ“šåº«ï¼Œä½¿ç”¨è¡¨æ ¼åŸ·è¡Œå’Œåˆ—ä¾†å­˜å„²æ•¸æ“šï¼Œæ”¯æŒ ACID ç‰¹æ€§',
                examples: [
                    "-- é—œè¯å¼æ•¸æ“šåº«æ¨¡å‹\n-- æ‚¨å¯ä»¥åœ¨é€™è£¡è‡ªç”±ç·¨å¯« SQL ã€å¥\n-- ä¾‹å¦‚ï¼šCREATE TABLE, INSERT, SELECT, UPDATE, DELETE ç­‰\n\n"
                ]
            },
            json: {
                id: 'json',
                name: 'JSONã€ä»¶æ¨¡å‹',
                icon: 'ğŸ“„',
                category: 'åŸºç¤æ¨¡å‹',
                description: 'JSON è³‡æ–™é¡å‹èˆ‡æŸ¥è©¢ï¼Œæ”¯æŒåŠçµæ§‹åŒ–æ•¸æ“šå­˜å„²å’Œ JSON è·¯å¾‘æŸ¥è©¢',
                examples: [
                    "-- å‰µå»º JSON æ–‡ä»¶è¡¨\nCREATE TABLE products (\n    id INT,\n    data JSON\n);\n\n-- æ’å…¥ JSON æ•¸æ“š\nINSERT INTO products VALUES (1, '{\"name\":\"Laptop\",\"price\":1200,\"specs\":{\"cpu\":\"i7\",\"ram\":\"16GB\"}}');\n\n-- JSON è·¯å¾‘æŸ¥è©¢ï¼ˆæ¨¡æ“¬ï¼‰\nSELECT * FROM products;"
                ]
            },
            xml: {
                id: 'xml',
                name: 'XMLæ¨¡å‹',
                icon: 'ğŸ“‹',
                category: 'åŸºç¤æ¨¡å‹',
                description: 'XML æ•¸æ“šåº«ï¿½ï¿½ï¿½ XQuery æ”¯æ´ï¼Œç”¨æ–¼è™•ç† XML æ ¼å¼çš„æ–‡æª”æ•¸æ“š',
                examples: [
                    "-- å‰µå»º XML æ–‡ä»¶è¡¨\nCREATE TABLE documents (\n    id INT,\n    title VARCHAR(100),\n    content VARCHAR(500)\n);\n\n-- æ’å…¥ XML æ•¸æ“š\nINSERT INTO documents VALUES (1, 'Product Catalog', '<products><product id=\"1\"><name>Laptop</name></product></products>');\n\n-- æŸ¥è©¢\nSELECT * FROM documents;"
                ]
            },
            graph: {
                id: 'graph',
                name: 'åœ–å½¢è³‡æ–™åº«',
                icon: 'ğŸ”—',
                category: 'åŸºç¤æ¨¡å‹',
                description: 'å±¬æ€§åœ–èˆ‡ PGQL æŸ¥è©¢èªè¨€ï¼Œé©åˆè™•ç†é—œä¿‚å¯†é›†çš„æ•¸æ“šï¼ˆå¦‚ç¤¾äº¤ç¶²çµ¡ï¼‰',
                examples: [
                    "-- å‰µå»ºç¯€é»è¡¨ï¼ˆæ¨¡æ“¬åœ–æ•¸æ“šåº«ï¼‰\nCREATE TABLE nodes (\n    id INT,\n    type VARCHAR(50),\n    name VARCHAR(100)\n);\n\n-- å‰µå»ºé‚Šè¡¨\nCREATE TABLE edges (\n    from_id INT,\n    to_id INT,\n    relationship VARCHAR(50)\n);\n\n-- æ’å…¥ç¯€é»\nINSERT INTO nodes VALUES (1, 'Person', 'Alice');\nINSERT INTO nodes VALUES (2, 'Person', 'Bob');\n\n-- æ’å…¥é—œä¿‚\nINSERT INTO edges VALUES (1, 2, 'FRIEND');\n\n-- æŸ¥è©¢\nSELECT * FROM edges;"
                ]
            },
            spatial: {
                id: 'spatial',
                name: 'ç©ºé–“è³‡æ–™',
                icon: 'ğŸ—ºï¸',
                category: 'åŸºç¤æ¨¡å‹',
                description: 'Spatial and Graph ç©ºé–“è³‡æ–™è™•ç†ï¼Œæ”¯æŒåœ°ç†ä½ç½®æŸ¥è©¢å’Œç©ºé–“åˆ†æ',
                examples: [
                    "-- å‰µå»ºä½ç½®è¡¨\nCREATE TABLE locations (\n    id INT,\n    name VARCHAR(100),\n    latitude DECIMAL,\n    longitude DECIMAL\n);\n\n-- æ’å…¥åœ°ç†æ•¸æ“š\nINSERT INTO locations VALUES (1, 'Taipei 101', 25.0340, 121.5645);\nINSERT INTO locations VALUES (2, 'National Palace Museum', 25.1023, 121.5485);\n\n-- æŸ¥è©¢\nSELECT * FROM locations;"
                ]
            },
            blockchain: {
                id: 'blockchain',
                name: 'å€å¡Šéˆè¡¨',
                icon: 'â›“ï¸',
                category: 'é€²éšæ¨¡å‹',
                description: 'é˜²ç«„æ”¹å€å¡Šéˆè¡¨æ ¼ï¼Œæ•¸æ“šä¸€æ—¦å¯«å…¥ä¾¿ç„¡æ³•ä¿®æ”¹ï¼Œä¿è­‰æ•¸æ“šå®Œæ•´æ€§',
                examples: [
                    "-- å‰µå»ºå€å¡Šéˆè¡¨ï¼ˆåªå…è¨± INSERTï¼‰\nCREATE TABLE transactions (\n    id INT,\n    timestamp VARCHAR(50),\n    from_account VARCHAR(50),\n    to_account VARCHAR(50),\n    amount INT\n);\n\n-- æ’å…¥äº¤æ˜“è¨˜éŒ„ï¼ˆä¸å¯ä¿®æ”¹ï¼‰\nINSERT INTO transactions VALUES (1, '2024-12-07 10:00:00', 'Alice', 'Bob', 1000);\nINSERT INTO transactions VALUES (2, '2024-12-07 10:05:00', 'Bob', 'Charlie', 500);\n\n-- æŸ¥è©¢äº¤æ˜“æ­·å²\nSELECT * FROM transactions;"
                ]
            },
            keyvalue: {
                id: 'keyvalue',
                name: 'ã€å€¼å„²å­˜',
                icon: 'ğŸ”‘',
                category: 'é€²éšï¿½ï¿½ï¿½å‹',
                description: 'SODAï¼ˆSimple Oracle Document Accessï¼‰ï¼Œç°¡å–®çš„éµå€¼å°å­˜å„²',
                examples: [
                    "-- å‰µå»ºéµå€¼è¡¨\nCREATE TABLE kv_store (\n    key VARCHAR(100),\n    value VARCHAR(500)\n);\n\n-- å­˜å„²é…ç½®\nINSERT INTO kv_store VALUES ('app_name', 'Database Simulator');\nINSERT INTO kv_store VALUES ('version', '1.0.0');\nINSERT INTO kv_store VALUES ('theme', 'dark');\n\n-- æŸ¥è©¢å€¼\nSELECT * FROM kv_store WHERE key = 'app_name';"
                ]
            },
            timeseries: {
                id: 'timeseries',
                name: 'æ™‚é–“åºåˆ—',
                icon: 'ğŸ“ˆ',
                category: 'é€²éšæ¨¡ã€',
                description: 'æ™‚é–“åºåˆ—è³‡æ–™è™•ç†ï¼Œé©åˆè™•ç†ï¿½ï¿½ï¿½è¯ç¶²ã€ç›£æ§ç­‰æ™‚åºæ•¸æ“š',
                examples: [
                    "-- å‰µå»ºæ™‚é–“åºåˆ—è¡¨\nCREATE TABLE sensor_data (\n    sensor_id INT,\n    timestamp VARCHAR(50),\n    temperature DECIMAL,\n    humidity DECIMAL\n);\n\n-- æ’å…¥æ„Ÿæ¸¬å™¨æ•¸æ“š\nINSERT INTO sensor_data VALUES (1, '2024-12-07 10:00:00', 25.5, 60.2);\nINSERT INTO sensor_data VALUES (1, '2024-12-07 10:01:00', 25.7, 60.5);\nINSERT INTO sensor_data VALUES (1, '2024-12-07 10:02:00', 25.6, 60.3);\n\n-- æŸ¥è©¢æœ€è¿‘æ•¸æ“š\nSELECT * FROM sensor_data;"
                ]
            },
            fulltext: {
                id: 'fulltext',
                name: 'æ–‡å­—æœå°‹',
                icon: 'ğŸ”',
                category: 'é€²éšæ¨¡å‹',
                description: 'Oracle Text å…¨æ–‡æª¢ç´¢ï¼Œæ”¯æŒå¼·å¤§çš„æ–‡æœ¬æœç´¢å’Œåˆ†æåŠŸèƒ½',
                examples: [
                    "-- å‰µå»ºæ–‡æª”è¡¨\nCREATE TABLE articles (\n    id INT,\n    title VARCHAR(200),\n    content VARCHAR(1000)\n);\n\n-- æ’å…¥æ–‡ç« \nINSERT INTO articles VALUES (1, 'Database Introduction', 'Databases are essential for modern applications...');\nINSERT INTO articles VALUES (2, 'SQL Tutorial', 'SQL is a powerful language for querying databases...');\n\n-- å…¨æ–‡æœç´¢\nSELECT * FROM articles WHERE content LIKE '%database%';"
                ]
            },
            object: {
                id: 'object',
                name: 'ç‰©ä»¶é—œè¯æ¨¡å‹',
                icon: 'ğŸ“¦',
                category: 'é€²éšæ¨¡å‹',
                description: 'ç‰©ã€é¡å‹èˆ‡ç‰©ä»¶è¡¨æ ¼ï¼Œçµåˆç‰©ä»¶å°å‘èˆ‡é—œè¯å¼æ•¸æ“šåº«çš„å„ªé»',
                examples: [
                    "-- å‰µå»ºç‰©ä»¶è¡¨ï¼ˆæ¨¡æ“¬ï¼‰\nCREATE TABLE employees_obj (\n    id INT,\n    name VARCHAR(50),\n    address VARCHAR(200),\n    skills VARCHAR(200)\n);\n\n-- æ’å…¥ç‰©ä»¶æ•¸æ“š\nINSERT INTO employees_obj VALUES (1, 'Alice', '{\"city\":\"Taipei\",\"street\":\"Xinyi Rd.\"}', '[\"Python\",\"SQL\",\"JavaScript\"]');\n\n-- æŸ¥è©¢\nSELECT * FROM employees_obj;"
                ]
            },
            semistructured: {
                id: 'semistructured',
                name: 'åŠçµæ§‹åŒ–è³‡æ–™',
                icon: 'ğŸ”€',
                category: 'å°ˆæ¥­æ¨¡å‹',
                description: 'æ··åˆçµæ§‹æ”¯æ´ï¼Œå¯ä»¥åœ¨åŒä¸€è¡¨æ ¼ä¸­å­˜å„²ä¸åŒçµæ§‹çš„æ•¸æ“š',
                examples: [
                    "-- å‰µå»ºåŠçµæ§‹åŒ–è¡¨\nCREATE TABLE mixed_data (\n    id INT,\n    type VARCHAR(50),\n    data VARCHAR(500)\n);\n\n-- æ’å…¥ä¸åŒçµæ§‹çš„æ•¸æ“š\nINSERT INTO mixed_data VALUES (1, 'user', '{\"name\":\"Alice\",\"age\":30}');\nINSERT INTO mixed_data VALUES (2, 'product', '{\"name\":\"Laptop\",\"price\":1200,\"specs\":{}}');\n\n-- æŸ¥è©¢\nSELECT * FROM mixed_data;"
                ]
            },
            streaming: {
                id: 'streaming',
                name: 'æµè³‡æ–™è™•ç†',
                icon: 'ğŸ’§',
                category: 'å°ˆæ¥­æ¨¡å‹',
                description: 'Continuous Query Notificationï¼ˆCQNï¼‰æŒçºŒã€è©¢é€šçŸ¥ï¼Œå¯¦æ™‚è™•ç†æµæ•¸æ“š',
                examples: [
                    "-- å‰µå»ºäº‹ä»¶æµè¡¨\nCREATE TABLE event_stream (\n    event_id INT,\n    timestamp VARCHAR(50),\n    event_type VARCHAR(50),\n    data VARCHAR(200)\n);\n\n-- æ’å…¥å³æ™‚äº‹ä»¶\nINSERT INTO event_stream VALUES (1, '2024-12-07 10:00:00', 'user_login', '{\"user\":\"Alice\"}');\nINSERT INTO event_stream VALUES (2, '2024-12-07 10:00:05', 'purchase', '{\"user\":\"Bob\",\"amount\":100}');\n\n-- æŸ¥è©¢äº‹ã€æµ\nSELECT * FROM event_stream;"
                ]
            },
            inmemory: {
                id: 'inmemory',
                name: 'è¨˜æ†¶é«”è³‡æ–™åº«',
                icon: 'âš¡',
                category: 'å°ˆæ¥­ã€å‹',
                description: 'In-Memory Column Storeï¼Œå°‡æ•¸æ“šå­˜å„²åœ¨å…§å­˜ä¸­ä»¥å¯¦ç¾æ¥µå¿«çš„æŸ¥è©¢é€Ÿåº¦',
                examples: [
                    "-- å‰µå»ºå…§å­˜è¡¨ï¼ˆé«˜é€ŸæŸ¥è©¢ï¼‰\nCREATE TABLE cache_data (\n    id INT,\n    key VARCHAR(100),\n    value VARCHAR(200),\n    access_count INT\n);\n\n-- æ’ï¿½ï¿½ï¿½ç·©å­˜æ•¸æ“š\nINSERT INTO cache_data VALUES (1, 'session_123', '{\"user\":\"Alice\"}', 150);\nINSERT INTO cache_data VALUES (2, 'session_456', '{\"user\":\"Bob\"}', 89);\n\n-- å¿«é€ŸæŸ¥è©¢\nSELECT * FROM cache_data WHERE access_count > 100;"
                ]
            },
            distributed: {
                id: 'distributed',
                name: 'åˆ†ä½ˆå¼è³‡æ–™',
                icon: 'ğŸŒ',
                category: 'å°ˆæ¥­æ¨¡å‹',
                description: 'Database Link èˆ‡ Shardingï¼Œå°‡æ•¸æ“šåˆ†ä½ˆåœ¨å¤šå€‹ç¯€é»ä¸Šä»¥æé«˜å¯æ“´å±•æ€§',
                examples: [
                    "-- å‰µå»ºåˆ†ç‰‡è¡¨\nCREATE TABLE users_shard1 (\n    id INT,\n    name VARCHAR(50),\n    region VARCHAR(50)\n);\n\n-- æ’å…¥å€åŸŸæ•¸æ“šï¼ˆäºæ´²åˆ†ç‰‡ï¼‰\nINSERT INTO users_shard1 VALUES (1, 'Alice', 'Asia');\nINSERT INTO users_shard1 VALUES (2, 'Bob', 'Asia');\n\n-- æŸ¥è©¢\nSELECT * FROM users_shard1;"
                ]
            },
            multitenant: {
                id: 'multitenant',
                name: 'å¤šç§Ÿæˆ¶æ¨¡å‹',
                icon: 'ğŸ¢',
                category: 'å°ˆæ¥­æ¨¡å‹',
                description: 'Pluggable Databaseï¼ˆPDBï¼‰æ¶æ§‹ï¼Œä¸€å€‹æ•¸æ“šåº«å¯¦ä¾‹æ”¯æŒå¤šå€‹ç¨ç«‹ç§Ÿæˆ¶',
                examples: [
                    "-- å‰µå»ºç§Ÿæˆ¶è¡¨\nCREATE TABLE tenant_data (\n    tenant_id INT,\n    tenant_name VARCHAR(100),\n    data VARCHAR(200)\n);\n\n-- æ’å…¥ç§Ÿæˆ¶æ•¸æ“š\nINSERT INTO tenant_data VALUES (1, 'Company A', '{\"employees\":100}');\nINSERT INTO tenant_data VALUES (2, 'Company B', '{\"employees\":50}');\n\n-- æŸ¥è©¢ç‰¹å®šç§Ÿæˆ¶\nSELECT * FROM tenant_data WHERE tenant_id = 1;"
                ]
            }
        };

        // å¤šæª”æ¡ˆç®¡ç†ç³»çµ±
        let databaseFiles = []; // æ‰€æœ‰è³‡æ–™åº«æª”æ¡ˆ
        let currentFileIndex = 0; // ç•¶å‰æ´»å‹•æª”æ¡ˆç´¢å¼•
        let nextFileId = 1; // ä¸‹ä¸€å€‹æª”æ¡ˆID

        // ã€ç¿’é¡Œç›®ï¼ˆæ“´å±•é¡Œåº«ï¼‰
        const exercisesPool = [
            {
                title: "å‰µå»ºéƒ¨é–€è¡¨æ ¼",
                description: `<strong>ğŸ“‹ è¡¨æ ¼åç¨±ï¼š</strong>DEPARTMENTS<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ åŒ…å«ä»¥ä¸‹æ¬„ä½ï¼š<br>
  &nbsp;&nbsp;1. DEPT_ID - éƒ¨é–€ç·¨è™Ÿï¼ˆæ•¸å­—ï¼Œä¸»éµï¼‰<br>
  &nbsp;&nbsp;2. DEPT_NAME - éƒ¨é–€åç¨±ï¼ˆå­—ä¸²ï¼Œéç©ºï¼‰<br>
  &nbsp;&nbsp;3. LOCATION - æ‰€åœ¨åœ°é»ï¼ˆå­—ä¸²ï¼‰<br>
  &nbsp;&nbsp;4. BUDGET - å¹´åº¦é ç®—ï¼ˆæ•¸å­—ï¼Œå°æ•¸é»å…©ä½ï¼‰<br>
â€¢ éƒ¨é–€åç¨±å¿…é ˆæ˜¯å”¯ä¸€å€¼<br>
â€¢ é ç®—ä¸èƒ½ç‚ºè² æ•¸`,
                hint: "ğŸ’¡ æç¤ºï¼šä½¿ç”¨ CREATE TABLE èªå¥å»ºç«‹è¡¨æ ¼ï¼Œä½¿ç”¨ PRIMARY KEY å®šç¾©ä¸»éµï¼Œä½¿ç”¨ UNIQUE ç¢ºä¿éƒ¨é–€åç¨±å”¯ä¸€ï¼Œä½¿ï¿½ï¿½ï¿½ CHECK ç´„æŸç¢ºä¿é ç®—ç‚ºæ­£æ•¸",
                solution: "CREATE TABLE DEPARTMENTS (DEPT_ID NUMBER PRIMARY KEY, DEPT_NAME VARCHAR2(50) NOT NULL UNIQUE, LOCATION VARCHAR2(50), BUDGET NUMBER(12,2) CHECK(BUDGET >= 0));",
                difficulty: "åŸºç¤",
                difficultyStars: 2,
                category: "DDL - å»ºè¡¨",
                requirements: [
                    { text: "è¡¨æ ¼åç¨±ç‚º DEPARTMENTS", points: 3 },
                    { text: "åŒ…å« DEPT_ID æ¬„ä½ï¼ˆä¸»éµï¼‰", points: 5 },
                    { text: "åŒ…å« DEPT_NAME æ¬„ä½ï¼ˆéç©ºã€å”¯ä¸€ï¼‰", points: 5 },
                    { text: "åŒ…å« LOCATION æ¬„ä½", points: 3 },
                    { text: "åŒ…å« BUDGET æ¬„ä½ï¼ˆå°æ•¸é»å…©ä½ï¼‰", points: 4 },
                    { text: "DEPT_NAME è¨­å®š UNIQUE ç´„æŸ", points: 5 },
                    { text: "BUDGET è¨­å®š CHECK ç´„æŸï¼ˆ>= 0ï¼‰", points: 5 }
                ]
            },
            {
                title: "å‰µå»ºç”¢å“ç›®éŒ„è¡¨",
                description: `<strong>ğŸ“‹ è¡¨æ ¼åç¨±ï¼š</strong>PRODUCTS<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ åŒ…å«ä»¥ä¸‹æ¬„ä½ï¼š<br>
  &nbsp;&nbsp;1. PROD_ID - ç”¢å“ç·¨è™Ÿï¼ˆæ•¸å­—ï¼Œä¸»éµï¼‰<br>
  &nbsp;&nbsp;2. PROD_NAME - ï¿½ï¿½ï¿½å“åç¨±ï¼ˆå­—ä¸²ï¼Œéç©ºï¼‰<br>
  &nbsp;&nbsp;3. CATEGORY - ç”¢å“é¡åˆ¥ï¼ˆå­—ä¸²ï¼‰<br>
  &nbsp;&nbsp;4. PRICE - å–®åƒ¹ï¼ˆæ•¸å­—ï¼Œå°æ•¸é»å…©ä½ï¼‰<br>
  &nbsp;&nbsp;5. STOCK - åº«å­˜æ•¸é‡ï¼ˆæ•¸å­—ï¼Œé è¨­ç‚º0ï¼‰<br>
  &nbsp;&nbsp;6. STATUS - ç‹€æ…‹ï¼ˆåªèƒ½è¼¸å…¥ 'ä¸Šæ¶' æˆ– 'ä¸‹æ¶'ï¼‰`,
                hint: "ğŸ’¡ æç¤ºï¼šä½¿ç”¨ PRIMARY KEY å®šç¾©ä¸»éµï¼Œä½¿ç”¨ CHECK ç´„æŸé™åˆ¶ç‹€æ…‹å€¼ï¼Œä½¿ç”¨ DEFAULT è¨­å®šé è¨­åº«å­˜",
                solution: "CREATE TABLE PRODUCTS (PROD_ID NUMBER PRIMARY KEY, PROD_NAME VARCHAR2(100) NOT NULL, CATEGORY VARCHAR2(50), PRICE NUMBER(10,2), STOCK NUMBER DEFAULT 0, STATUS VARCHAR2(10) CHECK(STATUS IN ('ä¸Šæ¶','ä¸‹æ¶')));",
                difficulty: "åŸºç¤",
                difficultyStars: 2,
                category: "DDL - å»ºè¡¨",
                requirements: [
                    { text: "è¡¨æ ¼åç¨±ç‚º PRODUCTS", points: 3 },
                    { text: "åŒ…å« PROD_ID æ¬„ä½ï¼ˆä¸»éµï¼‰", points: 5 },
                    { text: "åŒ…å« PROD_NAME æ¬„ä½ï¼ˆéç©ºï¼‰", points: 4 },
                    { text: "åŒ…å« PRICE æ¬„ä½ï¼ˆå°æ•¸é»å…©ä½ï¼‰", points: 5 },
                    { text: "åŒ…å« STOCK æ¬„ä½ï¼ˆé è¨­ç‚º0ï¼‰", points: 5 },
                    { text: "åŒ…å« STATUS æ¬„ä½ï¼ˆCHECK ç´„æŸé™åˆ¶ä¸Šæ¶/ä¸‹æ¶ï¼‰", points: 8 }
                ]
            },
            {
                title: "å‰µå»ºå®¢æˆ¶è³‡æ–™è¡¨",
                description: `<strong>ğŸ“‹ è¡¨æ ¼åç¨±ï¼š</strong>CUSTOMERS<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ åŒ…å«ä»¥ä¸‹æ¬„ä½ï¼š<br>
  &nbsp;&nbsp;1. CUST_ID - å®¢æˆ¶ç·¨è™Ÿï¼ˆæ•¸å­—ï¼Œä¸»éµï¼‰<br>
  &nbsp;&nbsp;2. CUST_NAME - å®¢æˆ¶å§“åï¼ˆå­—ä¸²ï¼Œéç©ºï¼‰<br>
  &nbsp;&nbsp;3. EMAIL - é›»å­éƒµä»¶ï¼ˆå­—ä¸²ï¼Œå¿…é ˆå”¯ä¸€ï¼‰<br>
  &nbsp;&nbsp;4. PHONE - è¯çµ¡é›»è©±ï¼ˆå­—ä¸²ï¼‰<br>
  &nbsp;&nbsp;5. CITY - æ‰€åœ¨åŸå¸‚ï¼ˆå­—ä¸²ï¼‰<br>
  &nbsp;&nbsp;6. VIP_LEVEL - VIPç­‰ç´šï¼ˆæ•¸å­—ï¼Œç¯„åœ1-5ï¼‰`,
                hint: "ğŸ’¡ æç¤ºï¼šä½¿ç”¨ UNIQUE ç¢ºä¿é›»å­éƒµä»¶å”¯ä¸€ï¿½ï¿½ï¿½ä½¿ç”¨ CHECK ç´„æŸé™åˆ¶ VIP ç­‰ç´šç¯„åœ",
                solution: "CREATE TABLE CUSTOMERS (CUST_ID NUMBER PRIMARY KEY, CUST_NAME VARCHAR2(50) NOT NULL, EMAIL VARCHAR2(100) UNIQUE, PHONE VARCHAR2(20), CITY VARCHAR2(50), VIP_LEVEL NUMBER CHECK(VIP_LEVEL BETWEEN 1 AND 5));",
                difficulty: "åŸºç¤",
                difficultyStars: 2,
                category: "DDL - å»ºè¡¨",
                requirements: [
                    { text: "è¡¨æ ¼åç¨±ç‚º CUSTOMERS", points: 3 },
                    { text: "åŒ…å« CUST_ID æ¬„ä½ï¼ˆä¸»éµï¼‰", points: 5 },
                    { text: "åŒ…å« CUST_NAME æ¬„ä½ï¼ˆéç©ºï¼‰", points: 4 },
                    { text: "åŒ…å« EMAIL æ¬„ä½ï¼ˆå”¯ä¸€ï¼‰", points: 5 },
                    { text: "åŒ…å« VIP_LEVEL æ¬„ä½ï¼ˆCHECK ç´„æŸ 1-5ï¼‰", points: 8 },
                    { text: "æ­£ç¢ºä½¿ç”¨ BETWEEN èªæ³•", points: 5 }
                ]
            },
            {
                title: "å‰µå»ºè¨‚å–®è¡¨",
                description: `<strong>ğŸ“‹ è¡¨æ ¼åç¨±ï¼š</strong>ORDERS<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ åŒ…å«ä»¥ä¸‹æ¬„ä½ï¼š<br>
  &nbsp;&nbsp;1. ORDER_ID - è¨‚å–®ç·¨è™Ÿï¼ˆæ•¸å­—ï¼Œä¸»éµï¼‰<br>
  &nbsp;&nbsp;2. ORDER_DATE - è¨‚å–®æ—¥æœŸï¼ˆæ—¥æœŸï¼Œé è¨­ç‚ºç³»çµ±æ—¥æœŸï¼‰<br>
  &nbsp;&nbsp;3. TOTAL_AMOUNT - è¨‚å–®ç¸½é¡ï¼ˆæ•¸å­—ï¼Œå°æ•¸é»å…©ä½ï¼‰<br>
  &nbsp;&nbsp;4. PAYMENT_STATUS - ä»˜æ¬¾ç‹€æ…‹ï¼ˆåªèƒ½è¼¸å…¥ 'æœªä»˜æ¬¾'ã€'å·²ä»˜æ¬¾'ã€'é€€æ¬¾'ï¼‰<br>
  &nbsp;&nbsp;5. DELIVERY_STATUS - é…é€ç‹€æ…‹ï¼ˆåªèƒ½è¼¸å…¥ 'å¾…å‡ºè²¨'ã€'é…é€ä¸­'ã€'å·²é€é”'ï¼‰`,
                hint: "ğŸ’¡ æç¤ºï¼šä½¿ç”¨ DEFAULT SYSDATE è¨­å®šé è¨­è¨‚å–®æ—¥æœŸï¼Œä½¿ç”¨ CHECK ç´„æŸé™åˆ¶ç‹€æ…‹å€¼",
                solution: "CREATE TABLE ORDERS (ORDER_ID NUMBER PRIMARY KEY, ORDER_DATE DATE DEFAULT SYSDATE, TOTAL_AMOUNT NUMBER(12,2), PAYMENT_STATUS VARCHAR2(20) CHECK(PAYMENT_STATUS IN ('æœªä»˜æ¬¾','å·²ä»˜æ¬¾','é€€æ¬¾')), DELIVERY_STATUS VARCHAR2(20) CHECK(DELIVERY_STATUS IN ('å¾…å‡ºè²¨','é…é€ä¸­','å·²é€é”')));",
                difficulty: "ä¸­ç´š",
                difficultyStars: 2.5,
                category: "DDL - å»ºè¡¨",
                requirements: [
                    { text: "è¡¨æ ¼åç¨±ç‚º ORDERS", points: 3 },
                    { text: "åŒ…å« ORDER_ID æ¬„ä½ï¼ˆä¸»éµï¼‰", points: 4 },
                    { text: "åŒ…å« ORDER_DATE æ¬„ä½ï¼ˆé è¨­ SYSDATEï¼‰", points: 5 },
                    { text: "åŒ…å« PAYMENT_STATUS æ¬„ä½ï¼ˆCHECK ç´„æŸï¼‰", points: 9 },
                    { text: "åŒ…å« DELIVERY_STATUS æ¬„ä½ï¼ˆCHECK ç´„æŸï¼‰", points: 9 }
                ]
            },
            {
                title: "å‰µå»ºæ›¸ç±è³‡æ–™è¡¨",
                description: `<strong>ğŸ“‹ è¡¨æ ¼åç¨±ï¼š</strong>BOOKS<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ åŒ…å«ä»¥ä¸‹æ¬„ä½ï¼š<br>
  &nbsp;&nbsp;1. BOOK_ID - æ›¸ç±ç·¨è™Ÿï¼ˆæ•¸å­—ï¼Œä¸»éµï¼‰<br>
  &nbsp;&nbsp;2. TITLE - æ›¸åï¼ˆå­—ä¸²ï¼Œéç©ºï¼‰<br>
  &nbsp;&nbsp;3. AUTHOR - ä½œè€…ï¼ˆå­—ä¸²ï¼‰<br>
  &nbsp;&nbsp;4. PUBLISHER - å‡ºç‰ˆç¤¾ï¼ˆå­—ä¸²ï¼‰<br>
  &nbsp;&nbsp;5. PRICE - å”®åƒ¹ï¼ˆæ•¸å­—ï¼Œå°æ•¸é»å…©ä½ï¼‰<br>
  &nbsp;&nbsp;6. PUBLISH_YEAR - å‡ºç‰ˆå¹´ä»½ï¼ˆæ•¸å­—ï¼Œç¯„åœ1900-2100ï¼‰`,
                hint: "ğŸ’¡ æç¤ºï¼šä½¿ç”¨ CHECK ç´„æŸé™åˆ¶å‡ºç‰ˆå¹´ä»½ç¯„åœ",
                solution: "CREATE TABLE BOOKS (BOOK_ID NUMBER PRIMARY KEY, TITLE VARCHAR2(200) NOT NULL, AUTHOR VARCHAR2(100), PUBLISHER VARCHAR2(100), PRICE NUMBER(10,2), PUBLISH_YEAR NUMBER CHECK(PUBLISH_YEAR BETWEEN 1900 AND 2100));",
                difficulty: "åŸºç¤",
                difficultyStars: 2,
                category: "DDL - å»ºè¡¨",
                requirements: [
                    { text: "è¡¨æ ¼åç¨±ç‚º BOOKS", points: 3 },
                    { text: "åŒ…å« BOOK_ID æ¬„ä½ï¼ˆä¸»éµï¼‰", points: 5 },
                    { text: "åŒ…å« TITLE æ¬„ä½ï¼ˆéç©ºï¼‰", points: 4 },
                    { text: "åŒ…å« PRICE æ¬„ä½ï¼ˆå°æ•¸é»å…©ä½ï¼‰", points: 5 },
                    { text: "åŒ…å« PUBLISH_YEAR æ¬„ä½ï¼ˆCHECK ç´„æŸ 1900-2100ï¼‰", points: 8 },
                    { text: "æ­£ç¢ºä½¿ç”¨ BETWEEN èªæ³•", points: 5 }
                ]
            },
            {
                title: "å‰µå»ºå­¸ç”Ÿæˆç¸¾è¡¨",
                description: `<strong>ğŸ“‹ è¡¨æ ¼åç¨±ï¼š</strong>STUDENT_GRADES<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ åŒ…å«ä»¥ä¸‹æ¬„ä½ï¼š<br>
  &nbsp;&nbsp;1. STUDENT_ID - å­¸è™Ÿï¼ˆæ•¸å­—ï¼Œä¸»éµï¼‰<br>
  &nbsp;&nbsp;2. STUDENT_NAME - å­¸ç”Ÿå§“åï¼ˆå­—ä¸²ï¼Œéç©ºï¼‰<br>
  &nbsp;&nbsp;3. SUBJECT - ç§‘ç›®ï¼ˆå­—ä¸²ï¼‰<br>
  &nbsp;&nbsp;4. SCORE - åˆ†æ•¸ï¼ˆæ•¸å­—ï¼Œç¯„åœ0-100ï¼‰<br>
  &nbsp;&nbsp;5. GRADE - ç­‰ç´šï¼ˆåªèƒ½ï¿½ï¿½ï¿½å…¥ 'A'ã€'B'ã€'C'ã€'D'ã€'F'ï¼‰`,
                hint: "ğŸ’¡ æç¤ºï¼šä½¿ç”¨ CHECK ç´„æŸé™åˆ¶åˆ†æ•¸ç¯„åœå’Œç­‰ç´šå€¼",
                solution: "CREATE TABLE STUDENT_GRADES (STUDENT_ID NUMBER PRIMARY KEY, STUDENT_NAME VARCHAR2(50) NOT NULL, SUBJECT VARCHAR2(50), SCORE NUMBER CHECK(SCORE BETWEEN 0 AND 100), GRADE CHAR(1) CHECK(GRADE IN ('A','B','C','D','F')));",
                difficulty: "ä¸­ç´š",
                difficultyStars: 2.5,
                category: "DDL - å»ºè¡¨",
                requirements: [
                    { text: "è¡¨æ ¼åç¨±ç‚º STUDENT_GRADES", points: 3 },
                    { text: "åŒ…å« STUDENT_ID æ¬„ä½ï¼ˆä¸»éµï¼‰", points: 5 },
                    { text: "åŒ…å« STUDENT_NAME æ¬„ä½ï¼ˆéç©ºï¼‰", points: 4 },
                    { text: "åŒ…å« SCORE æ¬„ä½ï¼ˆCHECK ç´„æŸ 0-100ï¼‰", points: 9 },
                    { text: "åŒ…å« GRADE æ¬„ä½ï¼ˆCHECK ç´„æŸ A/B/C/D/Fï¼‰", points: 9 }
                ]
            },
            {
                title: "å‰µå»ºå“¡å·¥å‡ºå‹¤è¡¨",
                description: `<strong>ğŸ“‹ è¡¨æ ¼åç¨±ï¼š</strong>ATTENDANCE<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ åŒ…å«ä»¥ä¸‹æ¬„ä½ï¼š<br>
  &nbsp;&nbsp;1. ATT_ID - è¨˜éŒ„ç·¨è™Ÿï¼ˆæ•¸å­—ï¼Œä¸»éµï¼‰<br>
  &nbsp;&nbsp;2. EMP_NAME - å“¡å·¥å§“åï¼ˆå­—ä¸²ï¼Œéç©ºï¼‰<br>
  &nbsp;&nbsp;3. ATT_DATE - å‡ºå‹¤æ—¥æœŸï¼ˆæ—¥æœŸï¼‰<br>
  &nbsp;&nbsp;4. CHECK_IN - æ‰“å¡ä¸Šç­æ™‚é–“ï¼ˆå­—ä¸²ï¼‰<br>
  &nbsp;&nbsp;5. CHECK_OUT - æ‰“å¡ä¸‹ç­æ™‚é–“ï¼ˆå­—ä¸²ï¼‰<br>
  &nbsp;&nbsp;6. STATUS - å‡ºå‹¤ç‹€æ…‹ï¼ˆåªèƒ½è¼¸å…¥ 'æ­£å¸¸'ã€'é²åˆ°'ã€'æ—©é€€'ã€'è«‹å‡'ã€'æ› è·'ï¼‰`,
                hint: "ğŸ’¡ æç¤ºï¼šä½¿ç”¨ CHECK ç´„æŸé™åˆ¶å‡ºå‹¤ç‹€æ…‹å€¼",
                solution: "CREATE TABLE ATTENDANCE (ATT_ID NUMBER PRIMARY KEY, EMP_NAME VARCHAR2(50) NOT NULL, ATT_DATE DATE, CHECK_IN VARCHAR2(10), CHECK_OUT VARCHAR2(10), STATUS VARCHAR2(10) CHECK(STATUS IN ('æ­£å¸¸','é²åˆ°','æ—©é€€','è«‹å‡','æ› è·')));",
                difficulty: "ä¸­ç´š",
                difficultyStars: 2.5,
                category: "DDL - å»ºè¡¨",
                requirements: [
                    { text: "è¡¨æ ¼åç¨±ç‚º ATTENDANCE", points: 3 },
                    { text: "åŒ…å« ATT_ID æ¬„ä½ï¼ˆä¸»éµï¼‰", points: 5 },
                    { text: "åŒ…å« EMP_NAME æ¬„ä½ï¼ˆéç©ºï¼‰", points: 4 },
                    { text: "åŒ…å« ATT_DATE æ¬„ä½", points: 5 },
                    { text: "åŒ…å« STATUS æ¬„ä½ï¼ˆCHECK ç´„æŸï¼‰", points: 13 }
                ]
            },
            {
                title: "å‰µå»ºèª²ç¨‹è¡¨",
                description: `<strong>ğŸ“‹ è¡¨æ ¼åç¨±ï¼š</strong>COURSES<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ åŒ…å«ä»¥ä¸‹æ¬„ä½ï¼š<br>
  &nbsp;&nbsp;1. COURSE_ID - èª²ç¨‹ç·¨è™Ÿï¼ˆæ•¸å­—ï¼Œä¸»éµï¼‰<br>
  &nbsp;&nbsp;2. COURSE_NAME - èª²ç¨‹åç¨±ï¼ˆå­—ä¸²ï¼Œéç©ºï¼Œå”¯ä¸€ï¼‰<br>
  &nbsp;&nbsp;3. CREDITS - å­¸åˆ†ï¼ˆæ•¸å­—ï¼Œç¯„åœ1-6ï¼‰<br>
  &nbsp;&nbsp;4. INSTRUCTOR - æˆèª²æ•™å¸«ï¼ˆå­—ä¸²ï¼‰<br>
  &nbsp;&nbsp;5. MAX_STUDENTS - æœ€å¤§å­¸ç”Ÿæ•¸ï¼ˆæ•¸å­—ï¼Œé è¨­ç‚º30ï¼‰`,
                hint: "ğŸ’¡ æç¤ºï¼šä½¿ç”¨ UNIQUE ç¢ºä¿èª²ç¨‹åç¨±å”¯ä¸€ï¼Œä½¿ç”¨ CHECK ç´„æŸé™åˆ¶å­¸åˆ†ç¯„åœï¼Œä½¿ç”¨ DEFAULT è¨­å®šé è¨­å€¼",
                solution: "CREATE TABLE COURSES (COURSE_ID NUMBER PRIMARY KEY, COURSE_NAME VARCHAR2(100) NOT NULL UNIQUE, CREDITS NUMBER CHECK(CREDITS BETWEEN 1 AND 6), INSTRUCTOR VARCHAR2(50), MAX_STUDENTS NUMBER DEFAULT 30);",
                difficulty: "ä¸­ç´š",
                difficultyStars: 3,
                category: "DDL - å»ºè¡¨",
                requirements: [
                    { text: "è¡¨æ ¼åç¨±ç‚º COURSES", points: 3 },
                    { text: "åŒ…å« COURSE_ID æ¬„ä½ï¼ˆä¸»éµï¼‰", points: 5 },
                    { text: "åŒ…å« COURSE_NAME æ¬„ä½ï¼ˆéç©ºã€å”¯ä¸€ï¼‰", points: 6 },
                    { text: "åŒ…å« CREDITS æ¬„ä½ï¼ˆCHECK ç´„æŸ 1-6ï¼‰", points: 8 },
                    { text: "åŒ…å« MAX_STUDENTS æ¬„ä½ï¼ˆé è¨­ç‚º30ï¼‰", points: 8 }
                ]
            },
            {
                title: "å‰µå»ºä¾›æ‡‰å•†è¡¨",
                description: `<strong>ğŸ“‹ è¡¨æ ¼åç¨±ï¼š</strong>SUPPLIERS<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ åŒ…ã€ä»¥ä¸‹æ¬„ä½ï¼š<br>
  &nbsp;&nbsp;1. SUPPLIER_ID - ä¾›æ‡‰å•†ç·¨è™Ÿï¼ˆæ•¸å­—ï¼Œä¸»éµï¼‰<br>
  &nbsp;&nbsp;2. SUPPLIER_NAME - ä¾›æ‡‰å•†åç¨±ï¼ˆå­—ä¸²ï¼Œéç©ºï¼Œå”¯ä¸€ï¼‰<br>
  &nbsp;&nbsp;3. CONTACT_PERSON - è¯çµ¡äººï¼ˆå­—ä¸²ï¼‰<br>
  &nbsp;&nbsp;4. PHONE - è¯çµ¡é›»è©±ï¼ˆå­—ä¸²ï¼‰<br>
  &nbsp;&nbsp;5. ADDRESS - åœ°å€ï¼ˆå­—ä¸²ï¼‰<br>
  &nbsp;&nbsp;6. RATING - è©•ç´šï¼ˆæ•¸å­—ï¼Œç¯„åœ1-10ï¼‰`,
                hint: "ğŸ’¡ æç¤ºï¼šä½¿ç”¨ UNIQUE ç¢ºä¿ä¾›æ‡‰å•†åç¨±å”¯ä¸€ï¼Œä½¿ç”¨ CHECK ç´„æŸé™åˆ¶è©•ç´šç¯„åœ",
                solution: "CREATE TABLE SUPPLIERS (SUPPLIER_ID NUMBER PRIMARY KEY, SUPPLIER_NAME VARCHAR2(100) NOT NULL UNIQUE, CONTACT_PERSON VARCHAR2(50), PHONE VARCHAR2(20), ADDRESS VARCHAR2(200), RATING NUMBER CHECK(RATING BETWEEN 1 AND 10));",
                difficulty: "åŸºç¤",
                difficultyStars: 2,
                category: "DDL - å»ºè¡¨",
                requirements: [
                    { text: "è¡¨æ ¼åç¨±ç‚º SUPPLIERS", points: 3 },
                    { text: "ï¿½ï¿½ï¿½å« SUPPLIER_ID æ¬„ä½ï¼ˆä¸»éµï¼‰", points: 5 },
                    { text: "åŒ…å« SUPPLIER_NAME æ¬„ä½ï¼ˆéç©ºã€å”¯ä¸€ï¼‰", points: 6 },
                    { text: "åŒ…å« RATING æ¬„ä½ï¼ˆCHECK ç´„æŸ 1-10ï¼‰", points: 8 },
                    { text: "æ­£ç¢ºä½¿ç”¨ BETWEEN èªæ³•", points: 8 }
                ]
            },
            {
                title: "æ’å…¥éƒ¨é–€è³‡æ–™",
                description: `<strong>ğŸ“‹ æ“ä½œç›®æ¨™ï¼š</strong>å‘ DEPARTMENTS è¡¨æ’å…¥è³‡æ–™<br><br>
<strong>ğŸ“Š ç³»çµ±å·²æä¾›ï¼š</strong>DEPARTMENTS ç©ºè¡¨<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong>æ’å…¥ä»¥ä¸‹éƒ¨é–€è³‡æ–™ï¼š<br>
â€¢ éƒ¨é–€1ï¼šITéƒ¨é–€ï¼Œåœ°é»ï¼šä¹é¾ï¼Œé ç®—ï¼š1,000,000<br>
â€¢ éƒ¨é–€2ï¼šäººäº‹éƒ¨ï¼Œåœ°é»ï¼šæ¸¯å³¶ï¼Œé ç®—ï¼š500,000<br>
â€¢ éƒ¨é–€3ï¼šè²¡å‹™éƒ¨ï¼Œåœ°é»ï¼šæ–°ç•Œï¼Œé ç®—ï¼š800,000<br>
â€¢ éƒ¨é–€4ï¼šå¸‚å ´éƒ¨ï¼Œåœ°é»ï¼šä¹é¾ï¼Œé ç®—ï¼š700,000`,
                hint: "ğŸ’¡ æç¤ºï¼šä½¿ç”¨ INSERT INTO èªå¥ï¼Œå¯ä»¥ä¸€æ¬¡æ’å…¥ä¸€ç­†è³‡æ–™",
                solution: "INSERT INTO DEPARTMENTS VALUES (1, 'ITéƒ¨é–€', 'ä¹é¾', 1000000); INSERT INTO DEPARTMENTS VALUES (2, 'äººäº‹éƒ¨', 'æ¸¯å³¶', 500000); INSERT INTO DEPARTMENTS VALUES (3, 'è²¡å‹™éƒ¨', 'æ–°ç•Œ', 800000); INSERT INTO DEPARTMENTS VALUES (4, 'å¸‚å ´éƒ¨', 'ä¹é¾', 700000);",
                difficulty: "åŸºç¤",
                difficultyStars: 1.5,
                category: "DML - æ’å…¥",
                initialData: [
                    "CREATE TABLE DEPARTMENTS (DEPT_ID NUMBER PRIMARY KEY, DEPT_NAME VARCHAR2(50) NOT NULL UNIQUE, LOCATION VARCHAR2(50), BUDGET NUMBER(12,2) CHECK(BUDGET >= 0))"
                ],
                requirements: [
                    { text: "ä½¿ç”¨ INSERT INTO èªå¥", points: 5 },
                    { text: "æ’å…¥ ITéƒ¨é–€ è³‡æ–™", points: 6 },
                    { text: "æ’å…¥ äººäº‹éƒ¨ è³‡æ–™", points: 6 },
                    { text: "æ’å…¥ è²¡å‹™éƒ¨ è³‡æ–™", points: 6 },
                    { text: "æ’å…¥ å¸‚å ´éƒ¨ è³‡æ–™", points: 7 }
                ]
            },
            {
                title: "æ’å…¥å®¢æˆ¶è³‡æ–™",
                description: `<strong>ğŸ“‹ æ“ä½œç›®æ¨™ï¼š</strong>å‘ CUSTOMERS è¡¨æ’å…¥è³‡æ–™<br><br>
<strong>ğŸ“Š ç³»çµ±å·²æä¾›ï¼š</strong>CUSTOMERS ç©ºè¡¨<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong>æ’å…¥ä»¥ä¸‹å®¢æˆ¶è³‡æ–™ï¼š<br>
1. é™³å°æ˜ï¼Œéƒµç®±ï¼šchen@email.comï¼Œé›»è©±ï¼š91234567ï¼ŒåŸå¸‚ï¼šé¦™æ¸¯ï¼ŒVIPç­‰ç´šï¼š3<br>
2. æç¾ç²ï¼Œéƒµç®±ï¼šli@email.comï¼Œé›»è©±ï¼š98765432ï¼ŒåŸå¸‚ï¼šä¹é¾ï¼ŒVIPç­‰ç´šï¼š5<br>
3. ç‹å¤§å‰ï¼Œéƒµç®±ï¼šwang@email.comï¼Œé›»è©±ï¼š92345678ï¼ŒåŸå¸‚ï¼šæ–°ç•Œï¼ŒVIPç­‰ç´šï¼š2`,
                hint: "ğŸ’¡ æç¤ºï¼šä½¿ç”¨ INSERT INTO èªå¥ï¼Œç¢ºä¿ VIP ç­‰ç´šåœ¨ 1-5 ç¯„åœå…§",
                solution: "INSERT INTO CUSTOMERS VALUES (1, 'é™³å°æ˜', 'chen@email.com', '91234567', 'é¦™æ¸¯', 3); INSERT INTO CUSTOMERS VALUES (2, 'æç¾ç²', 'li@email.com', '98765432', 'ä¹é¾', 5); INSERT INTO CUSTOMERS VALUES (3, 'ç‹å¤§å‰', 'wang@email.com', '92345678', 'æ–°ç•Œ', 2);",
                difficulty: "åŸºç¤",
                difficultyStars: 1,
                category: "DML - æ’å…¥",
                initialData: [
                    "CREATE TABLE CUSTOMERS (CUST_ID NUMBER PRIMARY KEY, CUST_NAME VARCHAR2(50) NOT NULL, EMAIL VARCHAR2(100) UNIQUE, PHONE VARCHAR2(20), CITY VARCHAR2(50), VIP_LEVEL NUMBER CHECK(VIP_LEVEL BETWEEN 1 AND 5))"
                ],
                requirements: [
                    { text: "ä½¿ç”¨ INSERT INTO èªå¥", points: 5 },
                    { text: "æ’å…¥é™³å°æ˜è³‡æ–™", points: 8 },
                    { text: "æ’å…¥æç¾ç²è³‡æ–™", points: 8 },
                    { text: "æ’å…¥ç‹å¤§å‰è³‡æ–™", points: 9 }
                ]
            },
            {
                title: "æ’å…¥æ›¸ç±è³‡æ–™",
                description: `<strong>ğŸ“‹ æ“ä½œç›®æ¨™ï¼š</strong>å‘ BOOKS è¡¨æ’å…¥è³‡æ–™<br><br>
<strong>ğŸ“Š ç³»çµ±å·²æä¾›ï¼š</strong>BOOKS ç©ºè¡¨<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong>æ’å…¥ä»¥ä¸‹æ›¸ç±è³‡æ–™ï¼š<br>
1. SQLåŸºç¤æ•™ç¨‹ï¼Œä½œè€…ï¼šå¼µæ˜ï¼Œå‡ºç‰ˆç¤¾ï¼šè³‡è¨Šå‡ºç‰ˆç¤¾ï¼Œå”®åƒ¹ï¼š350ï¼Œå‡ºç‰ˆå¹´ä»½ï¼š2023<br>
2. è³‡æ–™åº«è¨­è¨ˆï¼Œä½œè€…ï¼šæè¯ï¼Œå‡ºç‰ˆç¤¾ï¼šæŠ€è¡“å‡ºç‰ˆç¤¾ï¼Œå”®åƒ¹ï¼š450ï¼Œå‡ºç‰ˆå¹´ä»½ï¼š2022<br>
3. é€²éšSQLæŠ€å·§ï¼Œä½œè€…ï¼šç‹å¼·ï¼Œå‡ºç‰ˆç¤¾ï¼šè³‡è¨Šå‡ºç‰ˆç¤¾ï¼Œå”®åƒ¹ï¼š520ï¼Œå‡ºç‰ˆå¹´ä»½ï¼š2024`,
                hint: "ğŸ’¡ æç¤ºï¼šä½¿ç”¨ INSERT INTO èªå¥ï¼Œç¢ºä¿å‡ºç‰ˆå¹´ä»½åœ¨ 1900-2100 ç¯„åœå…§",
                solution: "INSERT INTO BOOKS VALUES (1, 'SQLåŸºç¤æ•™ç¨‹', 'å¼µæ˜', 'è³‡è¨Šå‡ºç‰ˆç¤¾', 350, 2023); INSERT INTO BOOKS VALUES (2, 'è³‡æ–™åº«è¨­è¨ˆ', 'æè¯', 'æŠ€è¡“å‡ºç‰ˆç¤¾', 450, 2022); INSERT INTO BOOKS VALUES (3, 'é€²éšSQLæŠ€å·§', 'ç‹å¼·', 'è³‡è¨Šå‡ºç‰ˆç¤¾', 520, 2024);",
                difficulty: "åŸºç¤",
                difficultyStars: 1,
                category: "DML - æ’å…¥",
                initialData: [
                    "CREATE TABLE BOOKS (BOOK_ID NUMBER PRIMARY KEY, TITLE VARCHAR2(200) NOT NULL, AUTHOR VARCHAR2(100), PUBLISHER VARCHAR2(100), PRICE NUMBER(10,2), PUBLISH_YEAR NUMBER CHECK(PUBLISH_YEAR BETWEEN 1900 AND 2100))"
                ],
                requirements: [
                    { text: "ä½¿ç”¨ INSERT INTO èªå¥", points: 5 },
                    { text: "æ’å…¥SQLåŸºç¤æ•™ç¨‹è³‡æ–™", points: 8 },
                    { text: "æ’å…¥è³‡æ–™åº«è¨­è¨ˆè³‡æ–™", points: 8 },
                    { text: "æ’å…¥é€²éšSQLæŠ€å·§è³‡æ–™", points: 9 }
                ]
            },
            {
                title: "æŸ¥è©¢å®¢æˆ¶è³‡æ–™",
                description: `<strong>ğŸ“‹ æ“ä½œç›®æ¨™ï¼š</strong>æŸ¥è©¢ CUSTOMERS è¡¨ä¸­çš„å®¢æˆ¶<br><br>
<strong>ğŸ“Š ç³»çµ±å·²æä¾›ï¼š</strong>CUSTOMERS è¡¨ï¼ˆ3 ä½å®¢æˆ¶ï¼‰<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ æŸ¥è©¢ VIPç­‰ç´š >= 3 çš„å®¢æˆ¶<br>
â€¢ é¡¯ç¤ºå®¢æˆ¶å§“åã€åŸå¸‚ã€VIPç­‰ç´š<br>
â€¢ æŒ‰ç…§ VIPç­‰ç´š é™åºæ’åº`,
                hint: "ğŸ’¡ æç¤ºï¼šä½¿ç”¨ SELECT èªå¥é…åˆ WHERE æ¢ä»¶ï¼Œä½¿ç”¨ ORDER BY æ’åº",
                solution: "SELECT CUST_NAME, CITY, VIP_LEVEL FROM CUSTOMERS WHERE VIP_LEVEL >= 3 ORDER BY VIP_LEVEL DESC;",
                difficulty: "åŸºç¤",
                difficultyStars: 2,
                category: "DQL - æŸ¥è©¢",
                initialData: [
                    "CREATE TABLE CUSTOMERS (CUST_ID NUMBER PRIMARY KEY, CUST_NAME VARCHAR2(50) NOT NULL, EMAIL VARCHAR2(100) UNIQUE, PHONE VARCHAR2(20), CITY VARCHAR2(50), VIP_LEVEL NUMBER CHECK(VIP_LEVEL BETWEEN 1 AND 5))",
                    "INSERT INTO CUSTOMERS VALUES (1, 'é™³å°æ˜', 'chen@email.com', '91234567', 'é¦™æ¸¯', 3)",
                    "INSERT INTO CUSTOMERS VALUES (2, 'æç¾ç²', 'li@email.com', '98765432', 'ä¹ï¿½ï¿½ï¿½', 5)",
                    "INSERT INTO CUSTOMERS VALUES (3, 'ç‹å¤§å‰', 'wang@email.com', '92345678', 'æ–°ç•Œ', 2)"
                ],
                requirements: [
                    { text: "ä½¿ç”¨ SELECT èªå¥", points: 4 },
                    { text: "ä½¿ç”¨ WHERE ç¯©é¸ VIP >= 3", points: 8 },
                    { text: "é¸æ“‡æ­£ç¢ºçš„æ¬„ä½", points: 8 },
                    { text: "ä½¿ç”¨ ORDER BY é™åºæ’åº", points: 10 }
                ]
            },
            {
                title: "æ›´æ–°æ›¸ç±è³‡æ–™",
                description: `<strong>ğŸ“‹ æ“ä½œç›®æ¨™ï¼š</strong>æ›´æ–° BOOKS è¡¨ä¸­çš„æ›¸ç±å”®åƒ¹<br><br>
<strong>ğŸ“Š ç³»çµ±å·²æä¾›ï¼š</strong>BOOKS è¡¨ï¼ˆ3 æœ¬æ›¸ç±ï¼‰<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ å°‡ 'è³‡è¨Šå‡ºç‰ˆç¤¾' å‡ºç‰ˆçš„æ›¸ç±å”®åƒ¹ä¸Šèª¿ 15%<br>
â€¢ ä½¿ç”¨ UPDATE èªå¥æ­é… WHERE æ¢ä»¶`,
                hint: "ğŸ’¡ æç¤ºï¼šä½¿ç”¨ UPDATE èªå¥ï¼ŒPRICE = PRICE * 1.15 è¡¨ç¤ºä¸Šèª¿ 15%",
                solution: "UPDATE BOOKS SET PRICE = PRICE * 1.15 WHERE PUBLISHER = 'è³‡è¨Šå‡ºç‰ˆç¤¾';",
                difficulty: "ä¸­ç´š",
                difficultyStars: 2.5,
                category: "DML - æ›´æ–°",
                initialData: [
                    "CREATE TABLE BOOKS (BOOK_ID NUMBER PRIMARY KEY, TITLE VARCHAR2(200) NOT NULL, AUTHOR VARCHAR2(100), PUBLISHER VARCHAR2(100), PRICE NUMBER(10,2), PUBLISH_YEAR NUMBER CHECK(PUBLISH_YEAR BETWEEN 1900 AND 2100))",
                    "INSERT INTO BOOKS VALUES (1, 'SQLåŸºç¤æ•™ç¨‹', 'å¼µæ˜', 'è³‡è¨Šå‡ºç‰ˆç¤¾', 350, 2023)",
                    "INSERT INTO BOOKS VALUES (2, 'è³‡æ–™åº«è¨­è¨ˆ', 'æè¯', 'æŠ€è¡“å‡ºç‰ˆç¤¾', 450, 2022)",
                    "INSERT INTO BOOKS VALUES (3, 'é€²éšSQLæŠ€å·§', 'ç‹å¼·', 'è³‡è¨Šå‡ºç‰ˆç¤¾', 520, 2024)"
                ],
                requirements: [
                    { text: "ä½¿ç”¨ UPDATE èªå¥", points: 5 },
                    { text: "ä½¿ç”¨ WHERE ç¯©é¸è³‡è¨Šå‡ºç‰ˆç¤¾", points: 8 },
                    { text: "æ­£ç¢ºè¨ˆç®—å”®åƒ¹ä¸Šèª¿ 15%", points: 10 },
                    { text: "ä½¿ç”¨ä¹˜æ³•é‹ç®—", points: 7 }
                ]
            },
            {
                title: "çµ±è¨ˆå®¢æˆ¶æ•¸é‡",
                description: `<strong>ğŸ“‹ æ“ä½œç›®æ¨™ï¼š</strong>çµ±è¨ˆ CUSTOMERS è¡¨ä¸­çš„å®¢æˆ¶æ•¸é‡<br><br>
<strong>ğŸ“Š ç³»çµ±å·²æä¾›ï¼š</strong>CUSTOMERS è¡¨ï¼ˆ3 ä½å®¢æˆ¶ï¼‰<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ è¨ˆç®—æ¯å€‹åŸå¸‚çš„å®¢æˆ¶æ•¸é‡<br>
â€¢ ä½¿ç”¨ GROUP BY åˆ†çµ„<br>
â€¢ ä½¿ç”¨ COUNT å‡½æ•¸è¨ˆç®—æ•¸é‡<br>
â€¢ æŒ‰åŸå¸‚åç¨±æ’åº`,
                hint: "ğŸ’¡ æç¤ºï¼šSELECT CITY, COUNT(*) ... GROUP BY CITY",
                solution: "SELECT CITY, COUNT(*) AS CUSTOMER_COUNT FROM CUSTOMERS GROUP BY CITY ORDER BY CITY;",
                difficulty: "ä¸­ç´š",
                difficultyStars: 3,
                category: "DQL - èšåˆæŸ¥è©¢",
                initialData: [
                    "CREATE TABLE CUSTOMERS (CUST_ID NUMBER PRIMARY KEY, CUST_NAME VARCHAR2(50) NOT NULL, EMAIL VARCHAR2(100) UNIQUE, PHONE VARCHAR2(20), CITY VARCHAR2(50), VIP_LEVEL NUMBER CHECK(VIP_LEVEL BETWEEN 1 AND 5))",
                    "INSERT INTO CUSTOMERS VALUES (1, 'é™³å°æ˜', 'chen@email.com', '91234567', 'é¦™æ¸¯', 3)",
                    "INSERT INTO CUSTOMERS VALUES (2, 'æç¾ç²', 'li@email.com', '98765432', 'ä¹é¾', 5)",
                    "INSERT INTO CUSTOMERS VALUES (3, 'ç‹å¤§å‰', 'wang@email.com', '92345678', 'æ–°ç•Œ', 2)"
                ],
                requirements: [
                    { text: "ä½¿ç”¨ SELECT èªå¥", points: 4 },
                    { text: "ä½¿ç”¨ COUNT å‡½æ•¸", points: 8 },
                    { text: "ä½¿ç”¨ GROUP BY åˆ†çµ„", points: 10 },
                    { text: "ä½¿ç”¨ ORDER BY æ’åº", points: 8 }
                ]
            },
            {
                title: "åˆªé™¤ç‰¹å®šå®¢æˆ¶",
                description: `<strong>ğŸ“‹ æ“ä½œç›®æ¨™ï¼š</strong>å¾ CUSTOMERS è¡¨åˆªé™¤ç‰¹å®šå®¢æˆ¶<br><br>
<strong>ğŸ“Š ç³»çµ±å·²æä¾›ï¼š</strong>CUSTOMERS è¡¨ï¼ˆ3 ä½å®¢æˆ¶ï¼‰<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ åˆªé™¤ VIPç­‰ç´š < 3 çš„å®¢æˆ¶<br>
â€¢ ä½¿ç”¨ DELETE èªå¥æ­é… WHERE æ¢ä»¶`,
                hint: "ğŸ’¡ æç¤ºï¼šDELETE FROM table WHERE condition",
                solution: "DELETE FROM CUSTOMERS WHERE VIP_LEVEL < 3;",
                difficulty: "åŸºç¤",
                difficultyStars: 2,
                category: "DML - åˆªé™¤",
                initialData: [
                    "CREATE TABLE CUSTOMERS (CUST_ID NUMBER PRIMARY KEY, CUST_NAME VARCHAR2(50) NOT NULL, EMAIL VARCHAR2(100) UNIQUE, PHONE VARCHAR2(20), CITY VARCHAR2(50), VIP_LEVEL NUMBER CHECK(VIP_LEVEL BETWEEN 1 AND 5))",
                    "INSERT INTO CUSTOMERS VALUES (1, 'é™³å°æ˜', 'chen@email.com', '91234567', 'é¦™æ¸¯', 3)",
                    "INSERT INTO CUSTOMERS VALUES (2, 'æç¾ç²', 'li@email.com', '98765432', 'ä¹é¾', 5)",
                    "INSERT INTO CUSTOMERS VALUES (3, 'ç‹å¤§å‰', 'wang@email.com', '92345678', 'æ–°ç•Œ', 2)"
                ],
                requirements: [
                    { text: "ä½¿ç”¨ DELETE FROM èªå¥", points: 8 },
                    { text: "ä½¿ç”¨ WHERE ç¯©é¸ VIP < 3", points: 12 },
                    { text: "æ­£ç¢ºåˆªé™¤è¨˜éŒ„", points: 10 }
                ]
            },
            {
                title: "å­æŸ¥è©¢ç·´ç¿’",
                description: `<strong>ğŸ“‹ æ“ä½œç›®æ¨™ï¼š</strong>ä½¿ç”¨å­æŸ¥è©¢æŸ¥æ‰¾æ›¸ç±<br><br>
<strong>ğŸ“Š ç³»çµ±å·²æä¾›ï¼š</strong>BOOKS è¡¨ï¼ˆ3 æœ¬æ›¸ç±ï¼‰<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ æŸ¥è©¢å”®åƒ¹é«˜æ–¼å¹³å‡å”®åƒ¹çš„æ›¸ç±<br>
â€¢ ä½¿ç”¨å­æŸ¥è©¢è¨ˆç®—å¹³å‡å”®åƒ¹<br>
â€¢ é¡¯ç¤ºæ›¸åå’Œå”®åƒ¹`,
                hint: "ğŸ’¡ æç¤ºï¼šWHERE PRICE > (SELECT AVG(PRICE) FROM BOOKS)",
                solution: "SELECT TITLE, PRICE FROM BOOKS WHERE PRICE > (SELECT AVG(PRICE) FROM BOOKS);",
                difficulty: "é€²éš",
                difficultyStars: 4,
                category: "DQL - å­æŸ¥è©¢",
                initialData: [
                    "CREATE TABLE BOOKS (BOOK_ID NUMBER PRIMARY KEY, TITLE VARCHAR2(200) NOT NULL, AUTHOR VARCHAR2(100), PUBLISHER VARCHAR2(100), PRICE NUMBER(10,2), PUBLISH_YEAR NUMBER CHECK(PUBLISH_YEAR BETWEEN 1900 AND 2100))",
                    "INSERT INTO BOOKS VALUES (1, 'SQLåŸºç¤æ•™ç¨‹', 'å¼µæ˜', 'è³‡è¨Šå‡ºç‰ˆç¤¾', 350, 2023)",
                    "INSERT INTO BOOKS VALUES (2, 'è³‡æ–™åº«è¨­è¨ˆ', 'æè¯', 'æŠ€è¡“å‡ºç‰ˆç¤¾', 450, 2022)",
                    "INSERT INTO BOOKS VALUES (3, 'é€²éšSQLæŠ€å·§', 'ç‹å¼·', 'è³‡è¨Šå‡ºç‰ˆç¤¾', 520, 2024)"
                ],
                requirements: [
                    { text: "ä½¿ç”¨ SELECT èªå¥", points: 4 },
                    { text: "ä½¿ç”¨å­æŸ¥è©¢", points: 10 },
                    { text: "ä½¿ç”¨ AVG å‡½æ•¸è¨ˆç®—å¹³å‡å€¼", points: 8 },
                    { text: "æ­£ç¢ºæ¯”è¼ƒå”®åƒ¹", points: 8 }
                ]
            },
            {
                title: "å‰µå»ºæœƒå“¡ç©åˆ†è¡¨",
                description: `<strong>ğŸ“‹ è¡¨æ ¼åç¨±ï¼š</strong>MEMBER_POINTS<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ åŒ…å«ä»¥ä¸‹æ¬„ä½ï¼š<br>
  &nbsp;&nbsp;1. MEMBER_ID - ï¿½ï¿½ï¿½å“¡ç·¨è™Ÿï¼ˆæ•¸å­—ï¼Œä¸»éµï¼‰<br>
  &nbsp;&nbsp;2. MEMBER_NAME - æœƒå“¡å§“åï¼ˆå­—ä¸²ï¼Œéç©ºï¼‰<br>
  &nbsp;&nbsp;3. TOTAL_POINTS - ç´¯ç©ç©åˆ†ï¼ˆæ•¸å­—ï¼Œé è¨­ç‚º0ï¼‰<br>
  &nbsp;&nbsp;4. TIER - æœƒå“¡ç­‰ç´šï¼ˆåªèƒ½è¼¸å…¥ 'æ™®é€š'ã€'éŠ€å¡'ã€'é‡‘å¡'ã€'ç™½é‡‘'ï¼‰<br>
  &nbsp;&nbsp;5. JOIN_DATE - åŠ å…¥æ—¥æœŸï¼ˆæ—¥æœŸï¼Œé è¨­ç‚ºç³»çµ±æ—¥æœŸï¼‰`,
                hint: "ğŸ’¡ æç¤ºï¼šä½¿ç”¨ DEFAULT è¨­å®šé è¨­å€¼ï¼Œä½¿ç”¨ CHECK ç´„æŸé™åˆ¶æœƒå“¡ç­‰ç´š",
                solution: "CREATE TABLE MEMBER_POINTS (MEMBER_ID NUMBER PRIMARY KEY, MEMBER_NAME VARCHAR2(50) NOT NULL, TOTAL_POINTS NUMBER DEFAULT 0, TIER VARCHAR2(10) CHECK(TIER IN ('æ™®é€š','éŠ€å¡','é‡‘å¡','ç™½é‡‘')), JOIN_DATE DATE DEFAULT SYSDATE);",
                difficulty: "ä¸­ç´š",
                difficultyStars: 3,
                category: "DDL - å»ºè¡¨",
                requirements: [
                    { text: "è¡¨æ ¼åç¨±ç‚º MEMBER_POINTS", points: 3 },
                    { text: "åŒ…å« MEMBER_ID æ¬„ä½ï¼ˆä¸»éµï¼‰", points: 5 },
                    { text: "åŒ…å« TOTAL_POINTS æ¬„ä½ï¼ˆé è¨­ç‚º0ï¼‰", points: 6 },
                    { text: "åŒ…å« TIER æ¬„ä½ï¼ˆCHECK ç´„æŸï¼‰", points: 10 },
                    { text: "åŒ…å« JOIN_DATE æ¬„ä½ï¼ˆé è¨­ SYSDATEï¼‰", points: 6 }
                ]
            },
            {
                title: "å‰µå»ºè€ƒè©¦è¨˜éŒ„è¡¨",
                description: `<strong>ğŸ“‹ è¡¨æ ¼åç¨±ï¼š</strong>EXAM_RECORDS<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ åŒ…å«ä»¥ä¸‹æ¬„ä½ï¼š<br>
  &nbsp;&nbsp;1. EXAM_ID - è€ƒè©¦ç·¨è™Ÿï¼ˆæ•¸å­—ï¼Œä¸»éµï¼‰<br>
  &nbsp;&nbsp;2. STUDENT_NAME - å­¸ç”Ÿå§“åï¼ˆå­—ä¸²ï¼Œéç©ºï¼‰<br>
  &nbsp;&nbsp;3. EXAM_DATE - è€ƒè©¦æ—¥æœŸï¼ˆæ—¥æœŸï¼‰<br>
  &nbsp;&nbsp;4. SCORE - å¾—åˆ†ï¼ˆæ•¸å­—ï¼Œç¯„åœ0-100ï¼‰<br>
  &nbsp;&nbsp;5. PASS_STATUS - åŠæ ¼ç‹€æ…‹ï¼ˆåªèƒ½è¼¸å…¥ 'åŠæ ¼' æˆ– 'ä¸åŠæ ¼'ï¼‰`,
                hint: "ğŸ’¡ æç¤ºï¼šä½¿ç”¨ CHECK ç´„æŸé™åˆ¶åˆ†æ•¸ç¯„åœå’ŒåŠæ ¼ç‹€æ…‹",
                solution: "CREATE TABLE EXAM_RECORDS (EXAM_ID NUMBER PRIMARY KEY, STUDENT_NAME VARCHAR2(50) NOT NULL, EXAM_DATE DATE, SCORE NUMBER CHECK(SCORE BETWEEN 0 AND 100), PASS_STATUS VARCHAR2(10) CHECK(PASS_STATUS IN ('åŠæ ¼','ä¸åŠæ ¼')));",
                difficulty: "åŸºç¤",
                difficultyStars: 2,
                category: "DDL - å»ºè¡¨",
                requirements: [
                    { text: "è¡¨æ ¼åç¨±ç‚º EXAM_RECORDS", points: 3 },
                    { text: "åŒ…å« EXAM_ID æ¬„ä½ï¼ˆä¸»éµï¼‰", points: 5 },
                    { text: "åŒ…å« SCORE æ¬„ä½ï¼ˆCHECK ç´„æŸ 0-100ï¼‰", points: 10 },
                    { text: "åŒ…å« PASS_STATUS æ¬„ä½ï¼ˆCHECK ç´„æŸï¼‰", points: 12 }
                ]
            },
            {
                title: "å‰µå»ºåœè»Šå ´è¨˜éŒ„è¡¨",
                description: `<strong>ğŸ“‹ è¡¨æ ¼åç¨±ï¼š</strong>PARKING_RECORDS<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ åŒ…å«ä»¥ä¸‹æ¬„ä½ï¼š<br>
  &nbsp;&nbsp;1. RECORD_ID - è¨˜éŒ„ç·¨è™Ÿï¼ˆæ•¸å­—ï¼Œä¸»éµï¼‰<br>
  &nbsp;&nbsp;2. CAR_PLATE - è»Šç‰Œè™Ÿç¢¼ï¼ˆå­—ä¸²ï¼Œéç©ºï¼Œå”¯ä¸€ï¼‰<br>
  &nbsp;&nbsp;3. ENTRY_TIME - å…¥å ´æ™‚é–“ï¼ˆå­—ä¸²ï¼‰<br>
  &nbsp;&nbsp;4. EXIT_TIME - å‡ºå ´æ™‚é–“ï¼ˆå­—ä¸²ï¼‰<br>
  &nbsp;&nbsp;5. PARKING_FEE - åœè»Šè²»ç”¨ï¼ˆæ•¸å­—ï¼Œå°æ•¸é»å…©ä½ï¼‰`,
                hint: "ğŸ’¡ æç¤ºï¼šä½¿ç”¨ UNIQUE ç¢ºä¿è»Šç‰Œè™Ÿç¢¼å”¯ä¸€",
                solution: "CREATE TABLE PARKING_RECORDS (RECORD_ID NUMBER PRIMARY KEY, CAR_PLATE VARCHAR2(20) NOT NULL UNIQUE, ENTRY_TIME VARCHAR2(20), EXIT_TIME VARCHAR2(20), PARKING_FEE NUMBER(8,2));",
                difficulty: "åŸºç¤",
                difficultyStars: 2,
                category: "DDL - å»ºè¡¨",
                requirements: [
                    { text: "è¡¨æ ¼åç¨±ç‚º PARKING_RECORDS", points: 3 },
                    { text: "åŒ…å« RECORD_ID æ¬„ä½ï¼ˆä¸»éµï¼‰", points: 5 },
                    { text: "åŒ…å« CAR_PLATE æ¬„ä½ï¼ˆéç©ºã€å”¯ä¸€ï¼‰", points: 10 },
                    { text: "åŒ…å« PARKING_FEE æ¬„ä½ï¼ˆå°æ•¸é»å…©ä½ï¼‰", points: 12 }
                ]
            },
            {
                title: "èšåˆå‡½æ•¸ç·´ç¿’",
                description: `<strong>ğŸ“‹ æ“ä½œç›®æ¨™ï¼š</strong>è¨ˆç®—ç”¢å“çµ±è¨ˆè³‡æ–™<br><br>
<strong>ğŸ“Š ç³»çµ±å·²æä¾›ï¼š</strong>PRODUCTS è¡¨ï¼ˆ4 å€‹ç”¢å“ï¼‰<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ è¨ˆç®—æ‰€æœ‰ç”¢å“çš„ç¸½åº«å­˜é‡<br>
â€¢ è¨ˆç®—ç”¢å“çš„å¹³å‡å–®åƒ¹<br>
â€¢ é¡¯ç¤ºæœ€é«˜å’Œæœ€ä½åƒ¹æ ¼<br>
â€¢ ä½¿ç”¨ SELECT ä¸€æ¬¡é¡¯ç¤ºæ‰€æœ‰çµ±è¨ˆæ•¸æ“š`,
                hint: "ğŸ’¡ æç¤ºï¼šSELECT SUM(STOCK), AVG(PRICE), MAX(PRICE), MIN(PRICE) FROM PRODUCTS",
                solution: "SELECT SUM(STOCK) AS ç¸½åº«å­˜, AVG(PRICE) AS å¹³å‡åƒ¹æ ¼, MAX(PRICE) AS æœ€é«˜åƒ¹, MIN(PRICE) AS æœ€ä½åƒ¹ FROM PRODUCTS;",
                difficulty: "ä¸­ç´š",
                difficultyStars: 3,
                category: "DQL - èšåˆå‡½æ•¸",
                initialData: [
                    "CREATE TABLE PRODUCTS (PROD_ID NUMBER PRIMARY KEY, PROD_NAME VARCHAR2(100) NOT NULL, CATEGORY VARCHAR2(50), PRICE NUMBER(10,2), STOCK NUMBER DEFAULT 0, STATUS VARCHAR2(10) CHECK(STATUS IN ('ä¸Šæ¶','ä¸‹æ¶')))",
                    "INSERT INTO PRODUCTS VALUES (1, 'ç­†è¨˜å‹é›»è…¦', 'é›»å­ç”¢å“', 8500, 15, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (2, 'ç„¡ç·šæ»‘é¼ ', 'é…ä»¶', 250, 50, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (3, 'æ©Ÿæ¢°éµç›¤', 'é…ä»¶', 1200, 30, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (4, 'é¡¯ç¤ºå™¨', 'é›»å­ç”¢å“', 3500, 20, 'ä¸Šæ¶')"
                ],
                requirements: [
                    { text: "ä½¿ç”¨ SUM å‡½æ•¸è¨ˆç®—ç¸½åº«å­˜", points: 8 },
                    { text: "ä½¿ç”¨ AVG å‡½æ•¸è¨ˆç®—å¹³å‡åƒ¹æ ¼", points: 7 },
                    { text: "ä½¿ç”¨ MAX å‡½æ•¸æ‰¾æœ€é«˜åƒ¹", points: 7 },
                    { text: "ä½¿ç”¨ MIN å‡½æ•¸æ‰¾æœ€ä½åƒ¹", points: 8 }
                ]
            },
            {
                title: "GROUP BY åˆ†çµ„çµ±è¨ˆ",
                description: `<strong>ğŸ“‹ æ“ä½œç›®æ¨™ï¼š</strong>æŒ‰é¡åˆ¥çµ±è¨ˆç”¢å“<br><br>
<strong>ğŸ“Š ç³»çµ±å·²æä¾›ï¼š</strong>PRODUCTS è¡¨ï¼ˆ4 å€‹ç”¢å“ï¼‰<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ æŒ‰ç”¢å“é¡åˆ¥åˆ†çµ„<br>
â€¢ è¨ˆç®—æ¯å€‹é¡åˆ¥çš„ç”¢å“æ•¸é‡<br>
â€¢ è¨ˆç®—æ¯å€‹é¡åˆ¥çš„å¹³å‡åƒ¹æ ¼<br>
â€¢ é¡¯ç¤ºé¡åˆ¥åç¨±ã€ç”¢å“æ•¸é‡ã€å¹³å‡åƒ¹æ ¼`,
                hint: "ğŸ’¡ æç¤ºï¼šSELECT CATEGORY, COUNT(*), AVG(PRICE) FROM PRODUCTS GROUP BY CATEGORY",
                solution: "SELECT CATEGORY AS é¡åˆ¥, COUNT(*) AS ç”¢å“æ•¸é‡, AVG(PRICE) AS å¹³å‡åƒ¹æ ¼ FROM PRODUCTS GROUP BY CATEGORY;",
                difficulty: "é€²éš",
                difficultyStars: 3.5,
                category: "DQL - åˆ†çµ„æŸ¥è©¢",
                initialData: [
                    "CREATE TABLE PRODUCTS (PROD_ID NUMBER PRIMARY KEY, PROD_NAME VARCHAR2(100) NOT NULL, CATEGORY VARCHAR2(50), PRICE NUMBER(10,2), STOCK NUMBER DEFAULT 0, STATUS VARCHAR2(10) CHECK(STATUS IN ('ä¸Šæ¶','ä¸‹æ¶')))",
                    "INSERT INTO PRODUCTS VALUES (1, 'ç­†è¨˜å‹é›»è…¦', 'é›»å­ç”¢å“', 8500, 15, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (2, 'ç„¡ç·šæ»‘é¼ ', 'é…ä»¶', 250, 50, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (3, 'æ©Ÿæ¢°éµç›¤', 'é…ä»¶', 1200, 30, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (4, 'é¡¯ç¤ºå™¨', 'é›»å­ç”¢å“', 3500, 20, 'ä¸Šæ¶')"
                ],
                requirements: [
                    { text: "ä½¿ç”¨ GROUP BY åˆ†çµ„", points: 10 },
                    { text: "ä½¿ç”¨ COUNT å‡½æ•¸è¨ˆç®—æ•¸é‡", points: 7 },
                    { text: "ä½¿ç”¨ AVG å‡½æ•¸è¨ˆç®—å¹³å‡å€¼", points: 7 },
                    { text: "é¡¯ç¤ºé¡åˆ¥åç¨±", points: 6 }
                ]
            },
            {
                title: "HAVING ç¯©é¸åˆ†çµ„",
                description: `<strong>ğŸ“‹ æ“ä½œç›®æ¨™ï¼š</strong>ç¯©é¸å¹³å‡åƒ¹æ ¼é«˜çš„é¡åˆ¥<br><br>
<strong>ğŸ“Š ç³»çµ±å·²æä¾›ï¼š</strong>PRODUCTS è¡¨ï¼ˆ4 å€‹ç”¢å“ï¼‰<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ æŒ‰ç”¢å“é¡åˆ¥åˆ†çµ„<br>
â€¢ è¨ˆç®—æ¯å€‹é¡åˆ¥çš„å¹³å‡åƒ¹æ ¼<br>
â€¢ åªé¡¯ç¤ºå¹³å‡åƒ¹æ ¼å¤§æ–¼1000çš„é¡åˆ¥<br>
â€¢ ä½¿ç”¨ HAVING å­å¥ç¯©é¸`,
                hint: "ğŸ’¡ æç¤ºï¼šGROUP BY CATEGORY HAVING AVG(PRICE) > 1000",
                solution: "SELECT CATEGORY AS é¡åˆ¥, AVG(PRICE) AS å¹³å‡åƒ¹æ ¼ FROM PRODUCTS GROUP BY CATEGORY HAVING AVG(PRICE) > 1000;",
                difficulty: "é€²éš",
                difficultyStars: 4,
                category: "DQL - åˆ†çµ„ç¯©é¸",
                initialData: [
                    "CREATE TABLE PRODUCTS (PROD_ID NUMBER PRIMARY KEY, PROD_NAME VARCHAR2(100) NOT NULL, CATEGORY VARCHAR2(50), PRICE NUMBER(10,2), STOCK NUMBER DEFAULT 0, STATUS VARCHAR2(10) CHECK(STATUS IN ('ä¸Šæ¶','ä¸‹æ¶')))",
                    "INSERT INTO PRODUCTS VALUES (1, 'ç­†è¨˜å‹é›»è…¦', 'é›»å­ç”¢å“', 8500, 15, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (2, 'ç„¡ç·šæ»‘é¼ ', 'é…ä»¶', 250, 50, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (3, 'æ©Ÿæ¢°éµç›¤', 'é…ä»¶', 1200, 30, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (4, 'é¡¯ç¤ºå™¨', 'é›»å­ç”¢å“', 3500, 20, 'ä¸Šæ¶')"
                ],
                requirements: [
                    { text: "ä½¿ç”¨ GROUP BY åˆ†çµ„", points: 8 },
                    { text: "ä½¿ç”¨ HAVING ç¯©é¸", points: 12 },
                    { text: "æ­£ç¢ºç¯©é¸å¹³å‡åƒ¹æ ¼ > 1000", points: 10 }
                ]
            },
            {
                title: "ORDER BY æ’åºæŸ¥è©¢",
                description: `<strong>ğŸ“‹ æ“ä½œç›®æ¨™ï¼š</strong>æŒ‰åƒ¹æ ¼æ’åºç”¢å“<br><br>
<strong>ğŸ“Š ç³»çµ±å·²æä¾›ï¼š</strong>PRODUCTS è¡¨ï¼ˆ4 å€‹ç”¢å“ï¼‰<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ æŸ¥è©¢æ‰€æœ‰ç”¢å“çš„åç¨±å’Œåƒ¹æ ¼<br>
â€¢ æŒ‰åƒ¹æ ¼å¾é«˜åˆ°ä½æ’åº<br>
â€¢ ä½¿ç”¨ ORDER BY DESC`,
                hint: "ğŸ’¡ æç¤ºï¼šSELECT PROD_NAME, PRICE FROM PRODUCTS ORDER BY PRICE DESC",
                solution: "SELECT PROD_NAME, PRICE FROM PRODUCTS ORDER BY PRICE DESC;",
                difficulty: "åŸºç¤",
                difficultyStars: 2,
                category: "DQL - æ’åº",
                initialData: [
                    "CREATE TABLE PRODUCTS (PROD_ID NUMBER PRIMARY KEY, PROD_NAME VARCHAR2(100) NOT NULL, CATEGORY VARCHAR2(50), PRICE NUMBER(10,2), STOCK NUMBER DEFAULT 0, STATUS VARCHAR2(10) CHECK(STATUS IN ('ä¸Šæ¶','ä¸‹æ¶')))",
                    "INSERT INTO PRODUCTS VALUES (1, 'ç­†è¨˜å‹é›»è…¦', 'é›»å­ç”¢å“', 8500, 15, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (2, 'ç„¡ç·šæ»‘é¼ ', 'é…ä»¶', 250, 50, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (3, 'æ©Ÿæ¢°éµç›¤', 'é…ä»¶', 1200, 30, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (4, 'é¡¯ç¤ºå™¨', 'é›»å­ç”¢å“', 3500, 20, 'ä¸Šæ¶')"
                ],
                requirements: [
                    { text: "ä½¿ç”¨ SELECT èªå¥", points: 5 },
                    { text: "æŸ¥è©¢ç”¢å“åç¨±å’Œåƒ¹æ ¼", points: 10 },
                    { text: "ä½¿ç”¨ ORDER BY DESC é™åºæ’åº", points: 15 }
                ]
            },
            {
                title: "LIMIT é™åˆ¶æŸ¥è©¢çµæœ",
                description: `<strong>ğŸ“‹ æ“ä½œç›®æ¨™ï¼š</strong>æŸ¥è©¢æœ€è²´çš„3å€‹ç”¢å“<br><br>
<strong>ğŸ“Š ç³»çµ±å·²æä¾›ï¼š</strong>PRODUCTS è¡¨ï¼ˆ4 å€‹ç”¢å“ï¼‰<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ æŸ¥è©¢ç”¢å“åç¨±å’Œåƒ¹æ ¼<br>
â€¢ æŒ‰åƒ¹æ ¼å¾é«˜åˆ°ä½æ’åº<br>
â€¢ åªé¡¯ç¤ºå‰3å€‹çµæœ<br>
â€¢ ä½¿ç”¨ ROWNUM é™åˆ¶çµæœ`,
                hint: "ğŸ’¡ æç¤ºï¼šWHERE ROWNUM <= 3",
                solution: "SELECT PROD_NAME, PRICE FROM (SELECT PROD_NAME, PRICE FROM PRODUCTS ORDER BY PRICE DESC) WHERE ROWNUM <= 3;",
                difficulty: "é€²éš",
                difficultyStars: 3.5,
                category: "DQL - é™åˆ¶çµæœ",
                initialData: [
                    "CREATE TABLE PRODUCTS (PROD_ID NUMBER PRIMARY KEY, PROD_NAME VARCHAR2(100) NOT NULL, CATEGORY VARCHAR2(50), PRICE NUMBER(10,2), STOCK NUMBER DEFAULT 0, STATUS VARCHAR2(10) CHECK(STATUS IN ('ä¸Šæ¶','ä¸‹æ¶')))",
                    "INSERT INTO PRODUCTS VALUES (1, 'ç­†è¨˜å‹é›»è…¦', 'é›»å­ç”¢å“', 8500, 15, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (2, 'ç„¡ç·šæ»‘é¼ ', 'é…ä»¶', 250, 50, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (3, 'æ©Ÿæ¢°éµç›¤', 'é…ä»¶', 1200, 30, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (4, 'é¡¯ç¤ºå™¨', 'é›»å­ç”¢å“', 3500, 20, 'ä¸Šæ¶')"
                ],
                requirements: [
                    { text: "ä½¿ç”¨ ORDER BY DESC æ’åº", points: 8 },
                    { text: "ä½¿ç”¨ ROWNUM é™åˆ¶çµæœ", points: 12 },
                    { text: "æ­£ç¢ºæŸ¥è©¢å‰3å€‹ç”¢å“", points: 10 }
                ]
            },
            {
                title: "LIKE æ¨¡ç³ŠæŸ¥è©¢",
                description: `<strong>ğŸ“‹ æ“ä½œç›®æ¨™ï¼š</strong>æœå°‹ç‰¹å®šåç¨±çš„ç”¢å“<br><br>
<strong>ğŸ“Š ç³»çµ±å·²æä¾›ï¼š</strong>PRODUCTS è¡¨ï¼ˆ4 å€‹ç”¢å“ï¼‰<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ æŸ¥è©¢ç”¢å“åç¨±åŒ…å«ã€Œé›»ã€å­—çš„ç”¢å“<br>
â€¢ é¡¯ç¤ºç”¢å“åç¨±å’Œé¡åˆ¥<br>
â€¢ ä½¿ç”¨ LIKE é€²è¡Œæ¨¡ç³Šæœå°‹`,
                hint: "ğŸ’¡ æç¤ºï¼šWHERE PROD_NAME LIKE '%é›»%'",
                solution: "SELECT PROD_NAME, CATEGORY FROM PRODUCTS WHERE PROD_NAME LIKE '%é›»%';",
                difficulty: "åŸºç¤",
                difficultyStars: 2,
                category: "DQL - æ¨¡ç³ŠæŸ¥è©¢",
                initialData: [
                    "CREATE TABLE PRODUCTS (PROD_ID NUMBER PRIMARY KEY, PROD_NAME VARCHAR2(100) NOT NULL, CATEGORY VARCHAR2(50), PRICE NUMBER(10,2), STOCK NUMBER DEFAULT 0, STATUS VARCHAR2(10) CHECK(STATUS IN ('ä¸Šæ¶','ä¸‹æ¶')))",
                    "INSERT INTO PRODUCTS VALUES (1, 'ç­†è¨˜å‹é›»è…¦', 'é›»å­ç”¢å“', 8500, 15, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (2, 'ç„¡ç·šæ»‘é¼ ', 'é…ä»¶', 250, 50, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (3, 'æ©Ÿæ¢°éµç›¤', 'é…ä»¶', 1200, 30, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (4, 'é¡¯ç¤ºå™¨', 'é›»å­ç”¢å“', 3500, 20, 'ä¸Šæ¶')"
                ],
                requirements: [
                    { text: "ä½¿ç”¨ SELECT èªå¥", points: 5 },
                    { text: "ä½¿ç”¨ WHERE æ¢ä»¶", points: 8 },
                    { text: "ä½¿ç”¨ LIKE '%é›»%' æ¨¡ç³Šæœå°‹", points: 17 }
                ]
            },
            {
                title: "IN å¤šå€¼æŸ¥è©¢",
                description: `<strong>ğŸ“‹ æ“ä½œç›®æ¨™ï¼š</strong>æŸ¥è©¢æŒ‡å®šé¡åˆ¥çš„ç”¢å“<br><br>
<strong>ğŸ“Š ç³»çµ±å·²æä¾›ï¼š</strong>PRODUCTS è¡¨ï¼ˆ4 å€‹ç”¢å“ï¼‰<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ æŸ¥è©¢é¡åˆ¥ç‚ºã€Œé›»å­ç”¢å“ã€æˆ–ã€Œé…ä»¶ã€çš„ç”¢å“<br>
â€¢ é¡¯ç¤ºç”¢å“åç¨±ã€é¡åˆ¥å’Œåƒ¹æ ¼<br>
â€¢ ä½¿ç”¨ IN èªå¥`,
                hint: "ğŸ’¡ æç¤ºï¼šWHERE CATEGORY IN ('é›»å­ç”¢å“', 'é…ä»¶')",
                solution: "SELECT PROD_NAME, CATEGORY, PRICE FROM PRODUCTS WHERE CATEGORY IN ('é›»å­ç”¢å“', 'é…ä»¶');",
                difficulty: "åŸºç¤",
                difficultyStars: 2,
                category: "DQL - å¤šå€¼æŸ¥è©¢",
                initialData: [
                    "CREATE TABLE PRODUCTS (PROD_ID NUMBER PRIMARY KEY, PROD_NAME VARCHAR2(100) NOT NULL, CATEGORY VARCHAR2(50), PRICE NUMBER(10,2), STOCK NUMBER DEFAULT 0, STATUS VARCHAR2(10) CHECK(STATUS IN ('ä¸Šæ¶','ä¸‹æ¶')))",
                    "INSERT INTO PRODUCTS VALUES (1, 'ç­†è¨˜å‹é›»è…¦', 'é›»å­ç”¢å“', 8500, 15, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (2, 'ç„¡ç·šæ»‘é¼ ', 'é…ä»¶', 250, 50, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (3, 'æ©Ÿæ¢°éµç›¤', 'é…ä»¶', 1200, 30, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (4, 'é¡¯ç¤ºå™¨', 'é›»å­ç”¢å“', 3500, 20, 'ä¸Šæ¶')"
                ],
                requirements: [
                    { text: "ä½¿ç”¨ SELECT èªå¥", points: 5 },
                    { text: "ä½¿ç”¨ WHERE æ¢ä»¶", points: 8 },
                    { text: "ä½¿ç”¨ IN æŸ¥è©¢å¤šå€‹å€¼", points: 17 }
                ]
            },
            {
                title: "BETWEEN ç¯„åœæŸ¥è©¢",
                description: `<strong>ğŸ“‹ æ“ä½œç›®æ¨™ï¼š</strong>æŸ¥è©¢ç‰¹å®šåƒ¹æ ¼ç¯„åœçš„ç”¢å“<br><br>
<strong>ğŸ“Š ç³»çµ±å·²æä¾›ï¼š</strong>PRODUCTS è¡¨ï¼ˆ4 å€‹ç”¢å“ï¼‰<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ æŸ¥è©¢åƒ¹æ ¼åœ¨1000åˆ°5000ä¹‹é–“çš„ç”¢å“<br>
â€¢ é¡¯ç¤ºç”¢å“åç¨±å’Œåƒ¹æ ¼<br>
â€¢ ä½¿ç”¨ BETWEEN èªå¥`,
                hint: "ğŸ’¡ æç¤ºï¼šWHERE PRICE BETWEEN 1000 AND 5000",
                solution: "SELECT PROD_NAME, PRICE FROM PRODUCTS WHERE PRICE BETWEEN 1000 AND 5000;",
                difficulty: "åŸºç¤",
                difficultyStars: 2,
                category: "DQL - ç¯„åœæŸ¥è©¢",
                initialData: [
                    "CREATE TABLE PRODUCTS (PROD_ID NUMBER PRIMARY KEY, PROD_NAME VARCHAR2(100) NOT NULL, CATEGORY VARCHAR2(50), PRICE NUMBER(10,2), STOCK NUMBER DEFAULT 0, STATUS VARCHAR2(10) CHECK(STATUS IN ('ä¸Šæ¶','ä¸‹æ¶')))",
                    "INSERT INTO PRODUCTS VALUES (1, 'ç­†è¨˜å‹é›»è…¦', 'é›»å­ç”¢å“', 8500, 15, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (2, 'ç„¡ç·šæ»‘é¼ ', 'é…ä»¶', 250, 50, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (3, 'æ©Ÿæ¢°éµç›¤', 'é…ä»¶', 1200, 30, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (4, 'é¡¯ç¤ºå™¨', 'é›»å­ç”¢å“', 3500, 20, 'ä¸Šæ¶')"
                ],
                requirements: [
                    { text: "ä½¿ç”¨ SELECT èªå¥", points: 5 },
                    { text: "ä½¿ç”¨ WHERE æ¢ä»¶", points: 8 },
                    { text: "ä½¿ç”¨ BETWEEN 1000 AND 5000", points: 17 }
                ]
            },
            {
                title: "IS NULL ç©ºå€¼æŸ¥è©¢",
                description: `<strong>ğŸ“‹ æ“ä½œç›®æ¨™ï¼š</strong>æŸ¥è©¢æ²’æœ‰é¡åˆ¥çš„ç”¢å“<br><br>
<strong>ğŸ“Š ç³»çµ±å·²æä¾›ï¼š</strong>PRODUCTS è¡¨ï¼ˆ5 å€‹ç”¢å“ï¼Œå…¶ä¸­æœ‰ç©ºå€¼ï¼‰<br><br>
<strong>ğŸ“Œ è¦æ±‚ï¼š</strong><br>
â€¢ æŸ¥è©¢é¡åˆ¥ç‚ºç©ºå€¼çš„ç”¢å“<br>
â€¢ é¡¯ç¤ºç”¢å“ç·¨è™Ÿå’Œç”¢å“åç¨±<br>
â€¢ ä½¿ç”¨ IS NULL`,
                hint: "ğŸ’¡ æç¤ºï¼šWHERE CATEGORY IS NULL",
                solution: "SELECT PROD_ID, PROD_NAME FROM PRODUCTS WHERE CATEGORY IS NULL;",
                difficulty: "åŸºç¤",
                difficultyStars: 2,
                category: "DQL - ç©ºå€¼æŸ¥è©¢",
                initialData: [
                    "CREATE TABLE PRODUCTS (PROD_ID NUMBER PRIMARY KEY, PROD_NAME VARCHAR2(100) NOT NULL, CATEGORY VARCHAR2(50), PRICE NUMBER(10,2), STOCK NUMBER DEFAULT 0, STATUS VARCHAR2(10) CHECK(STATUS IN ('ä¸Šæ¶','ä¸‹æ¶')))",
                    "INSERT INTO PRODUCTS VALUES (1, 'ç­†è¨˜å‹é›»è…¦', 'é›»å­ç”¢å“', 8500, 15, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (2, 'ç„¡ç·šæ»‘é¼ ', NULL, 250, 50, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (3, 'æ©Ÿæ¢°éµç›¤', 'é…ä»¶', 1200, 30, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (4, 'é¡¯ç¤ºå™¨', NULL, 3500, 20, 'ä¸Šæ¶')",
                    "INSERT INTO PRODUCTS VALUES (5, 'è€³æ©Ÿ', 'é…ä»¶', 800, 40, 'ä¸Šæ¶')"
                ],
                requirements: [
                    { text: "ä½¿ç”¨ SELECT èªå¥", points: 5 },
                    { text: "ä½¿ç”¨ WHERE æ¢ä»¶", points: 8 },
                    { text: "ä½¿ç”¨ IS NULL æŸ¥è©¢ç©ºå€¼", points: 17 }
                ]
            }
        ];



        // è¤‡ç¿’æ¸¬é©—é¡Œåº« (100é¡Œ)
        const quizQuestions = [
            // DDL ç›¸é—œ (1-20)
            {q: "CREATE TABLE èªå¥ç”¨æ–¼å‰µå»ºä»€éº¼ï¼Ÿ", o: ["A. è³‡æ–™åº«", "B. è¡¨æ ¼", "C. ç´¢å¼•", "D. è¦–åœ–"], a: 1},
            {q: "ALTER TABLE èªå¥çš„ä¸»è¦ç”¨é€”æ˜¯ï¼Ÿ", o: ["A. åˆªé™¤è¡¨æ ¼", "B. ä¿®æ”¹è¡¨æ ¼çµæ§‹", "C. æŸ¥è©¢æ•¸æ“š", "D. æ’å…¥æ•¸æ“š"], a: 1},
            {q: "DROP TABLE èªå¥æœƒï¼Ÿ", o: ["A. åˆªé™¤è¡¨æ ¼æ•¸æ“š", "B. åˆªé™¤æ•´å€‹è¡¨æ ¼", "C. æ¸…ç©ºè¡¨æ ¼", "D. ä¿®æ”¹è¡¨æ ¼"], a: 1},
            {q: "PRIMARY KEY ç´„æŸçš„ä½œç”¨æ˜¯ï¼Ÿ", o: ["A. å…è¨±é‡è¤‡å€¼", "B. å”¯ä¸€ä¸”éç©º", "C. åƒ…å”¯ä¸€", "D. åƒ…éç©º"], a: 1},
            {q: "FOREIGN KEY ç”¨æ–¼ï¼Ÿ", o: ["A. å‰µå»ºç´¢å¼•", "B. å»ºç«‹è¡¨é–“é—œè¯", "C. åŠ é€ŸæŸ¥è©¢", "D. æ•¸æ“šåŠ å¯†"], a: 1},
            {q: "UNIQUE ç´„æŸå…è¨±å¤šå°‘å€‹ NULL å€¼ï¼Ÿ", o: ["A. 0å€‹", "B. 1å€‹", "C. å¤šå€‹", "D. ç„¡é™å€‹"], a: 2},
            {q: "NOT NULL ç´„æŸè¡¨ç¤ºï¼Ÿ", o: ["A. å¯ä»¥ç‚ºç©º", "B. ä¸èƒ½ç‚ºç©º", "C. å¿…é ˆå”¯ä¸€", "D. å¿…é ˆæ˜¯æ•¸å­—"], a: 1},
            {q: "CHECK ç´„æŸç”¨æ–¼ï¼Ÿ", o: ["A. æª¢æŸ¥èªæ³•", "B. é™åˆ¶æ¬„ä½å€¼ç¯„åœ", "C. æª¢æŸ¥ç´¢å¼•", "D. é©—è­‰ç”¨æˆ¶"], a: 1},
            {q: "DEFAULT é—œéµå­—çš„ä½œç”¨æ˜¯ï¼Ÿ", o: ["A. è¨­å®šé è¨­å€¼", "B. åˆªé™¤æ•¸æ“š", "C. æŸ¥è©¢æ•¸æ“š", "D. æ›´æ–°æ•¸æ“š"], a: 0},
            {q: "VARCHAR2(50) ä¸­çš„ 50 è¡¨ç¤ºï¼Ÿ", o: ["A. å­—ç¯€æ•¸", "B. æœ€å¤§å­—ç¬¦æ•¸", "C. å›ºå®šé•·åº¦", "D. æœ€å°é•·åº¦"], a: 1},
            {q: "NUMBER(10,2) è¡¨ç¤ºï¼Ÿ", o: ["A. 10ä½æ•´æ•¸", "B. ç¸½å…±10ä½ï¼Œå°æ•¸2ä½", "C. 10å€‹æ•¸å­—", "D. 2ä½æ•´æ•¸"], a: 1},
            {q: "DATE é¡å‹å­˜å„²ä»€éº¼ï¼Ÿ", o: ["A. åƒ…æ—¥æœŸ", "B. åƒ…æ™‚é–“", "C. æ—¥æœŸå’Œæ™‚é–“", "D. åƒ…å¹´ä»½"], a: 2},
            {q: "BLOB é¡å‹ç”¨æ–¼å­˜å„²ï¼Ÿ", o: ["A. æ–‡å­—", "B. æ•¸å­—", "C. äºŒé€²åˆ¶å¤§å°è±¡", "D. æ—¥æœŸ"], a: 2},
            {q: "CLOB é¡å‹ç”¨æ–¼å­˜å„²ï¼Ÿ", o: ["A. å¤§é‡æ–‡å­—", "B. åœ–ç‰‡", "C. æ•¸å­—", "D. æ—¥æœŸ"], a: 0},
            {q: "TRUNCATE TABLE èˆ‡ DELETE FROM çš„ä¸»è¦å€åˆ¥ï¼Ÿ", o: ["A. ç„¡å€åˆ¥", "B. TRUNCATEæ›´å¿«ä¸”ä¸å¯å›æ»¾", "C. DELETEæ›´å¿«", "D. TRUNCATEå¯å›æ»¾"], a: 1},
            {q: "SEQUENCE çš„ä½œç”¨æ˜¯ï¼Ÿ", o: ["A. æ’åºæ•¸æ“š", "B. ç”Ÿæˆåºåˆ—è™Ÿ", "C. å‰µå»ºç´¢å¼•", "D. æŸ¥è©¢æ•¸æ“š"], a: 1},
            {q: "SYNONYM æ˜¯ä»€éº¼ï¼Ÿ", o: ["A. åŒç¾©è©/åˆ¥å", "B. ç´¢å¼•", "C. è¦–åœ–", "D. è¡¨æ ¼"], a: 0},
            {q: "TABLESPACE ç”¨æ–¼ï¼Ÿ", o: ["A. å­˜å„²æ•¸æ“šæ–‡ä»¶", "B. æŸ¥è©¢æ•¸æ“š", "C. å‰µå»ºç”¨æˆ¶", "D. å‚™ä»½æ•¸æ“š"], a: 0},
            {q: "COMMENT ON èªå¥ç”¨æ–¼ï¼Ÿ", o: ["A. æ·»åŠ è¨»é‡‹", "B. æŸ¥è©¢æ•¸æ“š", "C. åˆªé™¤æ•¸æ“š", "D. æ›´æ–°æ•¸æ“š"], a: 0},
            {q: "RENAME èªå¥ç”¨æ–¼ï¼Ÿ", o: ["A. åˆªé™¤å°è±¡", "B. é‡å‘½åå°è±¡", "C. è¤‡è£½å°è±¡", "D. æŸ¥è©¢å°è±¡"], a: 1},

            // DML ç›¸é—œ (21-40)
            {q: "INSERT INTO èªå¥ç”¨æ–¼ï¼Ÿ", o: ["A. æŸ¥è©¢æ•¸æ“š", "B. æ’å…¥æ•¸æ“š", "C. æ›´æ–°æ•¸æ“š", "D. åˆªé™¤æ•¸æ“š"], a: 1},
            {q: "UPDATE èªå¥å¿…é ˆé…åˆä»€éº¼ä½¿ç”¨æ‰å®‰å…¨ï¼Ÿ", o: ["A. SELECT", "B. WHERE", "C. ORDER BY", "D. GROUP BY"], a: 1},
            {q: "DELETE FROM ä¸å¸¶ WHERE æœƒï¼Ÿ", o: ["A. å ±éŒ¯", "B. åˆªé™¤æ‰€æœ‰æ•¸æ“š", "C. ä¸åŸ·è¡Œ", "D. åˆªé™¤ç¬¬ä¸€è¡Œ"], a: 1},
            {q: "INSERT ALL èªå¥ç”¨æ–¼ï¼Ÿ", o: ["A. å–®è¡Œæ’å…¥", "B. å¤šè¡Œæ’å…¥", "C. æ›´æ–°æ•¸æ“š", "D. åˆªé™¤æ•¸æ“š"], a: 1},
            {q: "MERGE èªå¥çš„ä½œç”¨æ˜¯ï¼Ÿ", o: ["A. åˆä½µè¡¨æ ¼", "B. æ’å…¥æˆ–æ›´æ–°", "C. åˆªé™¤æ•¸æ“š", "D. æŸ¥è©¢æ•¸æ“š"], a: 1},
            {q: "UPSERT çš„å«ç¾©æ˜¯ï¼Ÿ", o: ["A. æ›´æ–°", "B. æ’å…¥", "C. æ›´æ–°æˆ–æ’å…¥", "D. åˆªé™¤"], a: 2},
            {q: "RETURNING å­å¥ç”¨æ–¼ï¼Ÿ", o: ["A. è¿”å›å—å½±éŸ¿çš„è¡Œ", "B. è¿”å›çµæœé›†", "C. è¿”å›éŒ¯èª¤", "D. è¿”å›è¨ˆæ•¸"], a: 0},
            {q: "DUAL è¡¨æ˜¯ä»€éº¼ï¼Ÿ", o: ["A. ç”¨æˆ¶è¡¨", "B. è™›æ“¬è¡¨", "C. è‡¨æ™‚è¡¨", "D. ç³»çµ±è¡¨"], a: 1},
            {q: "SAVEPOINT ç”¨æ–¼ï¼Ÿ", o: ["A. ä¿å­˜æ•¸æ“š", "B. è¨­ç½®äº‹å‹™ä¿å­˜é»", "C. å‚™ä»½è¡¨æ ¼", "D. å‰µå»ºè¦–åœ–"], a: 1},
            {q: "ROLLBACK TO èªå¥ç”¨æ–¼ï¼Ÿ", o: ["A. å…¨éƒ¨å›æ»¾", "B. å›æ»¾åˆ°ä¿å­˜é»", "C. æäº¤äº‹å‹™", "D. åˆªé™¤æ•¸æ“š"], a: 1},
            {q: "æ‰¹æ¬¡æ’å…¥ä½¿ç”¨ä»€éº¼èªå¥æœ€é«˜æ•ˆï¼Ÿ", o: ["A. å¤šå€‹INSERT", "B. INSERT ALL", "C. UPDATE", "D. MERGE"], a: 1},
            {q: "NULL å€¼åœ¨é‹ç®—ä¸­æœƒï¼Ÿ", o: ["A. è®Šæˆ0", "B. çµæœç‚ºNULL", "C. å ±éŒ¯", "D. è¢«å¿½ç•¥"], a: 1},
            {q: "NVL å‡½æ•¸çš„ä½œç”¨æ˜¯ï¼Ÿ", o: ["A. è¨ˆç®—ç¸½å’Œ", "B. è™•ç†NULLå€¼", "C. æŸ¥è©¢æ•¸æ“š", "D. åˆªé™¤æ•¸æ“š"], a: 1},
            {q: "COALESCE å‡½æ•¸è¿”å›ï¼Ÿ", o: ["A. æ‰€æœ‰å€¼", "B. ç¬¬ä¸€å€‹éNULLå€¼", "C. æœ€å¾Œä¸€å€‹å€¼", "D. NULLå€¼"], a: 1},
            {q: "INSERT INTO SELECT ç”¨æ–¼ï¼Ÿ", o: ["A. æŸ¥è©¢", "B. å¾æŸ¥è©¢çµæœæ’å…¥", "C. æ›´æ–°", "D. åˆªé™¤"], a: 1},
            {q: "UPDATE æ™‚ä½¿ç”¨å­æŸ¥è©¢å¯ä»¥ï¼Ÿ", o: ["A. åŠ é€ŸæŸ¥è©¢", "B. å‹•æ…‹æ›´æ–°å€¼", "C. åˆªé™¤æ•¸æ“š", "D. å‰µå»ºç´¢å¼•"], a: 1},
            {q: "DELETE å’Œ TRUNCATE çš„æ€§èƒ½å°æ¯”ï¼Ÿ", o: ["A. DELETEæ›´å¿«", "B. TRUNCATEæ›´å¿«", "C. ç›¸åŒ", "D. ä¸ç¢ºå®š"], a: 1},
            {q: "INSERT èªå¥ä¸­çš„ VALUES å¯ä»¥åŒ…å«ï¼Ÿ", o: ["A. åƒ…å¸¸é‡", "B. å¸¸é‡å’Œè¡¨é”å¼", "C. åƒ…è¡¨é”å¼", "D. åƒ…NULL"], a: 1},
            {q: "ON CONFLICT å­å¥ç”¨æ–¼è™•ç†ï¼Ÿ", o: ["A. éŒ¯èª¤", "B. è¡çª", "C. NULL", "D. ç´¢å¼•"], a: 1},
            {q: "REPLACE INTO æ˜¯å“ªå€‹è³‡æ–™åº«çš„èªæ³•ï¼Ÿ", o: ["A. Oracle", "B. MySQL", "C. PostgreSQL", "D. SQL Server"], a: 1},

            // DQL ç›¸é—œ (41-60)
            {q: "SELECT èªå¥çš„åŸºæœ¬èªæ³•é †åºæ˜¯ï¼Ÿ", o: ["A. FROM-WHERE-SELECT", "B. SELECT-FROM-WHERE", "C. WHERE-SELECT-FROM", "D. SELECT-WHERE-FROM"], a: 1},
            {q: "DISTINCT é—œéµå­—ç”¨æ–¼ï¼Ÿ", o: ["A. æ’åº", "B. å»é‡", "C. åˆ†çµ„", "D. éæ¿¾"], a: 1},
            {q: "WHERE å­å¥ç”¨æ–¼ï¼Ÿ", o: ["A. æ’åº", "B. éæ¿¾è¡Œ", "C. åˆ†çµ„", "D. è¨ˆç®—"], a: 1},
            {q: "ORDER BY é»˜èªæ˜¯ï¼Ÿ", o: ["A. é™åº", "B. å‡åº", "C. éš¨æ©Ÿ", "D. ä¸æ’åº"], a: 1},
            {q: "GROUP BY ç”¨æ–¼ï¼Ÿ", o: ["A. æ’åº", "B. åˆ†çµ„", "C. éæ¿¾", "D. å»é‡"], a: 1},
            {q: "HAVING å­å¥ç”¨æ–¼ï¼Ÿ", o: ["A. éæ¿¾è¡Œ", "B. éæ¿¾åˆ†çµ„", "C. æ’åº", "D. å»é‡"], a: 1},
            {q: "èšåˆå‡½æ•¸åŒ…æ‹¬ï¼Ÿ", o: ["A. SUBSTR", "B. COUNT", "C. CONCAT", "D. REPLACE"], a: 1},
            {q: "COUNT(*) å’Œ COUNT(column) çš„å€åˆ¥ï¼Ÿ", o: ["A. ç„¡å€åˆ¥", "B. COUNT(*)åŒ…å«NULL", "C. COUNT(column)åŒ…å«NULL", "D. éƒ½ä¸åŒ…å«NULL"], a: 1},
            {q: "AVG å‡½æ•¸æœƒï¼Ÿ", o: ["A. åŒ…å«NULLè¨ˆç®—", "B. å¿½ç•¥NULLè¨ˆç®—", "C. å°‡NULLç•¶0", "D. å ±éŒ¯"], a: 1},
            {q: "MAX å’Œ MIN å‡½æ•¸å¯ç”¨æ–¼ï¼Ÿ", o: ["A. åƒ…æ•¸å­—", "B. æ•¸å­—å’Œå­—ç¬¦", "C. åƒ…å­—ç¬¦", "D. åƒ…æ—¥æœŸ"], a: 1},
            {q: "SUM å‡½æ•¸ç”¨æ–¼ï¼Ÿ", o: ["A. è¨ˆæ•¸", "B. æ±‚å’Œ", "C. æ±‚å¹³å‡", "D. æ±‚æœ€å¤§å€¼"], a: 1},
            {q: "LIKE é‹ç®—ç¬¦ä¸­ % è¡¨ç¤ºï¼Ÿ", o: ["A. å–®å€‹å­—ç¬¦", "B. ä»»æ„å­—ç¬¦", "C. æ•¸å­—", "D. ç©ºæ ¼"], a: 1},
            {q: "LIKE é‹ç®—ç¬¦ä¸­ _ è¡¨ç¤ºï¼Ÿ", o: ["A. ä»»æ„å­—ç¬¦", "B. å–®å€‹å­—ç¬¦", "C. ç©ºæ ¼", "D. æ•¸å­—"], a: 1},
            {q: "IN é‹ç®—ç¬¦ç”¨æ–¼ï¼Ÿ", o: ["A. ç¯„åœæŸ¥è©¢", "B. å¤šå€¼åŒ¹é…", "C. æ¨¡ç³ŠæŸ¥è©¢", "D. æ’åº"], a: 1},
            {q: "BETWEEN é‹ç®—ç¬¦æ˜¯ï¼Ÿ", o: ["A. ä¸åŒ…å«é‚Šç•Œ", "B. åŒ…å«é‚Šç•Œ", "C. åƒ…åŒ…å«ä¸‹ç•Œ", "D. åƒ…åŒ…å«ä¸Šç•Œ"], a: 1},
            {q: "IS NULL ç”¨æ–¼åˆ¤æ–·ï¼Ÿ", o: ["A. ç©ºå­—ç¬¦ä¸²", "B. NULLå€¼", "C. 0", "D. ç©ºæ ¼"], a: 1},
            {q: "CASE WHEN èªå¥ç”¨æ–¼ï¼Ÿ", o: ["A. å¾ªç’°", "B. æ¢ä»¶åˆ¤æ–·", "C. åˆ†çµ„", "D. æ’åº"], a: 1},
            {q: "UNION å’Œ UNION ALL çš„å€åˆ¥ï¼Ÿ", o: ["A. ç„¡å€åˆ¥", "B. UNIONå»é‡", "C. UNION ALLå»é‡", "D. éƒ½å»é‡"], a: 1},
            {q: "INTERSECT ç”¨æ–¼æ±‚ï¼Ÿ", o: ["A. ä¸¦é›†", "B. äº¤é›†", "C. å·®é›†", "D. ç¬›å¡çˆ¾ç©"], a: 1},
            {q: "MINUS/EXCEPT ç”¨æ–¼æ±‚ï¼Ÿ", o: ["A. ä¸¦é›†", "B. äº¤é›†", "C. å·®é›†", "D. ç¬›å¡çˆ¾ç©"], a: 2},

            // JOIN ç›¸é—œ (61-75)
            {q: "INNER JOIN è¿”å›ï¼Ÿ", o: ["A. æ‰€æœ‰è¡Œ", "B. åŒ¹é…çš„è¡Œ", "C. å·¦è¡¨æ‰€æœ‰è¡Œ", "D. å³è¡¨æ‰€æœ‰è¡Œ"], a: 1},
            {q: "LEFT JOIN è¿”å›ï¼Ÿ", o: ["A. å³è¡¨æ‰€æœ‰è¡Œ", "B. å·¦è¡¨æ‰€æœ‰è¡Œ", "C. åŒ¹é…çš„è¡Œ", "D. æ‰€æœ‰è¡Œ"], a: 1},
            {q: "RIGHT JOIN èˆ‡ä»€éº¼ç­‰åƒ¹ï¼Ÿ", o: ["A. INNER JOIN", "B. äº¤æ›è¡¨çš„LEFT JOIN", "C. FULL JOIN", "D. CROSS JOIN"], a: 1},
            {q: "FULL OUTER JOIN è¿”å›ï¼Ÿ", o: ["A. åŒ¹é…çš„è¡Œ", "B. å…©è¡¨æ‰€æœ‰è¡Œ", "C. å·¦è¡¨æ‰€æœ‰è¡Œ", "D. å³è¡¨æ‰€æœ‰è¡Œ"], a: 1},
            {q: "CROSS JOIN ç”¢ç”Ÿï¼Ÿ", o: ["A. äº¤é›†", "B. ç¬›å¡çˆ¾ç©", "C. ä¸¦é›†", "D. å·®é›†"], a: 1},
            {q: "SELF JOIN æ˜¯æŒ‡ï¼Ÿ", o: ["A. ä¸åŒè¡¨", "B. åŒä¸€è¡¨è‡ªé€£æ¥", "C. å¤šè¡¨é€£æ¥", "D. å¤–é€£æ¥"], a: 1},
            {q: "NATURAL JOIN æœƒè‡ªå‹•ï¼Ÿ", o: ["A. åŒ¹é…æ‰€æœ‰åˆ—", "B. åŒ¹é…åŒååˆ—", "C. ä¸åŒ¹é…", "D. å ±éŒ¯"], a: 1},
            {q: "ON å­å¥ç”¨æ–¼ï¼Ÿ", o: ["A. æ’åº", "B. æŒ‡å®šé€£æ¥æ¢ä»¶", "C. åˆ†çµ„", "D. éæ¿¾"], a: 1},
            {q: "USING å­å¥è¦æ±‚ï¼Ÿ", o: ["A. åˆ—åä¸åŒ", "B. åˆ—åç›¸åŒ", "C. ç„¡è¦æ±‚", "D. å¿…é ˆä¸»éµ"], a: 1},
            {q: "å¤šè¡¨ JOIN çš„åŸ·è¡Œé †åºï¼Ÿ", o: ["A. éš¨æ©Ÿ", "B. å¾å·¦åˆ°å³", "C. å¾å³åˆ°å·¦", "D. å„ªåŒ–å™¨æ±ºå®š"], a: 3},
            {q: "JOIN æ€§èƒ½å„ªåŒ–æ‡‰ï¼Ÿ", o: ["A. å¢åŠ JOINæ•¸é‡", "B. åœ¨é€£æ¥åˆ—å»ºç´¢å¼•", "C. ä¸ä½¿ç”¨WHERE", "D. ä½¿ç”¨*"], a: 1},
            {q: "LEFT JOIN ä¸­ WHERE éæ¿¾å³è¡¨ NULL ç­‰æ–¼ï¼Ÿ", o: ["A. RIGHT JOIN", "B. INNER JOIN", "C. FULL JOIN", "D. CROSS JOIN"], a: 1},
            {q: "ANTI JOIN ç”¨æ–¼æŸ¥æ‰¾ï¼Ÿ", o: ["A. åŒ¹é…çš„è¡Œ", "B. ä¸åŒ¹é…çš„è¡Œ", "C. æ‰€æœ‰è¡Œ", "D. NULLè¡Œ"], a: 1},
            {q: "SEMI JOIN è¿”å›ï¼Ÿ", o: ["A. å…©è¡¨æ•¸æ“š", "B. åƒ…å·¦è¡¨æ•¸æ“š", "C. åƒ…å³è¡¨æ•¸æ“š", "D. ç¬›å¡çˆ¾ç©"], a: 1},
            {q: "JOIN çš„è¡¨æ•¸é‡ä¸Šé™ï¼Ÿ", o: ["A. 2å€‹", "B. ç„¡é™åˆ¶", "C. 10å€‹", "D. 100å€‹"], a: 1},

            // ç´¢å¼•ç›¸é—œ (76-85)
            {q: "CREATE INDEX ç”¨æ–¼ï¼Ÿ", o: ["A. å‰µå»ºè¡¨", "B. å‰µå»ºç´¢å¼•", "C. å‰µå»ºè¦–åœ–", "D. å‰µå»ºç”¨æˆ¶"], a: 1},
            {q: "ç´¢å¼•çš„ä¸»è¦ä½œç”¨æ˜¯ï¼Ÿ", o: ["A. ä½”ç”¨ç©ºé–“", "B. åŠ é€ŸæŸ¥è©¢", "C. æ¸›æ…¢æŸ¥è©¢", "D. å‚™ä»½æ•¸æ“š"], a: 1},
            {q: "B-Tree ç´¢å¼•é©åˆï¼Ÿ", o: ["A. å…¨è¡¨æƒæ", "B. ç¯„åœæŸ¥è©¢", "C. å…¨æ–‡æª¢ç´¢", "D. åœ–ç‰‡å­˜å„²"], a: 1},
            {q: "BITMAP ç´¢å¼•é©åˆï¼Ÿ", o: ["A. é«˜åŸºæ•¸åˆ—", "B. ä½åŸºæ•¸åˆ—", "C. ä¸»éµ", "D. å¤–éµ"], a: 1},
            {q: "UNIQUE ç´¢å¼•ä¿è­‰ï¼Ÿ", o: ["A. æ€§èƒ½", "B. å”¯ä¸€æ€§", "C. éç©º", "D. æ’åº"], a: 1},
            {q: "è¤‡åˆç´¢å¼•çš„åˆ—é †åºï¼Ÿ", o: ["A. ç„¡é—œç·Šè¦", "B. å¾ˆé‡è¦", "C. éš¨æ©Ÿ", "D. æŒ‰å­—æ¯"], a: 1},
            {q: "ç´¢å¼•æœƒå½±éŸ¿ä»€éº¼æ“ä½œçš„æ€§èƒ½ï¼Ÿ", o: ["A. SELECT", "B. INSERT/UPDATE/DELETE", "C. éƒ½ä¸å½±éŸ¿", "D. åƒ…SELECT"], a: 1},
            {q: "EXPLAIN PLAN ç”¨æ–¼ï¼Ÿ", o: ["A. å‰µå»ºè¨ˆåŠƒ", "B. æŸ¥çœ‹åŸ·è¡Œè¨ˆåŠƒ", "C. åˆªé™¤è¨ˆåŠƒ", "D. æ›´æ–°è¨ˆåŠƒ"], a: 1},
            {q: "FULL TABLE SCAN è¡¨ç¤ºï¼Ÿ", o: ["A. ä½¿ç”¨ç´¢å¼•", "B. å…¨è¡¨æƒæ", "C. éƒ¨åˆ†æƒæ", "D. éŒ¯èª¤"], a: 1},
            {q: "INDEX RANGE SCAN è¡¨ç¤ºï¼Ÿ", o: ["A. å…¨è¡¨æƒæ", "B. ç´¢å¼•ç¯„åœæƒæ", "C. å…¨ç´¢å¼•æƒæ", "D. ä¸ä½¿ç”¨ç´¢å¼•"], a: 1},

            // äº‹å‹™èˆ‡å„ªåŒ– (86-100)
            {q: "COMMIT ç”¨æ–¼ï¼Ÿ", o: ["A. å›æ»¾", "B. æäº¤äº‹å‹™", "C. é–‹å§‹äº‹å‹™", "D. çµæŸæœƒè©±"], a: 1},
            {q: "ROLLBACK ç”¨æ–¼ï¼Ÿ", o: ["A. æäº¤", "B. å›æ»¾äº‹å‹™", "C. å‰µå»ºäº‹å‹™", "D. åˆªé™¤äº‹å‹™"], a: 1},
            {q: "ACID ä¸­çš„ A ä»£è¡¨ï¼Ÿ", o: ["A. AtomicityåŸå­æ€§", "B. Availability", "C. Accuracy", "D. Authorization"], a: 0},
            {q: "ACID ä¸­çš„ C ä»£è¡¨ï¼Ÿ", o: ["A. Capacity", "B. Consistencyä¸€è‡´æ€§", "C. Continuity", "D. Concurrency"], a: 1},
            {q: "ACID ä¸­çš„ I ä»£è¡¨ï¼Ÿ", o: ["A. Integration", "B. Isolationéš”é›¢æ€§", "C. Inheritance", "D. Implementation"], a: 1},
            {q: "ACID ä¸­çš„ D ä»£è¡¨ï¼Ÿ", o: ["A. Duration", "B. DurabilityæŒä¹…æ€§", "C. Distribution", "D. Declaration"], a: 1},
            {q: "READ UNCOMMITTED å¯èƒ½å°è‡´ï¼Ÿ", o: ["A. æœ€å®‰å…¨", "B. é«’è®€", "C. ä¸å¯é‡è¤‡è®€", "D. å¹»è®€"], a: 1},
            {q: "READ COMMITTED å¯ä»¥é¿å…ï¼Ÿ", o: ["A. å¹»è®€", "B. é«’è®€", "C. ä¸å¯é‡è¤‡è®€", "D. éƒ½ä¸èƒ½"], a: 1},
            {q: "REPEATABLE READ å¯ä»¥é¿å…ï¼Ÿ", o: ["A. é«’è®€å’Œä¸å¯é‡è¤‡è®€", "B. åƒ…é«’è®€", "C. åƒ…å¹»è®€", "D. éƒ½ä¸èƒ½"], a: 0},
            {q: "SERIALIZABLE éš”é›¢ç´šåˆ¥ï¼Ÿ", o: ["A. æœ€ä½", "B. æœ€é«˜", "C. ä¸­ç­‰", "D. ä¸éš”é›¢"], a: 1},
            {q: "æ­»é–ç™¼ç”Ÿçš„æ¢ä»¶åŒ…æ‹¬ï¼Ÿ", o: ["A. äº’æ–¥", "B. è«‹æ±‚èˆ‡ä¿æŒ", "C. ä¸å‰å¥ª", "D. ä»¥ä¸Šéƒ½æ˜¯"], a: 3},
            {q: "é¿å…æ­»é–çš„æ–¹æ³•ï¼Ÿ", o: ["A. å¢åŠ é–", "B. çµ±ä¸€åŠ é–é †åº", "C. éš¨æ©ŸåŠ é–", "D. ä¸ä½¿ç”¨äº‹å‹™"], a: 1},
            {q: "VIEW è¦–åœ–çš„å„ªé»ï¼Ÿ", o: ["A. ä½”ç”¨ç©ºé–“", "B. ç°¡åŒ–æŸ¥è©¢", "C. æ¸›æ…¢é€Ÿåº¦", "D. å¢åŠ è¤‡é›œåº¦"], a: 1},
            {q: "ç‰©åŒ–è¦–åœ–èˆ‡æ™®é€šè¦–åœ–çš„å€åˆ¥ï¼Ÿ", o: ["A. ç„¡å€åˆ¥", "B. ç‰©åŒ–è¦–åœ–å­˜å„²æ•¸æ“š", "C. æ™®é€šè¦–åœ–å­˜å„²æ•¸æ“š", "D. éƒ½å­˜å„²æ•¸æ“š"], a: 1},
            {q: "TRIGGER è§¸ç™¼å™¨åœ¨ä»€éº¼æ™‚å€™åŸ·è¡Œï¼Ÿ", o: ["A. æ‰‹å‹•åŸ·è¡Œ", "B. ç‰¹å®šäº‹ä»¶ç™¼ç”Ÿæ™‚", "C. å®šæ™‚åŸ·è¡Œ", "D. å¾ä¸åŸ·è¡Œ"], a: 1},
        ];

        // è¤‡ç¿’æ¸¬é©—ç‹€æ…‹
        let currentQuizIndex = 0;
        let quizAnswers = new Array(100).fill(null);
        let quizStartTime = null;

        // éš¨æ©Ÿé¸æ“‡é¡Œç›®
        let exercises = [];
        let currentQuestionScore = 0;
        let currentQuestionFeedback = [];
        let hasExecutedSQLInCurrentQuestion = false; // è¿½è¸ªç”¨æˆ·æ˜¯å¦åœ¨å½“å‰é¢˜ç›®ä¸­æ‰§è¡Œè¿‡SQL

        function shuffleExercises() {
            // Fisher-Yates æ´—ç‰Œç®—æ³•
            const shuffled = [...exercisesPool];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            exercises = shuffled;
        }

        // é è¨­æ•¸æ“šåº«è³‡æ–™ï¼ˆç©ºè³‡æ–™è¡¨çµæ§‹ï¼‰
        const sampleDatabase = {
            employees: {
                columns: ['id', 'name', 'department', 'salary', 'hire_date'],
                data: []
            },
            departments: {
                columns: ['dept_id', 'dept_name', 'manager', 'budget'],
                data: []
            },
            products: {
                columns: ['product_id', 'product_name', 'category', 'price', 'stock_quantity'],
                data: []
            }
        };

        // DOMå…ƒï¿½ï¿½ï¿½å¼•ç”¨
        const introPage = document.getElementById('introPage');
        const simulatorPage = document.getElementById('simulatorPage');
        const newFileModal = document.getElementById('newFileModal');
        const syntaxModal = document.getElementById('syntaxModal');
        const howToPlayModal = document.getElementById('howToPlayModal');
        const sqlInput = document.getElementById('sqlInput');
        const output = document.getElementById('output');
        const usernameDisplay = document.getElementById('usernameDisplay');
        const userInitial = document.getElementById('userInitial');
        const fileName = document.getElementById('fileName');
        const exerciseCard = document.getElementById('exerciseCard');
        const exerciseDescription = document.getElementById('exerciseDescription');
        const modeDisplay = document.getElementById('modeDisplay');

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initEventListeners();
            initDataModels();
            currentDatabase = JSON.parse(JSON.stringify(sampleDatabase));
            updateTablePreview();
        });

        // åˆå§‹åŒ–æ•¸æ“šæ¨¡å‹é¢æ¿
        function initDataModels() {
            // æ¸²æŸ“æ‰€æœ‰æ¨¡å‹å¡ç‰‡
            renderAllModelsGrid();

            // å¿«é€Ÿé¸æ“‡æ¨™ç±¤äº‹ä»¶
            document.querySelectorAll('.model-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const modelId = this.getAttribute('data-model');
                    switchDataModel(modelId);
                });
            });

            // æŸ¥çœ‹å…¨éƒ¨æ¨¡å‹æŒ‰éˆ•å·²ç§»é™¤
        }

        // æ¸²æŸ“æ‰€æœ‰æ¨¡å‹å¡ç‰‡ç¶²æ ¼
        function renderAllModelsGrid() {
            const grid = document.getElementById('modelsGrid');
            grid.innerHTML = '';

            Object.values(dataModels).forEach(model => {
                const card = document.createElement('div');
                card.className = 'model-card';
                card.innerHTML = `
                    <span class="model-card-category">${model.category}</span>
                    <div class="model-card-header">
                        <span class="model-card-icon">${model.icon}</span>
                        <div class="model-card-title">${model.name}</div>
                    </div>
                    <div class="model-card-description">${model.description}</div>
                    <button class="model-card-btn" onclick="switchDataModel('${model.id}')">
                        <i class="fas fa-arrow-right"></i> é€²å…¥æ­¤æ¨¡å‹
                    </button>
                `;
                grid.appendChild(card);
            });
        }

        // åˆ‡æ›æ•¸æ“šæ¨¡å‹
        function switchDataModel(modelId) {
            currentDataModel = modelId;
            const model = dataModels[modelId];

            // æ›´æ–°ç•¶å‰æ¨¡å‹æ¨™è¨˜
            document.getElementById('currentModelBadge').textContent = model.name;

            // ã€æ–°å¿«é€Ÿé¸æ“‡æ¨™ç±¤çš„æ´»å‹•ç‹€æ…‹
            document.querySelectorAll('.model-tab').forEach(tab => {
                tab.classList.remove('active');
                if (tab.getAttribute('data-model') === modelId) {
                    tab.classList.add('active');
                }
            });

            // æ›´æ–°ã€å‹èªªæ˜
            updateModelDescription(modelId);

            // è¼‰å…¥ç¯„ä¾‹ SQL
            if (model.examples && model.examples.length > 0) {
                document.getElementById('sqlInput').value = model.examples[0];
            }

            // ã€å³æ›´æ–°è¡¨æ ¼é è¦½ä»¥é¡¯ç¤ºæ–°æ¨¡å‹ã€æ ¼å¼
            updateTablePreview();

            // æ”¶èµ·æ¨¡å‹é¢æ¿
            document.getElementById('allModelsPanel').classList.remove('expanded');

            // é¡¯ç¤ºæç¤ºè¨Šæ¯
            showMessage(`âœ¨ å·²åˆ‡æ›åˆ° ${model.name} æ¨¡å¼ï¼ç¯„ä¾‹ SQL å·²è¼‰å…¥ï¼Œè¡¨æ ¼é è¦½å·²æ›´æ–°ç‚º ${model.name} æ ¼å¼`, 'success');

            // æ»¾å‹•åˆ° SQL ç·¨è¼¯å™¨
            document.querySelector('.sql-editor-container').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // æ›´æ–°æ¨¡å‹èªªæ˜
        function updateModelDescription(modelId) {
            const descriptions = {
                relational: {
                    title: 'é—œè¯å¼æ¨¡å‹',
                    content: `<strong>ç”¨é€”ï¼š</strong>å‚³çµ±çš„é—œè¯å¼æ•¸æ“šåº«ï¼Œä½¿ç”¨è¡¨æ ¼åŸ·è¡Œå’Œåˆ—ä¾†å­˜å„²æ•¸æ“šï¼Œæ”¯æŒ ACID ç‰¹æ€§ã€‚<br>
                              <strong>èªæ³•ï¼š</strong>æ¨™æº– SQL èªæ³• - CREATE TABLE, INSERT, SELECT, UPDATE, DELETE<br>
                              <strong>é©ç”¨å ´æ™¯ï¼š</strong>çµæ§‹åŒ–æ•¸æ“šã€å¤šè¡¨é—œè¯æŸ¥è©¢ã€äº‹å‹™è™•ç†`
                },
                json: {
                    title: 'JSONæ–‡ä»¶æ¨¡å‹',
                    content: `<strong>ç”¨é€”ï¼š</strong>å­˜å„²å’ŒæŸ¥è©¢ JSON æ ¼å¼çš„åŠçµæ§‹åŒ–æ•¸æ“šï¼Œæ”¯æŒéˆæ´»çš„æ•¸ï¿½ï¿½ï¿½çµæ§‹ã€‚<br>
                              <strong>èªæ³•ï¼š</strong>CREATE TABLE é…åˆ JSON æ¬„ä½ï¼Œå¯ä½¿ç”¨ JSON è·¯å¾‘æŸ¥è©¢<br>
                              <strong>é©ç”¨å ´æ™¯ï¼š</strong>éˆæ´»çš„æ–‡æª”å­˜å„²ã€é…ç½®ç®¡ç†ã€API æ•¸æ“šç·©å­˜`
                },
                xml: {
                    title: 'XMLæ¨¡å‹',
                    content: `<strong>ç”¨é€”ï¼š</strong>XML æ•¸æ“šåº«èˆ‡ XQuery æ”¯æ´ï¼Œç”¨æ–¼è™•ç† XML æ ¼å¼çš„æ–‡æª”æ•¸æ“šã€‚<br>
                              <strong>èªæ³•ï¼š</strong>CREATE TABLE é…åˆ VARCHAR æ¬„ä½å­˜å„² XML å…§å®¹<br>
                              <strong>é©ç”¨å ´æ™¯ï¼š</strong>æ–‡æª”ç®¡ç†ã€é…ç½®æ–‡ä»¶ã€æ•¸æ“šäº¤æ›ã€Webæœå‹™`
                },
                graph: {
                    title: 'åœ–å½¢è³‡æ–™åº«',
                    content: `<strong>ç”¨é€”ï¼š</strong>è™•ç†ç¯€é»å’Œé—œä¿‚æ•¸æ“šï¼Œé©åˆç¤¾äº¤ç¶²çµ¡ã€æ¨è–¦ç³»çµ±ç­‰é—œä¿‚å¯†é›†å ´æ™¯ã€‚<br>
                              <strong>èªæ³•ï¼š</strong>å»ºç«‹ç¯€é»è¡¨å’Œé‚Šè¡¨ï¼Œæ¨¡æ“¬åœ–æ•¸æ“šçµæ§‹<br>
                              <strong>é©ç”¨å ´æ™¯ï¼š</strong>ç¤¾äº¤ç¶²çµ¡ã€çŸ¥è­˜åœ–è­œã€è·¯å¾‘æŸ¥è©¢ã€æ¨è–¦ç³»çµ±`
                },
                spatial: {
                    title: 'ç©ºé–“è³‡æ–™æ¨¡å‹',
                    content: `<strong>ç”¨é€”ï¼š</strong>å­˜å„²å’ŒæŸ¥è©¢åœ°ç†ä½ç½®æ•¸æ“šï¼Œæ”¯æŒç©ºé–“åˆ†æå’Œåœ°åœ–æ‡‰ç”¨ã€‚<br>
                              <strong>èªæ³•ï¼š</strong>ä½¿ç”¨ç¶“ç·¯åº¦æ¬„ä½å­˜å„²ä½ç½®ä¿¡æ¯<br>
                              <strong>é©ç”¨å ´æ™¯ï¼š</strong>åœ°åœ–æ‡‰ç”¨ã€ä½ç½®æœå‹™å¿…åœ°ç†åˆ†æã€å°èˆªç³»çµ±`
                },
                blockchain: {
                    title: 'å€å¡Šéˆè¡¨',
                    content: `<strong>ç”¨é€”ï¼š</strong>å‰µå»ºé˜²ç«„æ”¹çš„æ•¸æ“šè¨˜éŒ„ï¼Œæ•¸æ“šä¸€æ—¦å¯«å…¥ä¾¿ç„¡æ³•ä¿®æ”¹ï¼Œç¢ºä¿å®Œæ•´æ€§ã€‚<br>
                              <strong>èªæ³•ï¼š</strong>åƒ…å…è¨± INSERT æ“ä½œï¼Œä¸æ”¯æŒ UPDATE å’Œ DELETE<br>
                              <strong>é©ç”¨å ´æ™¯ï¼š</strong>äº¤æ˜“è¨˜éŒ„ã€å¯©è¨ˆæ—¥èªŒã€æ•¸æ“šæº¯ã€ã€åˆè¦è¨˜éŒ„`
                },
                keyvalue: {
                    title: 'éµå€¼å„²å­˜',
                    content: `<strong>ç”¨é€”ï¼š</strong>SODAï¼ˆSimple Oracle Document Accessï¼‰ï¼Œç°¡å–®çš„éµå€¼å°å­˜å„²ã€‚<br>
                              <strong>èªæ³•ï¼š</strong>CREATE TABLE é…åˆ key-value æ¬„ä½çµæ§‹<br>
                              <strong>é©ç”¨å ´æ™¯ï¼š</strong>é…ç½®ç®¡ç†ã€å¿«å–ç³»çµ±ã€æœƒè©±å­˜å„²ã€ç°¡å–®æ•¸æ“šå­˜å–`
                },
                timeseries: {
                    title: 'æ™‚é–“åºåˆ—',
                    content: `<strong>ç”¨é€”ï¼š</strong>è™•ç†æŒ‰æ™‚é–“é †åºã€åˆ—çš„æ•¸æ“šï¼Œé©åˆç‰©è¯ç¶²ã€ç›£æ§ç­‰æ™‚åºï¿½ï¿½ï¿½æ“šã€‚<br>
                              <strong>èªæ³•ï¼š</strong>åŒ…å«æ™‚é–“æˆ³æ¬„ä½ï¼ŒæŒ‰æ™‚é–“é †åºçµ„ç¹”æ•¸æ“š<br>
                              <strong>é©ç”¨å ´æ™¯ï¼š</strong>ç‰©è¯ç¶²æ„Ÿæ¸¬å™¨ã€ç³»çµ±ç›£æ§ã€è‚¡ç¥¨è¡Œæƒ…ï¿½ï¿½ï¿½æº«åº¦è¨˜éŒ„`
                },
                fulltext: {
                    title: 'æ–‡å­—æœå°‹',
                    content: `<strong>ç”¨é€”ï¼š</strong>Oracle Text å…¨æ–‡æª¢ç´¢ï¼Œæ”¯æŒå¼·å¤§çš„æ–‡æœ¬æœç´¢å’Œåˆ†æåŠŸèƒ½ã€‚<br>
                              <strong>èªæ³•ï¼š</strong>ä½¿ç”¨ LIKE æˆ–å…¨æ–‡æª¢ç´¢èªæ³•é€²è¡Œæ–‡æœ¬æœç´¢<br>
                              <strong>é©ç”¨å ´æ™¯ï¼š</strong>æ–‡ç« æœç´¢ã€å…§å®¹ç®¡ç†ç³»çµ±ã€çŸ¥è­˜åº«ã€æ–‡æª”æª¢ç´¢`
                },
                object: {
                    title: 'ç‰©ä»¶é—œè¯æ¨¡å‹',
                    content: `<strong>ç”¨é€”ï¼š</strong>ç‰©ä»¶é¡å‹èˆ‡ç‰©ä»¶è¡¨æ ¼ï¼Œçµï¿½ï¿½ï¿½ç‰©ä»¶å°å‘èˆ‡é—œè¯å¼æ•¸æ“šåº«çš„å„ªé»ã€‚<br>
                              <strong>èªæ³•ï¼š</strong>CREATE TABLE é…åˆè¤‡é›œæ•¸æ“šé¡å‹ï¼ˆæ¨¡æ“¬ç‰©ä»¶ï¼‰<br>
                              <strong>é©ç”¨å ´æ™¯ï¼š</strong>è¤‡é›œæ¥­å‹™å°è±¡ã€ORM æ˜ å°„ã€å±¤æ¬¡åŒ–æ•¸æ“šçµæ§‹`
                },
                semistructured: {
                    title: 'åŠçµï¿½ï¿½ï¿½åŒ–è³‡æ–™',
                    content: `<strong>ç”¨é€”ï¼š</strong>æ··åˆçµæ§‹æ”¯æ´ï¼Œå¯ä»¥åœ¨åŒä¸€è¡¨æ ¼ä¸­å­˜å„²ä¸åŒçµæ§‹çš„æ•¸æ“šã€‚<br>
                              <strong>èªæ³•ï¼š</strong>ä½¿ç”¨éˆæ´»çš„æ¬„ä½çµæ§‹å­˜å„²å„ç¨®æ ¼å¼æ•¸æ“š<br>
                              <strong>é©ç”¨å ´æ™¯ï¼š</strong>ç•°æ§‹æ•¸æ“šæ•´åˆã€éˆæ´»çš„æ•¸æ“šæ¨¡å‹ã€å¿«é€ŸåŸå‹é–‹ç™¼`
                },
                streaming: {
                    title: 'æµè³‡æ–™è™•ç†',
                    content: `<strong>ç”¨é€”ï¼š</strong>Continuous Query Notificationï¼ˆCQNï¼‰æŒçºŒæŸ¥è©¢é€šçŸ¥ï¼Œå¯¦æ™‚è™•ç†æµæ•¸æ“šã€‚<br>
                              <strong>èªæ³•ï¼š</strong>CREATE TABLE é…åˆæ™‚é–“æˆ³å’Œäº‹ä»¶é¡å‹æ¬„ä½<br>
                              <strong>é©ç”¨å ´æ™¯ï¼š</strong>å¯¦æ™‚äº‹ä»¶è™•ç†ã€æ—¥èªŒåˆ†æã€å³æ™‚é€šçŸ¥ã€æ•¸æ“šæµè™•ç†`
                },
                inmemory: {
                    title: 'è¨˜æ†¶é«”è³‡æ–™åº«',
                    content: `<strong>ç”¨é€”ï¼š</strong>In-Memory Column Storeï¼Œå°‡æ•¸æ“šå­˜å„²åœ¨å…§å­˜ä¸­ä»¥å¯¦ç¾æ¥µå¿«çš„æŸ¥è©¢é€Ÿåº¦ã€‚<br>
                              <strong>èªæ³•ï¼š</strong>æ¨™æº– SQLï¼Œä½†æŸ¥è©¢æ€§èƒ½æ¥µé«˜ï¼ˆæ¨¡æ“¬å…§å­˜å­˜å–ï¼‰<br>
                              <strong>é©ç”¨å ´æ™¯ï¼š</strong>é«˜é€Ÿç·©å­˜ã€æœƒè©±ç®¡ç†ã€å¯¦æ™‚åˆ†æã€ç†±é»æ•¸æ“šå­˜å–`
                },
                distributed: {
                    title: 'åˆ†ä½ˆå¼è³‡æ–™',
                    content: `<strong>ç”¨é€”ï¼š</strong>Database Link èˆ‡ Shardingï¼Œå°‡æ•¸æ“šåˆ†ä½ˆåœ¨å¤šå€‹ç¯€é»ä¸Šä»¥æé«˜å¯æ“´å±•æ€§ã€‚<br>
                              <strong>èªæ³•ï¼š</strong>æŒ‰å€åŸŸæˆ–åˆ†ç‰‡éµçµ„ç¹”æ•¸æ“šè¡¨<br>
                              <strong>é©ç”¨å ´æ™¯ï¼š</strong>å¤§è¦æ¨¡æ•¸æ“šå­˜å„²ã€è² è¼‰å‡è¡¡ã€åœ°ç†åˆ†ä½ˆã€é«˜å¯ç”¨æ¶æ§‹`
                },
                multitenant: {
                    title: 'å¤šç§Ÿæˆ¶æ¨¡å‹',
                    content: `<strong>ç”¨é€”ï¼š</strong>Pluggable Databaseï¼ˆPDBï¼‰æ¶æ§‹ï¼Œä¸€å€‹æ•¸æ“šåº«å¯¦ä¾‹æ”¯æŒå¤šå€‹ç¨ç«‹ç§Ÿæˆ¶ã€‚<br>
                              <strong>èªã€ï¼š</strong>ä½¿ç”¨ tenant_id å€åˆ†ä¸åŒç§Ÿæˆ¶çš„æ•¸æ“š<br>
                              <strong>é©ç”¨å ´æ™¯ï¼š</strong>SaaS æ‡‰ç”¨ã€å¤šå®¢æˆ¶ç³»çµ±ã€è³‡æºéš”é›¢ã€é›²ç«¯æœå‹™`
                }
            };

            const desc = descriptions[modelId] || descriptions.relational;
            document.getElementById('modelDescTitle').textContent = desc.title;
            document.getElementById('modelDescContent').innerHTML = desc.content;
        }

        // åˆå§‹åŒ–äº‹ä»¶ç›£è½å™¨
        function initEventListeners() {
            // Helper function to safely add event listener
            function safeAddEventListener(id, event, handler) {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener(event, handler);
                } else {
                    console.warn(`Element with id '${id}' not found`);
                }
            }

            // æ–°å»ºæª”æ¡ˆæŒ‰éˆ•
            safeAddEventListener('newFileBtn', 'click', () => {
                newFileModal.classList.add('active');
            });

            // ç©æ³•èªªæ˜æŒ‰éˆ•
            safeAddEventListener('howToPlayBtn', 'click', () => {
                howToPlayModal.classList.add('active');
            });

            // æµç¨‹åœ–æŒ‰éˆ•
            safeAddEventListener('flowchartBtn', 'click', () => {
                const flowchartModal = document.getElementById('flowchartModal');
                if (flowchartModal) {
                    flowchartModal.classList.add('active');
                }
            });

            // èªæ³•åƒè€ƒæŒ‰éˆ•
            safeAddEventListener('syntaxRefBtn', 'click', () => {
                syntaxModal.classList.add('active');
            });

            // æ¸¬é©—æŒ‰éˆ•
            safeAddEventListener('quizBtn', 'click', () => {
                document.getElementById('quizModal').classList.add('active');
                resetQuiz();
            });

            // é–‹å§‹æ¸¬é©—
            safeAddEventListener('startQuizBtn', 'click', () => {
                document.getElementById('quizIntro').style.display = 'none';
                document.getElementById('quizContent').style.display = 'block';
                quizStartTime = Date.now();
                showQuizQuestion();
            });

            // ä¸Šä¸€é¡Œ
            safeAddEventListener('prevQuestionBtn', 'click', () => {
                if (currentQuizIndex > 0) {
                    currentQuizIndex--;
                    showQuizQuestion();
                }
            });

            // ä¸‹ä¸€é¡Œ
            safeAddEventListener('nextQuestionBtn', 'click', () => {
                if (currentQuizIndex < 99) {
                    currentQuizIndex++;
                    showQuizQuestion();
                }
            });

            // æäº¤æ¸¬é©—
            safeAddEventListener('submitQuizBtn', 'click', () => {
                submitQuiz();
            });

            // é‡æ–°æ¸¬é©—
            safeAddEventListener('retakeQuizBtn', 'click', () => {
                resetQuiz();
                document.getElementById('quizResults').style.display = 'none';
                document.getElementById('quizIntro').style.display = 'block';
            });

            // æŸ¥çœ‹éŒ¯é¡Œ
            safeAddEventListener('reviewWrongBtn', 'click', () => {
                showWrongQuestions();
            });

            // æˆå°±æŒ‰éˆ•
            safeAddEventListener('achievementsBtn', 'click', () => {
                renderAchievementsModal();
                document.getElementById('achievementsModal').classList.add('active');
            });

            // å‰µå»ºæª”æ¡ˆæŒ‰éˆ•
            safeAddEventListener('createFileBtn', 'click', createNewFile);

            // åŸ·è¡ŒæŸ¥è©¢æŒ‰éˆ•
            safeAddEventListener('executeBtn', 'click', executeSQL);

            // æ¸…é™¤æŒ‰éˆ•
            safeAddEventListener('clearBtn', 'click', () => {
                sqlInput.value = '';
                const errorDisplay = document.getElementById('sqlErrorDisplay');
                if (errorDisplay) errorDisplay.innerHTML = '';
                sqlInput.classList.remove('error');
            });

            // é¡¯ç¤ºè³‡æ–™è¡¨æŒ‰éˆ•
            safeAddEventListener('showTablesBtn', 'click', showTables);

            // å®Œæ•´èªæ³•åƒè€ƒæŒ‰éˆ•
            safeAddEventListener('fullSyntaxBtn', 'click', () => {
                syntaxModal.classList.add('active');
            });

            // è¿”å›ä¸»é ã€éˆ•
            safeAddEventListener('backToIntroBtn', 'click', () => {
                // ä¿å­˜ç•¶å‰æª”æ¡ˆç‹€æ…‹
                saveCurrentFileState();

                simulatorPage.style.display = 'none';
                introPage.style.display = 'flex';
            });

            // è‡ªç”±ç·´ç¿’æ¨¡å¼æŒ‰éˆ•
            safeAddEventListener('freePracticeBtn', 'click', () => {
                currentMode = "free";
                exerciseCard.classList.remove('active');
                modeDisplay.textContent = "è‡ªç”±ç·´ç¿’æ¨¡å¼";
                sqlInput.value = '';
                document.getElementById('freePracticeBtn').classList.add('btn-primary');
                document.getElementById('exerciseModeBtn').classList.remove('btn-primary');
                // éš±è—æ‡¸æµ®æŒ‰éˆ•å’Œå¿«é€Ÿé¢æ¿
                updateFloatingQuestionButton();
                const panel = document.getElementById('quickQuestionPanel');
                if (panel) panel.classList.remove('active');
            });

            // è¨“ç·´é¡Œç›®æ¨¡å¼æŒ‰éˆ•
            safeAddEventListener('exerciseModeBtn', 'click', () => {
                currentMode = "exercise";
                currentExerciseIndex = 0;
                // éš¨æ©ŸåŒ–é¡Œç›®é †åº
                shuffleExercises();
                showExercise();
                modeDisplay.textContent = "è¨“ç·´é¡Œç›®æ¨¡å¼";
                document.getElementById('exerciseModeBtn').classList.add('btn-primary');
                document.getElementById('freePracticeBtn').classList.remove('btn-primary');
                showMessage('âœ¨ é¡Œç›®å·²éš¨æ©Ÿæ’åºï¼é–‹å§‹æŒ‘æˆ°å§ï¼<br><br>ğŸ“± <strong>æ‰‹æ©Ÿç”¨æˆ¶æç¤ºï¼š</strong>é»æ“Šå³ä¸‹è§’çš„ <span style="color: var(--accent);">â“</span> æŒ‰éˆ•å¯éš¨æ™‚å¿«é€ŸæŸ¥çœ‹é¡Œç›®å…§å®¹ï¼', 'success');
                // æ›´æ–°æ‡¸æµ®æŒ‰éˆ•
                updateFloatingQuestionButton();
            });

            // ä¸‹ä¸€é¡ŒæŒ‰éˆ•
            safeAddEventListener('nextExerciseBtn', 'click', () => {
                currentExerciseIndex = (currentExerciseIndex + 1) % exercises.length;
                const nextExercise = exercises[currentExerciseIndex];
                console.log(`ğŸ”„ åˆ‡æ›åˆ°ä¸‹ä¸€é¡Œ [${currentExerciseIndex + 1}/${exercises.length}]: ${nextExercise.title}`);
                showMessage(`â­ï¸ åˆ‡æ›åˆ°é¡Œç›® ${currentExerciseIndex + 1}: ${nextExercise.title}`, 'info');
                showExercise();
            });

            // ç¢ºå®šä½œç­”æ­¤é¡Œç›®æŒ‰éˆ•
            safeAddEventListener('confirmQuestionBtn', 'click', () => {
                const exercise = exercises[currentExerciseIndex];
                if (!exercise) {
                    showMessage('âŒ æ²’æœ‰å¯ä½œç­”çš„é¡Œç›®ï¼Œè«‹å…ˆé¸æ“‡è¨“ç·´é¡Œç›®æ¨¡å¼', 'error');
                    return;
                }

                // é¡¯ç¤ºç¢ºèªè¨Šæ¯
                showMessage(`âœ… å·²ç¢ºå®šä½œç­”é¡Œç›®ï¼š${exercise.title}<br><br>ğŸ“ é¡Œç›®è³‡è¨Šï¼š<br>â€¢ é›£åº¦ï¼š${exercise.difficulty} ${'â­'.repeat(Math.floor(exercise.difficultyStars))}<br>â€¢ é¡åˆ¥ï¼š${exercise.category}<br>â€¢ æ»¿åˆ†ï¼š30åˆ†<br><br>ğŸ’¡ è«‹åœ¨ SQL ç·¨è¼¯å™¨ä¸­è¼¸å…¥æ‚¨çš„ç­”æ¡ˆï¼ŒåŸ·è¡Œæ¸¬è©¦å¾Œå†æäº¤è©•åˆ†`, 'success');

                // æ»¾å‹•åˆ° SQL ç·¨è¼¯å™¨
                const sqlEditor = document.querySelector('.sql-editor-container');
                if (sqlEditor) {
                    sqlEditor.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });

            // æäº¤ç­”æ¡ˆæŒ‰éˆ•
            safeAddEventListener('submitAnswerBtn', 'click', () => {
                submitExerciseAnswer();
            });

            // é‡åšæœ¬é¡ŒæŒ‰éˆ•
            safeAddEventListener('retakeSameBtn', 'click', () => {
                // æ¸…é™¤ç•¶å‰ç­”æ¡ˆå’Œçµæœ
                sqlInput.value = '';
                const output = document.getElementById('output');
                const feedbackArea = document.getElementById('feedbackArea');
                const scoreDisplay = document.getElementById('currentScoreDisplay');
                const retakeOptions = document.getElementById('retakeOptions');

                if (output) output.innerHTML = '';
                if (feedbackArea) feedbackArea.style.display = 'none';
                if (scoreDisplay) scoreDisplay.style.display = 'none';
                if (retakeOptions) retakeOptions.style.display = 'none';

                // é‡ç½®è©•åˆ†è¡¨ç‹€æ…‹
                const exercise = exercises[currentExerciseIndex];
                if (exercise && exercise.requirements) {
                    exercise.requirements.forEach((req, index) => {
                        const statusCell = document.getElementById(`req-status-${index}`);
                        if (statusCell) {
                            statusCell.innerHTML = '-';
                        }
                    });
                }

                showMessage('ğŸ”„ å·²é‡ç½®æœ¬é¡Œï¼Œè«‹é‡æ–°ä½œç­”', 'info');
            });

            // æ›æ–°é¡Œç›®æŒ‰éˆ•
            safeAddEventListener('retakeNewBtn', 'click', () => {
                // éš¨æ©Ÿé¸æ“‡ä¸åŒçš„é¡Œç›®
                const newIndex = Math.floor(Math.random() * exercises.length);
                currentExerciseIndex = newIndex;
                loadExercise(currentExerciseIndex);

                // æ¸…é™¤çµæœ
                const output = document.getElementById('output');
                const feedbackArea = document.getElementById('feedbackArea');
                const scoreDisplay = document.getElementById('currentScoreDisplay');
                const retakeOptions = document.getElementById('retakeOptions');

                if (output) output.innerHTML = '';
                if (feedbackArea) feedbackArea.style.display = 'none';
                if (scoreDisplay) scoreDisplay.style.display = 'none';
                if (retakeOptions) retakeOptions.style.display = 'none';

                showMessage('ğŸ² å·²åˆ‡æ›åˆ°æ–°é¡Œç›®ï¼Œè«‹é–‹å§‹ä½œç­”', 'info');
            });

            // é—œé–‰æ¨¡æ…‹æ¡†æŒ‰éˆ• - åŒ…å«æµç¨‹åœ–å’Œæ¸¬é©—æ¨¡æ…‹æ¡†
            document.querySelectorAll('.close-modal').forEach(btn => {
                btn.addEventListener('click', () => {
                    newFileModal.classList.remove('active');
                    syntaxModal.classList.remove('active');
                    howToPlayModal.classList.remove('active');
                    document.getElementById('achievementsModal').classList.remove('active');
                    const flowchartModal = document.getElementById('flowchartModal');
                    if (flowchartModal) {
                        flowchartModal.classList.remove('active');
                    }
                    const quizModal = document.getElementById('quizModal');
                    if (quizModal) {
                        quizModal.classList.remove('active');
                    }
                });
            });

            // é»æ“Šæ¨¡æ…‹æ¡†èƒŒæ™¯é—œé–‰ - åŒ…å«æµç¨‹åœ–å’Œæ¸¬é©—æ¨¡æ…‹æ¡†
            const allModals = [newFileModal, syntaxModal, howToPlayModal, document.getElementById('achievementsModal'), document.getElementById('flowchartModal'), document.getElementById('quizModal')].filter(m => m);
            allModals.forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.classList.remove('active');
                    }
                });
            });

            // SQLç·¨è¼¯å™¨å¿«æ·éµï¼šCtrl+Enter åŸ·è¡ŒæŸ¥è©¢
            sqlInput.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'Enter') {
                    executeSQL();
                }
            });

            // SQL è¼¸å…¥æª¢æŸ¥
            sqlInput.addEventListener('input', () => {
                checkSQLSyntax();
            });

            // èªæ³•é›£åº¦åˆ‡æ›æŒ‰éˆ•
            document.querySelectorAll('.syntax-level-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const level = btn.getAttribute('data-level');

                    // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
                    document.querySelectorAll('.syntax-level-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');

                    // é¡¯ç¤ºå°æ‡‰é›£åº¦å…§å®¹
                    document.querySelectorAll('.syntax-level').forEach(section => {
                        if (section.getAttribute('data-level') === level) {
                            section.classList.add('active');
                        } else {
                            section.classList.remove('active');
                        }
                    });
                });
            });

            // æ‰€æœ‰å„²å­˜æŒ‰éˆ•
            safeAddEventListener('saveAllBtn', 'click', saveAllData);

            // åŒ¯å‡ºæŒ‰éˆ•
            safeAddEventListener('exportBtn', 'click', exportData);

            // åœ–è¡¨å°‡åœ¨åŸ·è¡Œ SELECT æŸ¥è©¢å¾Œè‡ªå‹•ç”Ÿæˆ
            // ç•¶åœ–è¡¨é¡å‹æ”¹è®Šæ™‚ï¼Œè‡ªå‹•é‡æ–°ç”Ÿæˆåœ–è¡¨
            safeAddEventListener('chartType', 'change', () => {
                if (lastQueryResult && lastQueryResult.data && lastQueryResult.data.length > 0) {
                    generateChart();
                }
            });
        }

        // ========== å¤šæª”æ¡ˆç®¡ç†ç³»çµ± ==========

        // å‰µå»ºæ–°çš„è³‡æ–™åº«æª”æ¡ˆ
        function createDatabaseFile(name = null) {
            const fileId = nextFileId++;
            const fileName = name || `æª”æ¡ˆ ${fileId}`;

            const newFile = {
                id: fileId,
                name: fileName,
                user: currentUser,
                databaseName: currentDatabaseName,
                database: {},
                executionHistory: [],
                lastQueryResult: null,
                sqlContent: '', // å„²å­˜ SQL ç·¨è¼¯å™¨çš„å…§å®¹
                createdAt: new Date().toISOString()
            };

            databaseFiles.push(newFile);
            return databaseFiles.length - 1; // è¿”å›æ–°æª”æ¡ˆçš„ç´¢å¼•
        }

        // ä¿å­˜ç•¶å‰æª”æ¡ˆç‹€æ…‹
        function saveCurrentFileState() {
            if (databaseFiles.length > 0 && currentFileIndex < databaseFiles.length) {
                databaseFiles[currentFileIndex].database = JSON.parse(JSON.stringify(currentDatabase));
                databaseFiles[currentFileIndex].executionHistory = [...executionHistory];
                databaseFiles[currentFileIndex].lastQueryResult = lastQueryResult ? {...lastQueryResult} : null;
                databaseFiles[currentFileIndex].user = currentUser;
                databaseFiles[currentFileIndex].databaseName = currentDatabaseName;
                // ä¿å­˜ SQL ç·¨è¼¯å™¨å…§å®¹
                databaseFiles[currentFileIndex].sqlContent = sqlInput.value;
            }
        }

        // è¼‰å…¥æª”æ¡ˆç‹€æ…‹
        function loadFileState(index) {
            if (index >= 0 && index < databaseFiles.length) {
                const file = databaseFiles[index];

                // è¼‰å…¥è³‡æ–™åº«ç‹€æ…‹
                currentDatabase = JSON.parse(JSON.stringify(file.database));
                executionHistory = [...file.executionHistory];
                lastQueryResult = file.lastQueryResult ? {...file.lastQueryResult} : null;
                currentUser = file.user;
                currentDatabaseName = file.databaseName;

                // è¼‰å…¥ SQL ç·¨è¼¯å™¨å…§å®¹
                sqlInput.value = file.sqlContent || '';

                // æ›´æ–°UI
                currentFileIndex = index;
                updateUIAfterFileSwitch();
                renderDatabaseTabs();
            }
        }

        // åˆ‡æ›åˆ°æŒ‡å®šæª”æ¡ˆ
        function switchToFile(index) {
            if (index === currentFileIndex) return;

            // ä¿å­˜ç•¶å‰æª”æ¡ˆç‹€æ…‹
            saveCurrentFileState();

            // è¼‰å…¥æ–°æª”æ¡ˆ
            loadFileState(index);

            // æ¸…ç©ºæ‰€æœ‰UIç‹€æ…‹
            clearAllUIStates();

            // æ›´ï¿½ï¿½ï¿½è¡¨æ ¼é è¦½å’Œåœ–è¡¨
            updateTablePreview();

            // å¦‚æœæœ‰æŸ¥è©¢çµæœï¼Œé‡æ–°ç”Ÿæˆåœ–è¡¨
            if (lastQueryResult && lastQueryResult.data && lastQueryResult.data.length > 0) {
                setTimeout(() => {
                    try {
                        generateChart();
                    } catch (error) {
                        console.log('åˆ‡æ›æª”æ¡ˆå¾Œåœ–è¡¨ç”Ÿæˆè·³éï¼š', error.message);
                    }
                }, 100);
            }

            // æ¸…ç©ºè¼¸å‡ºå€åŸŸï¼Œé¡¯ç¤ºæ­¡è¿è¨Šæ¯
            output.innerHTML = createMessage(`âœ… å·²åˆ‡æ›åˆ°ã€Œ${databaseFiles[index].name}ã€`, 'success');
        }

        // æ¸…ç©ºæ‰€æœ‰UIç‹€æ…‹ï¼ˆåˆ‡æ›æª”æ¡ˆæ™‚ä½¿ç”¨ï¼‰
        function clearAllUIStates() {
            // æ¸…ç©ºSQLè¼¸å…¥å€åŸŸçš„éŒ¯èª¤ç‹€æ…‹
            const sqlInput = document.getElementById('sqlInput');
            const sqlErrorDisplay = document.getElementById('sqlErrorDisplay');
            if (sqlInput) {
                sqlInput.classList.remove('error');
            }
            if (sqlErrorDisplay) {
                sqlErrorDisplay.innerHTML = '';
            }

            // æ¸…ç©ºè¼¸å‡ºå€åŸŸ
            const output = document.getElementById('output');
            if (output) {
                output.innerHTML = '';
            }

            // æ¸…ç©ºåœ–è¡¨å€åŸŸ
            const chartCanvas = document.getElementById('chartCanvas');
            if (chartCanvas && currentChart) {
                try {
                    currentChart.destroy();
                    currentChart = null;
                } catch (error) {
                    console.log('æ¸…é™¤åœ–è¡¨æ™‚ç™¼ç”ŸéŒ¯èª¤:', error);
                }
            }

            // æ¸…ç©ºè¨“ç·´æ¨¡å¼ç›¸é—œçš„UI
            const feedbackArea = document.getElementById('feedbackArea');
            const currentScoreDisplay = document.getElementById('currentScoreDisplay');
            const retakeOptions = document.getElementById('retakeOptions');
            if (feedbackArea) feedbackArea.style.display = 'none';
            if (currentScoreDisplay) currentScoreDisplay.style.display = 'none';
            if (retakeOptions) retakeOptions.style.display = 'none';
        }

        // æ›´æ–°UIï¼ˆæª”æ¡ˆåˆ‡æ›å¾Œï¼‰
        function updateUIAfterFileSwitch() {
            const file = databaseFiles[currentFileIndex];

            // æ›´æ–°é¡¯ç¤º
            document.getElementById('usernameDisplay').textContent = file.user;
            document.getElementById('userInitial').textContent = file.user.charAt(0).toUpperCase();

            // é¡¯ç¤ºæª”æ¡ˆåç¨±ï¼ˆåŒ…å«é€£æ¥åŸ åç¨±ã€å¦‚æœæœ‰çš„è©±ï¼‰
            let fileNameText = `${file.databaseName} - ${file.user}`;
            if (file.portName) {
                fileNameText += ` [${file.portName}]`;
            }
            fileNameText += ' çš„ç·´ç¿’æª”æ¡ˆ';
            document.getElementById('fileName').textContent = fileNameText;

            document.getElementById('currentTabInfo').innerHTML = `ç›®å‰æª”æ¡ˆï¼š<strong>${file.name}</strong>`;
        }

        // æ¸²æŸ“è³‡æ–™åº«æ¨™ç±¤é 
        function renderDatabaseTabs() {
            const tabsContainer = document.getElementById('databaseTabs');
            tabsContainer.innerHTML = '';

            // æ¸²æŸ“æ¯å€‹æª”æ¡ˆçš„æ¨™ç±¤
            databaseFiles.forEach((file, index) => {
                const tab = document.createElement('div');
                tab.className = `database-tab ${index === currentFileIndex ? 'active' : ''}`;

                // å¦‚æœæœ‰ã€æ¥åŸ åç¨±ï¼Œé¡¯ç¤ºåœ¨æª”æ¡ˆåç¨±æ—é‚Š
                const displayName = file.portName ? `${file.name} [${file.portName}]` : file.name;

                tab.innerHTML = `
                    <i class="fas fa-database database-tab-icon"></i>
                    <span>${displayName}</span>
                    ${databaseFiles.length > 1 ? `<span class="database-tab-close" onclick="event.stopPropagation(); closeFile(${index})"><i class="fas fa-times"></i></span>` : ''}
                `;
                tab.onclick = () => switchToFile(index);
                tabsContainer.appendChild(tab);
            });

            // æ–°å¢æª”æ¡ˆæŒ‰éˆ•
            const newTabBtn = document.createElement('div');
            newTabBtn.className = 'database-tab-new';
            newTabBtn.innerHTML = '<i class="fas fa-plus"></i> æ–°å¢è³‡æ–™åº«æª”æ¡ˆ';
            newTabBtn.onclick = addNewDatabaseFile;
            tabsContainer.appendChild(newTabBtn);

            // Default File æŒ‰éˆ•
            const defaultFileBtn = document.createElement('div');
            defaultFileBtn.className = 'database-tab-new';
            defaultFileBtn.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
            defaultFileBtn.innerHTML = '<i class="fas fa-database"></i> Default File';
            defaultFileBtn.onclick = loadDefaultDatabaseFile;
            tabsContainer.appendChild(defaultFileBtn);
        }

        // ï¿½ï¿½ï¿½å…¥é è¨­è³‡æ–™åº«æª”æ¡ˆï¼ˆDefault Fileï¼‰
        function loadDefaultDatabaseFile() {
            // å‰µå»ºè¼¸å…¥ç”¨æˆ¶åç¨±çš„å°è©±æ¡†
            const inputDialog = document.createElement('div');
            inputDialog.className = 'modal active';
            inputDialog.innerHTML = `
                <div class="modal-content" style="max-width: 450px;">
                    <h3 style="margin-bottom: 20px;">
                        <i class="fas fa-user" style="color: var(--secondary);"></i>
                        Default File - è¨­å®šä½¿ç”¨è€…åç¨±
                    </h3>
                    <p style="color: var(--text-secondary); margin-bottom: 15px;">
                        è³‡æ–™åº«åç¨±ï¼š<strong style="color: var(--accent);">Data_System</strong>ï¼ˆé è¨­ï¼Œç„¡æ³•æ›´æ”¹ï¼‰
                    </p>
                    <p style="color: var(--text-muted); margin-bottom: 10px; font-size: 0.9em;">
                        â„¹ï¸ æ­£ç¢ºçš„ä½¿ç”¨è€…åç¨±ç‚º <strong style="color: var(--accent);">User</strong>ï¼Œå¿…é ˆè¼¸å…¥æ­£ç¢ºæ‰èƒ½é€²å…¥
                    </p>
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; color: var(--text-secondary); margin-bottom: 8px;">
                            <i class="fas fa-user-circle"></i> è«‹ã€å…¥ä½¿ç”¨è€…åç¨±ï¼š
                        </label>
                        <input
                            type="text"
                            id="defaultFileUsername"
                            placeholder="è«‹è¼¸å…¥ User"
                            style="width: 100%; padding: 12px; background: var(--terminal-bg); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary); font-size: 16px;"
                            value=""
                            onkeypress="if(event.key === 'Enter') { confirmLoadDefaultFile(); }"
                        />
                        <div id="defaultFileUsernameWarning" style="margin-top: 8px; color: var(--error); font-size: 0.85em; display: none;">
                            âŒ ä½¿ç”¨è€…åç¨±éŒ¯èª¤ï¼å¿…é ˆè¼¸å…¥ã€ŒUserã€æ‰èƒ½é€²å…¥
                        </div>
                    </div>
                    <div style="display: flex; gap: 15px; justify-content: flex-end;">
                        <button class="btn" onclick="this.closest('.modal').remove()">
                            <i class="fas fa-times"></i> å–æ¶ˆ
                        </button>
                        <button class="btn btn-primary" onclick="if(confirmLoadDefaultFile() !== false) { this.closest('.modal').remove(); }">
                            <i class="fas fa-check"></i> ç¢ºèªè¼‰å…¥
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(inputDialog);

            // è‡ªå‹•èšç„¦åˆ°è¼¸å…¥æ¡†
            setTimeout(() => {
                const usernameInput = document.getElementById('defaultFileUsername');
                const warningDiv = document.getElementById('defaultFileUsernameWarning');

                usernameInput.focus();

                // ç›£è½è¼¸å…¥è®ŠåŒ–ï¼Œé¡¯ç¤ºè­¦å‘Š
                usernameInput.addEventListener('input', function() {
                    const value = this.value.trim();
                    if (value && value !== 'User') {
                        warningDiv.style.display = 'block';
                        this.style.borderColor = 'var(--error)';
                    } else {
                        warningDiv.style.display = 'none';
                        this.style.borderColor = 'var(--border-color)';
                    }
                });
            }, 100);
        }

        // ç¢ºèªè¼‰å…¥ Default File
        function confirmLoadDefaultFile() {
            let username = document.getElementById('defaultFileUsername').value.trim();
            const warningDiv = document.getElementById('defaultFileUsernameWarning');
            const usernameInput = document.getElementById('defaultFileUsername');

            // é©—è­‰ä½¿ç”¨è€…åç¨±å¿…é ˆç‚º "User"
            if (username !== 'User') {
                // é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
                if (warningDiv) {
                    warningDiv.style.display = 'block';
                }
                if (usernameInput) {
                    usernameInput.style.borderColor = 'var(--error)';
                    usernameInput.focus();
                }

                // å‰µå»ºéŒ¯èª¤æç¤ºæ¨¡æ…‹æ¡†
                const errorModal = document.createElement('div');
                errorModal.className = 'modal active';
                errorModal.style.zIndex = '10001';
                errorModal.innerHTML = `
                    <div class="modal-content" style="max-width: 400px; border: 2px solid var(--error);">
                        <div style="text-align: center; margin-bottom: 20px;">
                            <i class="fas fa-exclamation-triangle" style="font-size: 48px; color: var(--error);"></i>
                        </div>
                        <h3 style="margin-bottom: 15px; color: var(--error); text-align: center;">
                            âŒ ä½¿ç”¨è€…åç¨±éŒ¯èª¤
                        </h3>
                        <p style="color: var(--text-secondary); margin-bottom: 20px; text-align: center;">
                            æ‚¨è¼¸å…¥çš„ä½¿ç”¨è€…åç¨±ç‚ºã€Œ<strong style="color: var(--error);">${username || '(ç©ºç™½)'}</strong>ã€<br>
                            æ­£ç¢ºçš„ä½¿ç”¨è€…åç¨±å¿…é ˆæ˜¯ã€Œ<strong style="color: var(--accent);">User</strong>ã€
                        </p>
                        <div style="display: flex; justify-content: center;">
                            <button class="btn btn-primary" onclick="this.closest('.modal').remove();" style="background: var(--error);">
                                <i class="fas fa-check"></i> ã€çŸ¥é“äº†
                            </button>
                        </div>
                    </div>
                `;
                document.body.appendChild(errorModal);

                // é˜²æ­¢é—œé–‰åŸå°è©±æ¡†
                return false;
            }

            // ä¿å­˜ç•¶å‰æª”æ¡ˆ
            saveCurrentFileState();

            // å‰µå»ºæ–°æª”æ¡ˆï¼Œå›ºå®šè³‡æ–™åº«åç¨±ç‚º "Default_File"
            const newIndex = createDatabaseFile("Default_File");

            // åˆ‡æ›åˆ°æ–°æª”æ¡ˆ
            currentFileIndex = newIndex;
            currentDatabase = {};
            executionHistory = [];
            lastQueryResult = null;

            // è¨­ç½®ç”¨æˆ¶åç¨±ç‚ºç”¨æˆ¶è¼¸å…¥çš„å€¼ï¼ˆå·²é€šéé©—è­‰ï¼Œå¿…å®šç‚º "User"ï¼‰
            currentUser = username;
            currentDatabaseName = "Default_File";
            databaseFiles[newIndex].username = username;
            databaseFiles[newIndex].user = username;

            // æ›´æ–°é¡¯ç¤º
            const usernameDisplay = document.getElementById('usernameDisplay');
            const userInitial = document.getElementById('userInitial');
            const fileName = document.getElementById('fileName');
            if (usernameDisplay) usernameDisplay.textContent = username;
            if (userInitial) userInitial.textContent = username.charAt(0).toUpperCase();
            if (fileName) fileName.textContent = `Default_File - ${username} çš„ç·´ç¿’æª”æ¡ˆ`;

            // éŠ·æ¯€èˆŠåœ–è¡¨
            if (currentChart) {
                currentChart.destroy();
                currentChart = null;
            }

            // éš±è—åœ–è¡¨ï¼Œé¡¯ç¤ºç©ºç‹€æ…‹
            const chartCanvas = document.getElementById('dataChart');
            const chartEmptyState = document.getElementById('chartEmptyState');
            if (chartCanvas && chartEmptyState) {
                chartCanvas.style.display = 'none';
                chartEmptyState.style.display = 'block';
            }

            // é è¨­çš„å®Œæ•´SQLèªå¥
            const defaultSQL = `CREATE TABLE Data_System (
    ID NUMBER PRIMARY KEY,
    Chinese_Name VARCHAR2(20) NOT NULL,
    English_Name VARCHAR2(30) NOT NULL,
    HKID_Number VARCHAR2(10) UNIQUE NOT NULL,
    Position VARCHAR2(50) NOT NULL,
    Basic_Salary NUMBER(8,2) NOT NULL,
    Gender VARCHAR2(2) DEFAULT 'M',
    Late_Days NUMBER(3) DEFAULT 0,
    Daily_Deduction NUMBER(6,2) DEFAULT 100,
    Total_Deduction NUMBER(8,2) DEFAULT 0,
    Actual_Salary NUMBER(8,2),
    Join_Date DATE DEFAULT SYSDATE
);
INSERT INTO Data_System (ID, Chinese_Name, English_Name, HKID_Number, Position, Basic_Salary, Gender) VALUES (1, 'ç”°æµ·æ˜Ÿ', 'Sam Tin', 'S1234567(8)', 'ç¸½ç¶“ç†åŠè€é—†ç´šåˆ¥', 25000, 'M');
INSERT INTO Data_System (ID, Chinese_Name, English_Name, HKID_Number, Position, Basic_Salary, Gender) VALUES (2, 'é™³å¤©å¯¶', 'Franky Chan', 'S2345678(9)', 'ç¸½ç¶“ç†ç§˜æ›¸åŠåŠ©æ‰‹', 23000, 'M');
INSERT INTO Data_System (ID, Chinese_Name, English_Name, HKID_Number, Position, Basic_Salary, Gender, Late_Days, Daily_Deduction, Total_Deduction, Actual_Salary) VALUES (3, 'å¾æ¢“æœ—', 'Ben Chui', 'S3456789(0)', 'é›œå‹™ç´šåˆ¥', 8900, 'M', 3, 100, 300, 8600);
INSERT INTO Data_System (ID, Chinese_Name, English_Name, HKID_Number, Position, Basic_Salary, Gender) VALUES (4, 'é™³çš®', 'Chen Pi', 'S4567890(1)', 'ä¸€èˆ¬è·å“¡', 10050, 'M');
UPDATE Data_System SET Total_Deduction = Late_Days * Daily_Deduction;
UPDATE Data_System SET Actual_Salary = Basic_Salary - Total_Deduction;
SELECT * FROM Data_System;`;

            // å°‡é è¨­SQLå¡«å…¥ç·¨è¼¯å™¨
            sqlInput.value = defaultSQL;

            // æ›´æ–°UI
            updateUIAfterFileSwitch();
            renderDatabaseTabs();

            // è‡ªå‹•åŸ·è¡ŒSQLèªå¥
            executeSQL();

            // æ›´æ–°è¡¨æ ¼é è¦½
            updateTablePreview();

            // é¡¯ç¤ºæˆåŠŸè¨Šæ¯
            output.innerHTML = createMessage(`âœ… å·²ã€å…¥ã€ŒDefault_Fileã€æª”æ¡ˆï¼<br>ğŸ“Š è³‡æ–™åº«: Default_File | ä½¿ç”¨è€…: ${username}<br>ğŸ“Š è³‡æ–™è¡¨å·²è‡ªå‹•å»ºç«‹å®Œæˆï¼Œä½ å¯ä»¥åœ¨ä¸‹æ–¹é è¦½è¡¨æ ¼ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹SQLèªå¥é‡æ–°åŸ·è¡Œ`, 'success');

            // è¿”å› true è¡¨ç¤ºé©—è­‰æˆåŠŸï¼Œå¯ä»¥é—œé–‰å°è©±æ¡†
            return true;
        }

        // æ–°å¢è³‡æ–™åº«æª”æ¡ˆ
        function addNewDatabaseFile() {
            // å‰µå»ºè¼¸å…¥å°è©±æ¡†
            const inputDialog = document.createElement('div');
            inputDialog.className = 'modal active';
            inputDialog.innerHTML = `
                <div class="modal-content" style="max-width: 500px;">
                    <h3 style="margin-bottom: 20px;">
                        <i class="fas fa-plus-circle" style="color: var(--success);"></i>
                        æ–°å»ºè³‡æ–™åº«æª”æ¡ˆ
                    </h3>
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; color: var(--text-secondary); margin-bottom: 8px;">
                            <i class="fas fa-database"></i> è³‡æ–™åº«åç¨±ï¼š
                        </label>
                        <input
                            type="text"
                            id="newDatabaseName"
                            placeholder="é è¨­ç‚º Database_Simulator"
                            style="width: 100%; padding: 12px; background: var(--terminal-bg); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary); font-size: 16px;"
                            value="Database_Simulator"
                        />
                        <div style="margin-top: 5px; color: var(--text-muted); font-size: 0.85em;">
                            ğŸ’¡ å¯ã€è¨‚è³‡æ–™åº«åç¨±ï¼Œé è¨­ç‚ºã€ŒDatabase_Simulatorã€
                        </div>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; color: var(--text-secondary); margin-bottom: 8px;">
                            <i class="fas fa-user-circle"></i> ä½¿ç”¨è€…åç¨±ï¼š
                        </label>
                        <input
                            type="text"
                            id="newDatabaseUsername"
                            placeholder="è«‹è¼¸å…¥ä½¿ç”¨è€…åç¨±"
                            style="width: 100%; padding: 12px; background: var(--terminal-bg); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary); font-size: 16px;"
                            value=""
                        />
                        <div style="margin-top: 5px; color: var(--text-muted); font-size: 0.85em;">
                            âš ï¸ ä½¿ç”¨è€…åç¨±ç‚ºå¿…å¡«é …ç›®
                        </div>
                    </div>
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; color: var(--text-secondary); margin-bottom: 8px;">
                            <i class="fas fa-plug"></i> é€£æ¥åŸ åç¨±ï¼š
                        </label>
                        <input
                            type="text"
                            id="newDatabasePort"
                            placeholder="è«‹è¼¸å…¥é€£æ¥åŸ åç¨± (ä¾‹å¦‚ï¼šoracle)"
                            style="width: 100%; padding: 12px; background: var(--terminal-bg); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary); font-size: 16px;"
                            value=""
                            onkeypress="if(event.key === 'Enter') { confirmAddNewDatabaseFile(); }"
                        />
                        <div style="margin-top: 5px; color: var(--text-muted); font-size: 0.85em;">
                            ğŸ’¡ è«‹è¼¸å…¥ç›¸é—œçš„é€£æ¥åŸ åç¨±æ‰èƒ½å»ºç«‹æ–°æª”æ¡ˆï¼ˆä¾‹å¦‚ï¼šoracleã€mysqlã€postgresqlï¼‰
                        </div>
                    </div>
                    <div style="display: flex; gap: 15px; justify-content: flex-end;">
                        <button class="btn" onclick="this.closest('.modal').remove()">
                            <i class="fas fa-times"></i> å–æ¶ˆ
                        </button>
                        <button class="btn btn-primary" onclick="confirmAddNewDatabaseFile();">
                            <i class="fas fa-check"></i> ç¢ºèªå»ºç«‹
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(inputDialog);

            // è‡ªå‹•èšç„¦åˆ°è³‡æ–™åº«åç¨±ã€å…¥æ¡†
            setTimeout(() => {
                document.getElementById('newDatabaseName').focus();
            }, 100);
        }

        // ç¢ºèªæ–°å»ºè³‡æ–™åº«æª”æ¡ˆ
        function confirmAddNewDatabaseFile() {
            let databaseName = document.getElementById('newDatabaseName').value.trim();
            let username = document.getElementById('newDatabaseUsername').value.trim();
            let portName = document.getElementById('newDatabasePort').value.trim();

            // é©—è­‰ä½¿ç”¨è€…åç¨±ï¼ˆå¿…å¡«ï¼‰
            if (!username) {
                // ç§»é™¤èˆŠçš„è­¦å‘Šè¨Šæ¯
                const existingWarning = document.getElementById('newDatabaseUsernameError');
                if (existingWarning) {
                    existingWarning.remove();
                }

                const warningDiv = document.createElement('div');
                warningDiv.id = 'newDatabaseUsernameError';
                warningDiv.style.cssText = 'margin-top: 8px; color: var(--error); font-size: 0.85em; padding: 8px; background: rgba(255, 51, 102, 0.1); border-left: 3px solid var(--error); border-radius: 4px;';
                warningDiv.innerHTML = 'âŒ è«‹è¼¸å…¥ä½¿ç”¨è€…åç¨±ï¼';

                const usernameInput = document.getElementById('newDatabaseUsername');
                usernameInput.parentNode.appendChild(warningDiv);
                usernameInput.focus();
                return;
            }

            // é©—è­‰ï¿½ï¿½ï¿½æ¥åŸ åç¨±ï¼ˆå¿…å¡«ï¼‰
            if (!portName) {
                // ç§»é™¤èˆŠçš„è­¦å‘Šè¨Šï¿½ï¿½ï¿½
                const existingWarning = document.getElementById('newDatabasePortError');
                if (existingWarning) {
                    existingWarning.remove();
                }

                const warningDiv = document.createElement('div');
                warningDiv.id = 'newDatabasePortError';
                warningDiv.style.cssText = 'margin-top: 8px; color: var(--error); font-size: 0.85em; padding: 8px; background: rgba(255, 51, 102, 0.1); border-left: 3px solid var(--error); border-radius: 4px;';
                warningDiv.innerHTML = 'âŒ è«‹è¼¸å…¥é€£æ¥åŸ åç¨±ï¼';

                const portInput = document.getElementById('newDatabasePort');
                portInput.parentNode.appendChild(warningDiv);
                portInput.focus();
                return;
            }

            // å¦‚æœè³‡æ–™åº«åç¨±ç‚ºç©ºï¼Œä½¿ç”¨é è¨­å€¼
            if (!databaseName) {
                databaseName = 'Database_Simulator';
            }

            // é—œé–‰å°è©±æ¡†
            const modal = document.querySelector('.modal.active');
            if (modal) {
                modal.remove();
            }

            // ä¿å­˜ç•¶å‰æª”æ¡ˆ
            saveCurrentFileState();

            // å‰µå»ºæ–°æª”æ¡ˆ
            const newIndex = createDatabaseFile(databaseName);

            // è¨­ç½®ä½¿ç”¨è€…åç¨±å’Œé€£æ¥åŸ åç¨±
            databaseFiles[newIndex].username = username;
            databaseFiles[newIndex].portName = portName;

            // åˆ‡æ›åˆ°æ–°æª”æ¡ˆ
            currentFileIndex = newIndex;
            currentDatabase = {};
            executionHistory = [];
            lastQueryResult = null;

            // éŠ·æ¯€èˆŠåœ–è¡¨
            if (currentChart) {
                currentChart.destroy();
                currentChart = null;
            }

            // éš±è—åœ–è¡¨ï¼Œç¤ºç©ºç‹€æ…‹
            const chartCanvas = document.getElementById('dataChart');
            const chartEmptyState = document.getElementById('chartEmptyState');
            if (chartCanvas && chartEmptyState) {
                chartCanvas.style.display = 'none';
                chartEmptyState.style.display = 'block';
            }

            // æ›´æ–°UI
            updateUIAfterFileSwitch();
            renderDatabaseTabs();
            updateTablePreview();

            // æ¸…ç©ºç·¨è¼¯å™¨å’Œè¼¸å‡º
            sqlInput.value = '';
            output.innerHTML = createMessage(`âœ… å·²å‰µå»ºæ–°æª”æ¡ˆï¼<br>ğŸ“Š è³‡æ–™åº«ï¼š${databaseName} | ä½¿ç”¨è€…ï¼š${username} | é€£æ¥åŸ ï¼š${portName}<br>é–‹å§‹ä½ çš„SQLç·´ç¿’å§ï¼`, 'success');
        }

        // é—œé–‰æª”æ¡ˆ
        function closeFile(index) {
            if (databaseFiles.length <= 1) {
                output.innerHTML = createMessage('âŒ è‡³å°‘éœ€è¦ä¿ç•™ä¸€å€‹æª”æ¡ˆ', 'error');
                return;
            }

            // å‰µå»ºç¢ºèªå°è©±æ¡†
            const confirmDialog = document.createElement('div');
            confirmDialog.className = 'modal active';
            confirmDialog.innerHTML = `
                <div class="modal-content" style="max-width: 400px;">
                    <h3 style="margin-bottom: 20px;">
                        <i class="fas fa-exclamation-triangle" style="color: var(--warning);"></i>
                        ç¢ºèªé—œé–‰æª”æ¡ˆ
                    </h3>
                    <p style="color: var(--text-secondary); margin-bottom: 25px;">
                        ç¢ºå®šè¦é—œé–‰ã€Œ${databaseFiles[index].name}ã€å—ï¼Ÿ<br>
                        <strong style="color: var(--error);">æ‰€æœ‰æœªåŒ¯å‡ºçš„è³‡æ–™å°‡æœƒéºå¤±ï¼</strong>
                    </p>
                    <div style="display: flex; gap: 15px; justify-content: flex-end;">
                        <button class="btn" onclick="this.closest('.modal').remove()">
                            <i class="fas fa-times"></i> å–æ¶ˆ
                        </button>
                        <button class="btn" style="background: var(--error); border: none;" onclick="confirmCloseFile(${index}); this.closest('.modal').remove();">
                            <i class="fas fa-trash"></i> ç¢ºèªé—œé–‰
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(confirmDialog);
        }

        // ç¢ºèªé—œé–‰æª”æ¡ˆ
        function confirmCloseFile(index) {
            // ç§»é™¤æª”æ¡ˆ
            databaseFiles.splice(index, 1);

            // å¦‚æœé—œé–‰çš„æ˜¯ç•¶å‰æª”æ¡ˆï¼Œåˆ‡æ›åˆ°å‰ä¸€å€‹æˆ–ä¸‹ä¸€å€‹æª”æ¡ˆ
            if (index === currentFileIndex) {
                currentFileIndex = Math.max(0, index - 1);
                loadFileState(currentFileIndex);
                updateTablePreview();
            } else if (index < currentFileIndex) {
                // å¦‚æœé—œé–‰çš„æª”æ¡ˆåœ¨ç•¶å‰æª”æ¡ˆä¹‹å‰ï¼Œéœ€è¦èª¿æ•´ç´¢å¼•
                currentFileIndex--;
            }

            // é‡æ–°æ¸²æŸ“æ¨™ç±¤é 
            renderDatabaseTabs();

            output.innerHTML = createMessage('âœ… æª”æ¡ˆå·²é—œé–‰', 'success');
        }

        // ========== åŸæœ‰åŠŸèƒ½ ==========

        // å‰µå»ºæ–°æª”æ¡ˆ
        function createNewFile() {
            let usernameInput = document.getElementById('usernameInput').value.trim();
            let databaseNameInput = document.getElementById('databaseNameInput').value.trim();

            // é©—è­‰ä½¿ç”¨è€…åç¨±ï¼ˆå¿…å¡«ï¼‰
            if (!usernameInput) {
                output.innerHTML = createMessage('âŒ è«‹è¼¸å…¥ä½¿ç”¨è€…åç¨±ï¼', 'error');
                return;
            }

            // å¦‚æœè³‡æ–™åº«åç¨±ç‚ºç©ºï¼Œä½¿ç”¨é è¨­å€¼
            if (!databaseNameInput) {
                databaseNameInput = 'Database_Simulator';
            }

            currentUser = usernameInput;
            currentDatabaseName = databaseNameInput;
            usernameDisplay.textContent = currentUser;
            userInitial.textContent = currentUser.charAt(0).toUpperCase();
            fileName.textContent = currentDatabaseName + " - " + currentUser + " çš„ç·´ç¿’æª”æ¡ˆ";

            // åˆå§‹åŒ–ç¬¬ä¸€å€‹è³‡æ–™åº«æª”æ¡ˆ
            databaseFiles = [];
            currentFileIndex = 0;
            nextFileId = 1;
            createDatabaseFile("æª”æ¡ˆ 1");

            // æ¸²æŸ“æ¨™ç±¤é 
            renderDatabaseTabs();

            newFileModal.classList.remove('active');
            introPage.style.display = 'none';
            simulatorPage.style.display = 'block';

            showMessage(`æ­¡è¿ ${currentUser}ï¼é–‹å§‹åœ¨ ${currentDatabaseName} è³‡æ–™åº«çš„ SQL å­¸ç¿’ä¹‹æ—…å§ï¼`, 'success');
            updateTablePreview();
        }

        // é¡¯ç¤ºè¨“ç·´é¡Œç›®
        function showExercise() {
            const exercise = exercises[currentExerciseIndex];
            exerciseCard.classList.add('active');

            // é‡ç½®ç•¶å‰é¡Œç›®åˆ†æ•¸å’Œåé¥‹
            currentQuestionScore = 0;
            currentQuestionFeedback = [];
            hasExecutedSQLInCurrentQuestion = false; // é‡ç½®SQLæ‰§è¡Œæ ‡å¿—
            document.getElementById('feedbackArea').style.display = 'none';
            document.getElementById('currentScoreDisplay').style.display = 'none';

            // ğŸ”¥ æ¸…ç©ºæ•¸æ“šåº«ï¼Œç¢ºä¿æ¯é“é¡Œç›®ç¨ç«‹é‹ä½œ
            currentDatabase = {};
            executionHistory = [];
            lastQueryResult = null;

            // æ¸…ç©ºè¡¨æ ¼æ•¸æ“šç·©å­˜ï¼Œé˜²æ­¢é¡¯ç¤ºèˆŠé¡Œç›®çš„è¡¨æ ¼
            if (window.tableDataCache) {
                window.tableDataCache = {};
            }

            output.innerHTML = `<div style="color: var(--text-muted); font-style: italic;"><i class="fas fa-info-circle"></i> è³‡æ–™åº«å·²é‡ç½®ï¼Œæ­£åœ¨è¼‰å…¥æ–°é¡Œç›®ã€Œ${exercise.title}ã€...</div>`;
            console.log(`ğŸ”„ è³‡æ–™åº«å·²æ¸…ç©ºï¼ˆåŒ…å«è¡¨æ ¼ç·©å­˜ï¼‰ï¼Œæº–å‚™åŠ è¼‰æ–°é¡Œç›®ï¼š${exercise.title}`);

            // ç«‹å³æ›´æ–°è¡¨æ ¼é è¦½ï¼Œé¡¯ç¤ºç©ºç‹€æ…‹
            updateTablePreview();

            // ğŸ†• è‡ªå‹•åŠ è¼‰é¡Œç›®çš„åˆå§‹æ•¸æ“š
            if (exercise.initialData && exercise.initialData.length > 0) {
                console.log(`ğŸ“Š æ­£åœ¨ç‚ºé¡Œç›®ã€Œ${exercise.title}ã€åŠ è¼‰åˆå§‹æ•¸æ“š...`);
                let loadedCount = 0;
                let errorCount = 0;
                const createdTables = [];

                // å°‡æ‰€æœ‰ SQL èªå¥åˆä½µä¸¦åŸ·è¡Œ
                const combinedSQL = exercise.initialData.join(';\n') + ';';

                // æš«å­˜ç•¶å‰ SQL ç·¨è¼¯å™¨å…§å®¹
                const originalSQL = sqlInput.value;

                // è¨­ç½® SQL å…§å®¹ä¸¦åŸ·è¡Œ
                sqlInput.value = combinedSQL;

                try {
                    // ä½¿ç”¨ç³»çµ±çš„ executeSQL å‡½æ•¸åŸ·è¡Œ
                    executeSQL();

                    // çµ±è¨ˆå‰µå»ºçš„è¡¨æ ¼
                    exercise.initialData.forEach((sql, index) => {
                        const createTableMatch = sql.match(/CREATE\s+TABLE\s+(\w+)/i);
                        if (createTableMatch) {
                            createdTables.push(createTableMatch[1]);
                            loadedCount++;
                            console.log(`âœ… [${index + 1}/${exercise.initialData.length}] å·²åŸ·è¡Œ: ${sql.substring(0, 50)}...`);
                        } else {
                            loadedCount++;
                            console.log(`âœ… [${index + 1}/${exercise.initialData.length}] å·²åŸ·è¡Œ: ${sql.substring(0, 50)}...`);
                        }
                    });

                    console.log(`âœ… æˆåŠŸåŠ è¼‰ ${loadedCount} æ¢åˆï¿½ï¿½ï¿½æ•¸æ“š`);
                } catch (error) {
                    errorCount = exercise.initialData.length;
                    console.warn(`âš ï¸ åŠ è¼‰å¤±ã€: ${error.message}`);
                }

                // æ¢å¾©åŸå§‹ SQL ç·¨è¼¯å™¨å…§å®¹
                sqlInput.value = originalSQL;

                // ğŸ”¥ é‡è¦ï¼šé‡ç½®åŸ·è¡Œæ¨™å¿—ï¼Œç³»çµ±è‡ªå‹•åŠ è¼‰çš„æ•¸æ“šä¸ç®—ç”¨æˆ¶åŸ·è¡Œ
                hasExecutedSQLInCurrentQuestion = false;
                console.log('ğŸ”„ åˆå§‹æ•¸æ“šåŠ è¼‰å®Œæˆï¼Œå·²é‡ç½®åŸ·è¡Œæ¨™å¿—ï¼Œç”¨æˆ¶éœ€æ‰‹å‹•åŸ·è¡ŒSQLæ‰èƒ½æäº¤');

                // æ›´æ–°è¡¨æ ¼é è¦½
                updateTablePreview();

                // é¡¯ç¤ºå·²æä¾›çš„è³‡æ–™é è¦½
                if (createdTables.length > 0) {
                    const previewRow = document.getElementById('exerciseDataPreviewRow');
                    const previewContent = document.getElementById('exerciseDataPreview');

                    let previewHTML = '<div style="margin-bottom: 10px;"><strong style="color: var(--success);">âœ… ç³»çµ±å·²è‡ªå‹•å‰µå»ºä»¥ä¸‹è¡¨æ ¼ä¸¦æ’å…¥ç¤ºä¾‹æ•¸æ“šï¼š</strong></div>';

                    createdTables.forEach(tableName => {
                        try {
                            // ç²å–è¡¨æ ¼æ•¸æ“šé è¦½ï¼ˆä½¿ç”¨ currentDatabaseï¼‰
                            const tableNameLower = tableName.toLowerCase();
                            if (currentDatabase[tableNameLower]) {
                                const table = currentDatabase[tableNameLower];
                                const rowCount = table.data.length;
                                const columns = table.columns;
                                previewHTML += `<div style="margin: 8px 0; padding: 10px; background: rgba(0, 204, 136, 0.08); border-left: 3px solid var(--success); border-radius: 4px;">`;
                                previewHTML += `<strong style="color: var(--accent);">ğŸ“‹ ${tableName.toUpperCase()}</strong> `;
                                previewHTML += `<span style="color: var(--text-muted);">(${columns.length} å€‹æ¬„ä½, ${rowCount} ç­†è¨˜éŒ„)</span><br>`;
                                previewHTML += `<span style="color: var(--text-muted); font-size: 0.85em;">æ¬„ä½: ${columns.join(', ')}</span>`;
                                previewHTML += `</div>`;
                            } else {
                                previewHTML += `<div style="margin: 8px 0; padding: 10px; background: rgba(0, 204, 136, 0.08); border-left: 3px solid var(--success); border-radius: 4px;">`;
                                previewHTML += `<strong style="color: var(--accent);">ğŸ“‹ ${tableName.toUpperCase()}</strong> <span style="color: var(--text-muted);">(å·²å‰µå»º)</span>`;
                                previewHTML += `</div>`;
                            }
                        } catch (e) {
                            previewHTML += `<div style="margin: 8px 0; padding: 10px; background: rgba(0, 204, 136, 0.08); border-left: 3px solid var(--success); border-radius: 4px;">`;
                            previewHTML += `<strong style="color: var(--accent);">ğŸ“‹ ${tableName.toUpperCase()}</strong> <span style="color: var(--text-muted);">(å·²å‰µå»º)</span>`;
                            previewHTML += `</div>`;
                        }
                    });

                    previewHTML += '<div style="margin-top: 10px; padding: 8px; background: rgba(0, 168, 255, 0.08); border-radius: 4px; font-size: 0.85em;">';
                    previewHTML += '<i class="fas fa-info-circle"></i> æ‚¨å¯ä»¥ç›´æ¥åœ¨å³å´ã€Œè³‡æ–™è¡¨é è¦½ã€æŸ¥çœ‹å®Œæ•´æ•¸æ“šï¼Œæˆ–åŸ·è¡Œ SELECT èªå¥æŸ¥è©¢';
                    previewHTML += '</div>';

                    previewContent.innerHTML = previewHTML;
                    previewRow.style.display = '';
                } else {
                    document.getElementById('exerciseDataPreviewRow').style.display = 'none';
                }
            } else {
                // é¡Œç›®æ²’æœ‰åˆå§‹æ•¸æ“šï¼Œä¹Ÿè¦æ›´æ–°è¡¨æ ¼é è¦½ï¼ˆé¡¯ç¤ºç©ºç‹€æ…‹ï¼‰
                document.getElementById('exerciseDataPreviewRow').style.display = 'none';
                updateTablePreview();
            }

            // é¡¯ç¤ºé¡Œç›®æ¨™é¡Œ
            document.getElementById('exerciseTitleDisplay').textContent =
                `é¡Œç›® ${currentExerciseIndex + 1}/${exercises.length}: ${exercise.title}`;

            // é¡¯ç¤ºé›£åº¦ï¼ˆå¦‚æœæœ‰ï¼‰
            const difficultySpan = document.getElementById('exerciseDifficulty');
            const difficultyStarsSpan = document.getElementById('difficultyStars');
            if (exercise.difficulty) {
                difficultySpan.textContent = exercise.difficulty;
                const difficultyColors = {
                    'åŸºç¤': 'background: rgba(0, 204, 136, 0.2); color: var(--success);',
                    'ä¸­ç´š': 'background: rgba(255, 204, 0, 0.2); color: var(--warning);',
                    'é€²éš': 'background: rgba(255, 51, 102, 0.2); color: var(--error);'
                };
                difficultySpan.setAttribute('style',
                    `padding: 4px 12px; border-radius: 4px; font-weight: 600; ${difficultyColors[exercise.difficulty] || ''}`);

                // é¡¯ç¤ºé›£åº¦æ˜Ÿæ˜Ÿ
                if (exercise.difficultyStars) {
                    const fullStars = Math.floor(exercise.difficultyStars);
                    const hasHalfStar = exercise.difficultyStars % 1 !== 0;
                    const emptyStars = 5 - Math.ceil(exercise.difficultyStars);
                    let starsHTML = '';
                    for (let i = 0; i < fullStars; i++) {
                        starsHTML += 'â˜…';
                    }
                    if (hasHalfStar) {
                        starsHTML += 'â¯¨';
                    }
                    for (let i = 0; i < emptyStars; i++) {
                        starsHTML += 'â˜†';
                    }
                    difficultyStarsSpan.innerHTML = starsHTML;
                } else {
                    difficultyStarsSpan.innerHTML = '';
                }
            } else {
                difficultySpan.textContent = 'æœªåˆ†ç´š';
                difficultyStarsSpan.innerHTML = '';
            }

            // é¡¯ç¤ºåˆ†é¡ï¼ˆå¦‚æœæœ‰ï¼‰
            document.getElementById('exerciseCategory').textContent = exercise.category || 'ä¸€èˆ¬';

            // é¡¯ç¤ºé¡Œç›®æè¿°
            document.getElementById('exerciseDescription').innerHTML = exercise.description;

            // é¡¯ç¤ºæç¤º
            document.getElementById('exerciseHint').textContent = exercise.hint;

            // é¡¯ç¤ºè©•åˆ†æ¨™æº–è¡¨ï¼ˆå¦‚æœæœ‰ï¼‰
            const requirementsTable = document.getElementById('requirementsTable');
            if (exercise.requirements && exercise.requirements.length > 0) {
                let tableHTML = '<table style="width: 100%; border-collapse: collapse;">';
                tableHTML += '<tr style="background: rgba(0, 204, 136, 0.15); font-weight: 600;">';
                tableHTML += '<td style="padding: 8px; border: 1px solid rgba(0, 204, 136, 0.3); width: 60px; text-align: center;">åˆ†æ•¸</td>';
                tableHTML += '<td style="padding: 8px; border: 1px solid rgba(0, 204, 136, 0.3);">è©•åˆ†é …ç›®</td>';
                tableHTML += '<td style="padding: 8px; border: 1px solid rgba(0, 204, 136, 0.3); width: 80px; text-align: center;">ç‹€æ…‹</td>';
                tableHTML += '</tr>';

                exercise.requirements.forEach((req, index) => {
                    tableHTML += '<tr>';
                    tableHTML += `<td style="padding: 8px; border: 1px solid rgba(0, 204, 136, 0.2); text-align: center; font-weight: 600; color: var(--warning);">${req.points}åˆ†</td>`;
                    tableHTML += `<td style="padding: 8px; border: 1px solid rgba(0, 204, 136, 0.2);">${req.text}</td>`;
                    tableHTML += `<td id="req-status-${index}" style="padding: 8px; border: 1px solid rgba(0, 204, 136, 0.2); text-align: center;">-</td>`;
                    tableHTML += '</tr>';
                });

                tableHTML += '</table>';
                requirementsTable.innerHTML = tableHTML;
            } else {
                requirementsTable.innerHTML = '<div style="color: var(--text-muted); font-style: italic;">æœ¬é¡Œç›®æš«ç„¡è©³ç´°è©•åˆ†æ¨™æº–</div>';
            }

            sqlInput.value = '';

            // ğŸ†• æ›´æ–°æ‰‹æ©Ÿç‰ˆæ‡¸æµ®æŒ‰éˆ•å’Œå¿«é€Ÿé¡Œç›®é¢æ¿
            updateFloatingQuestionButton();
            updateQuickQuestionPanel();
        }

        // æäº¤ç­”æ¡ˆä¸¦è©•åˆ†
        function submitExerciseAnswer() {
            const exercise = exercises[currentExerciseIndex];
            if (!exercise || !exercise.requirements) {
                showMessage('âš ï¸ æœ¬é¡Œç›®æ²’æœ‰è©•åˆ†ã€æº–ï¼Œç„¡æ³•è©•åˆ†', 'warning');
                return;
            }

            // ç²å–ç•¶å‰ SQL å…§å®¹
            const userSQL = sqlInput.value.trim().toUpperCase();

            // ğŸ”¥ ã€é‡è¦æª¢æŸ¥ã€‘ç”¨æˆ¶å¿…é ˆåœ¨ç•¶å‰é¡Œç›®ä¸­åŸ·è¡ŒéSQLæ‰èƒ½æäº¤
            if (!hasExecutedSQLInCurrentQuestion) {
                showMessage('âš ï¸ è«‹å…ˆåŸ·è¡Œæ‚¨çš„SQLèªå¥ï¼<br><br>ğŸ“Œ æäº¤ç­”æ¡ˆå‰å¿…é ˆï¼š<br>1. åœ¨SQLç·¨è¼¯å™¨ä¸­è¼¸å…¥æ‚¨çš„ç­”æ¡ˆ<br>2. é»æ“Šã€ŒåŸ·è¡Œ SQLã€æŒ‰éˆ•æ¸¬è©¦æ‚¨çš„èªå¥<br>3. ç¢ºèªåŸ·è¡Œçµæœç„¡èª¤å¾Œå†æäº¤<br><br>ğŸ’¡ å³ä½¿é¡Œç›®å·²æä¾›é è¨­è³‡æ–™ï¼Œæ‚¨ä»éœ€åŸ·è¡Œè‡ªå·±çš„SQLèªå¥æ‰èƒ½æäº¤ç­”æ¡ˆ', 'warning');
                return;
            }

            // æª¢æŸ¥æ˜¯å¦æœ‰è¡¨æ ¼å­˜åœ¨æ–¼è³‡æ–™åº«ä¸­
            const hasTablesInDatabase = Object.keys(currentDatabase).length > 0;

            if (!hasTablesInDatabase) {
                showMessage('âš ï¸ è³‡æ–™åº«ä¸­æ²’æœ‰ä»»ä½•è¡¨æ ¼ï¼<br><br>ğŸ“Œ è«‹ç¢ºä¿ï¼š<br>1. å·²ç¶“å‰µå»ºäº†è¡¨æ ¼ï¼ˆä½¿ç”¨ CREATE TABLEï¼‰<br>2. æˆ–ä½¿ç”¨é¡Œç›®æä¾›çš„åˆå§‹æ•¸æ“š<br>3. è³‡æ–™è¡¨é è¦½ä¸­é¡¯ç¤ºäº†è¡¨æ ¼', 'warning');
                return;
            }

            // å…è¨±æäº¤ç­”æ¡ˆ
            console.log('âœ… ç”¨æˆ¶å·²åŸ·è¡ŒSQLï¼Œè³‡æ–™åº«ä¸­æœ‰è¡¨æ ¼ï¼Œå…è¨±æäº¤ç­”æ¡ˆé€²è¡Œè©•åˆ†');

            let totalScore = 0;
            const feedbacks = [];

            // æ ¹æ“šè©•åˆ†æ¨™æº–é€é …æª¢æŸ¥
            exercise.requirements.forEach((req, index) => {
                let passed = false;
                const reqText = req.text;

                // æ›´åš´æ ¼çš„æª¢æŸ¥é‚è¼¯
                if (reqText.includes('è¡¨æ ¼åç¨±')) {
                    // æª¢æŸ¥è¡¨æ ¼åç¨±ï¼šç¢ºèªCREATE TABLEèªå¥å­˜åœ¨ä¸”è¡¨æ ¼åœ¨currentDatabaseä¸­å­˜åœ¨
                    const tableName = reqText.match(/è¡¨æ ¼åç¨±ç‚º\s+(\w+)/);
                    if (tableName) {
                        const tableNameUpper = tableName[1].toUpperCase();
                        // æª¢æŸ¥SQLä¸­æ˜¯å¦æœ‰CREATE TABLEèªå¥
                        const createTablePattern = new RegExp('CREATE\\s+TABLE\\s+' + tableNameUpper, 'i');
                        if (createTablePattern.test(userSQL)) {
                            // æª¢æŸ¥è¡¨æ ¼æ˜¯å¦çœŸçš„å­˜åœ¨æ–¼è³‡æ–™åº«ä¸­
                            if (currentDatabase && currentDatabase.tables && currentDatabase.tables[tableNameUpper]) {
                                passed = true;
                            }
                        }
                    }
                }
                else if (reqText.includes('åŒ…å«') && reqText.includes('æ¬„ä½')) {
                    // æª¢æŸ¥æ¬„ä½åŠå…¶å±¬æ€§ï¼šéœ€è¦åŒæ™‚æª¢æŸ¥æ¬„ä½åç¨±å’Œå±¬æ€§
                    const fieldMatch = reqText.match(/åŒ…å«\s+(\w+)\s+æ¬„ä½[ï¼ˆ(](.+?)[)ï¼‰]/);
                    if (fieldMatch) {
                        const fieldName = fieldMatch[1].toUpperCase();
                        const attribute = fieldMatch[2];

                        if (attribute.includes('ä¸»éµ')) {
                            // ç¢ºèªæ¬„ä½å®šç¾©ä¸­æœ‰PRIMARY KEY
                            const primaryKeyPattern = new RegExp(fieldName + '[^,;)]*PRIMARY\\s+KEY', 'i');
                            if (primaryKeyPattern.test(userSQL)) {
                                passed = true;
                            }
                        }
                        else if (attribute.includes('éç©º')) {
                            // ç¢ºèªæ¬„ä½å®šç¾©ä¸­æœ‰NOT NULL
                            const notNullPattern = new RegExp(fieldName + '[^,;)]*NOT\\s+NULL', 'i');
                            if (notNullPattern.test(userSQL)) {
                                passed = true;
                            }
                        }
                        else if (attribute.includes('å”¯ä¸€')) {
                            // ç¢ºèªæ¬„ä½å®šç¾©ä¸­æœ‰UNIQUEç´„æŸ
                            const uniquePattern = new RegExp(fieldName + '[^,;)]*UNIQUE', 'i');
                            if (uniquePattern.test(userSQL)) {
                                passed = true;
                            }
                        }
                        else if (attribute.includes('å¤–éµ')) {
                            // ç¢ºèªæœ‰FOREIGN KEYæˆ–REFERENCES
                            const foreignKeyPattern = new RegExp(fieldName + '[^,;)]*REFERENCES', 'i');
                            const foreignKeyPattern2 = new RegExp('FOREIGN\\s+KEY\\s*\\([^)]*' + fieldName, 'i');
                            if (foreignKeyPattern.test(userSQL) || foreignKeyPattern2.test(userSQL)) {
                                passed = true;
                            }
                        }
                        else if (attribute.includes('CHECK')) {
                            // ç¢ºèªæœ‰CHECKç´„æŸ
                            const checkPattern = new RegExp(fieldName + '[^,;)]*CHECK', 'i');
                            const checkPattern2 = new RegExp('CHECK\\s*\\([^)]*' + fieldName, 'i');
                            if (checkPattern.test(userSQL) || checkPattern2.test(userSQL)) {
                                passed = true;
                            }
                        }
                        else if (attribute.includes('é è¨­') || attribute.includes('DEFAULT')) {
                            // ç¢ºèªæœ‰DEFAULTå€¼
                            const defaultPattern = new RegExp(fieldName + '[^,;)]*DEFAULT', 'i');
                            if (defaultPattern.test(userSQL)) {
                                passed = true;
                            }
                        }
                        else {
                            // å¦‚æœåªæ˜¯æª¢æŸ¥æ¬„ä½å­˜åœ¨ï¼Œä¸æª¢æŸ¥ç‰¹å®šå±¬æ€§
                            if (userSQL.includes(fieldName)) {
                                passed = true;
                            }
                        }
                    } else {
                        // èˆŠæ ¼å¼ï¼šåªæœ‰æ¬„ä½åç¨±ï¼Œæ²’æœ‰å±¬æ€§
                        const simpleFieldMatch = reqText.match(/åŒ…å«\s+(\w+)\s+æ¬„ä½/);
                        if (simpleFieldMatch && userSQL.includes(simpleFieldMatch[1].toUpperCase())) {
                            passed = true;
                        }
                    }
                }
                else if (reqText.includes('ä¸»éµ') && !reqText.includes('æ¬„ä½')) {
                    // ä¸€èˆ¬æ€§çš„ä¸»éµæª¢æŸ¥
                    if (userSQL.includes('PRIMARY KEY')) {
                        passed = true;
                    }
                }
                else if (reqText.includes('å¤–éµ') && !reqText.includes('æ¬„ä½')) {
                    // ä¸€èˆ¬æ€§çš„å¤–éµæª¢æŸ¥
                    if (userSQL.includes('FOREIGN KEY') || userSQL.includes('REFERENCES')) {
                        passed = true;
                    }
                }
                else if (reqText.includes('å”¯ä¸€') && !reqText.includes('æ¬„ä½')) {
                    // ä¸€èˆ¬æ€§çš„å”¯ä¸€ç´„æŸæª¢æŸ¥
                    if (userSQL.includes('UNIQUE')) {
                        passed = true;
                    }
                }
                else if (reqText.includes('éç©º') && !reqText.includes('æ¬„ä½')) {
                    // ä¸€èˆ¬æ€§çš„éç©ºæª¢æŸ¥
                    if (userSQL.includes('NOT NULL')) {
                        passed = true;
                    }
                }
                else if (reqText.includes('CHECK') && !reqText.includes('æ¬„ä½')) {
                    // ä¸€èˆ¬æ€§çš„CHECKç´„æŸæª¢æŸ¥
                    if (userSQL.includes('CHECK')) {
                        passed = true;
                    }
                }
                else if ((reqText.includes('é è¨­') || reqText.includes('DEFAULT')) && !reqText.includes('æ¬„ä½')) {
                    // ä¸€èˆ¬æ€§çš„DEFAULTæª¢æŸ¥
                    if (userSQL.includes('DEFAULT')) {
                        passed = true;
                    }
                }
                else {
                    // æ¨¡ç³ŠåŒ¹é…ï¼šæª¢æŸ¥é—œéµå­—æ˜¯å¦å‡ºç¾åœ¨ SQL ä¸­
                    const keywords = reqText.match(/[A-Z_]+/g);
                    if (keywords && keywords.some(kw => userSQL.includes(kw))) {
                        passed = true;
                    }
                }

                // æ›´æ–°ç‹€æ…‹å’Œåˆ†æ•¸
                const statusCell = document.getElementById(`req-status-${index}`);
                if (passed) {
                    totalScore += req.points;
                    statusCell.innerHTML = '<span style="color: var(--success); font-weight: 600;">âœ“ é€šé</span>';
                    feedbacks.push(`âœ“ ${reqText} - ç²å¾— ${req.points} åˆ†`);
                } else {
                    statusCell.innerHTML = '<span style="color: var(--error); font-weight: 600;">âœ— æœªé€šé</span>';
                    feedbacks.push(`âœ— ${reqText} - æœªæ»¿è¶³è¦æ±‚`);
                }
            });

            // é¡¯ç¤ºç¸½åˆ†
            currentQuestionScore = totalScore;
            document.getElementById('currentScore').textContent = totalScore;

            // ç¢ºå®šç­‰ç´šå’Œé¡è‰²
            let grade = '';
            let gradeColor = '';
            let gradeBackground = '';
            if (totalScore >= 22) {
                grade = 'A-ï¼ˆå„ªç§€ï¼‰';
                gradeColor = '#00ff88';
                gradeBackground = 'rgba(0, 255, 136, 0.2)';
            } else if (totalScore >= 16) {
                grade = 'A+ï¼ˆè‰¯å¥½ï¼‰';
                gradeColor = '#00cc88';
                gradeBackground = 'rgba(0, 204, 136, 0.2)';
            } else if (totalScore === 15) {
                grade = 'Bï¼ˆåˆæ ¼ï¼‰';
                gradeColor = '#ffcc00';
                gradeBackground = 'rgba(255, 204, 0, 0.2)';
            } else if (totalScore > 0) {
                grade = 'Cï¼ˆä¸åˆæ ¼ï¼‰';
                gradeColor = '#ff3366';
                gradeBackground = 'rgba(255, 51, 102, 0.2)';
            } else {
                grade = 'Fï¼ˆç„¡èªçŸ¥ï¼‰';
                gradeColor = '#666';
                gradeBackground = 'rgba(128, 128, 128, 0.2)';
            }

            const gradeLevelSpan = document.getElementById('gradeLevel');
            gradeLevelSpan.textContent = grade;
            gradeLevelSpan.style.color = gradeColor;
            gradeLevelSpan.style.background = gradeBackground;

            // é¡¯ç¤ºåˆ†é¡è©•åˆ†ï¼ˆæ¨¡æ“¬ - å¯¦éš›æ‡‰æ ¹æ“šé¡Œç›®é¡å‹ç´°åˆ†ï¼‰
            const categoryBreakdown = document.getElementById('categoryScoreBreakdown');
            const correctnessScore = Math.min(10, Math.round(totalScore * 0.33));
            const technicalScore = Math.min(8, Math.round(totalScore * 0.27));
            const logicScore = Math.min(7, Math.round(totalScore * 0.23));
            const readabilityScore = Math.min(5, totalScore - correctnessScore - technicalScore - logicScore);

            categoryBreakdown.innerHTML = `
                <div style="font-weight: 600; margin-bottom: 6px; color: var(--info);">è©•åˆ†ç´°é …ï¼š</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 6px; font-size: 0.95em;">
                    <div>â€¢ æ­£ç¢ºæ€§èˆ‡å®Œæ•´æ€§ï¼š${correctnessScore}/10</div>
                    <div>â€¢ æŠ€è¡“æ·±åº¦èˆ‡å¯¦è¸ï¼š${technicalScore}/8</div>
                    <div>â€¢ é‚è¼¯èˆ‡å•é¡Œè§£æ±ºï¼š${logicScore}/7</div>
                    <div>â€¢ å¯è®€æ€§èˆ‡çµæ§‹ï¼š${readabilityScore}/5</div>
                </div>
            `;

            document.getElementById('currentScoreDisplay').style.display = 'block';

            // é¡¯ç¤ºåé¥‹
            const feedbackArea = document.getElementById('feedbackArea');
            const feedbackContent = document.getElementById('feedbackContent');
            feedbackContent.innerHTML = feedbacks.map(fb => `<div style="margin: 5px 0; padding: 8px; background: rgba(0, 168, 255, 0.05); border-left: 3px solid ${fb.startsWith('âœ“') ? 'var(--success)' : 'var(--error)'}; border-radius: 4px;">${fb}</div>`).join('');
            feedbackArea.style.display = 'block';

            // æ ¹æ“šåˆ†æ•¸é¡¯ç¤ºä¸åŒçš„æ¶ˆæ¯
            const percentage = (totalScore / 30) * 100;
            let message = '';
            if (totalScore >= 22) {
                message = `ğŸ‰ å„ªç§€ï¼å¾—åˆ†ï¼š${totalScore}/30 åˆ† - ${grade}`;
                showMessage(message, 'success');
            } else if (totalScore >= 16) {
                message = `ğŸ‘ è‰¯å¥½ï¼å¾—åˆ†ï¼š${totalScore}/30 åˆ† - ${grade}`;
                showMessage(message, 'success');
            } else if (totalScore === 15) {
                message = `ğŸ“ åˆæ ¼ï¼å¾—åˆ†ï¼š${totalScore}/30 åˆ† - ${grade}`;
                showMessage(message, 'warning');
            } else {
                message = `âš ï¸ ä¸åˆæ ¼ï¼å¾—åˆ†ï¼š${totalScore}/30 åˆ† - ${grade}`;
                showMessage(message, 'error');
            }

            // é¡¯ç¤º/éš±è—é‡åšé¸é …ï¼ˆåˆ†æ•¸ä½æ–¼15åˆ†æ™‚é¡¯ç¤ºï¼‰
            const retakeOptions = document.getElementById('retakeOptions');
            if (totalScore < 15) {
                retakeOptions.style.display = 'block';
            } else {
                retakeOptions.style.display = 'none';
            }

            // æ»¾å‹•åˆ°åé¥‹å€åŸŸ
            feedbackArea.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // æª¢æŸ¥ SQL èªæ³•ï¼ˆæ¯æ¢èªå¥æª¢æŸ¥ï¼‰
        function checkSQLSyntax() {
            const sql = sqlInput.value.trim();
            const errorDisplay = document.getElementById('sqlErrorDisplay');

            if (!sql || sql.startsWith('--')) {
                sqlInput.classList.remove('error');
                errorDisplay.innerHTML = '';
                return;
            }

            // åˆ†å‰²å¤šæ¢SQLèªå¥ï¼ˆä»¥åˆ†è™Ÿåˆ†éš”ï¼‰
            const statements = sql.split(';').map(s => s.trim()).filter(s => s && !s.startsWith('--'));

            let errors = [];

            statements.forEach((stmt, index) => {
                const stmtUpper = stmt.toUpperCase();

                // åŸºæœ¬èªæ³•æª¢æŸ¥
                const keywords = ['SELECT', 'INSERT', 'UPDATE', 'DELETE', 'CREATE', 'DROP', 'ALTER', 'TRUNCATE', 'SHOW', 'DESCRIBE', 'DESC', 'COMMIT', 'ROLLBACK'];
                const hasKeyword = keywords.some(kw => stmtUpper.includes(kw));

                if (!hasKeyword) {
                    errors.push(`èªå¥ ${index + 1}: å¿…é ˆåŒ…å«æœ‰æ•ˆçš„SQLé—œéµå­—ï¼ˆå¦‚ SELECT, INSERT, CREATE ç­‰ï¼‰`);
                    return;
                }

                // æª¢æŸ¥æ‹¬è™Ÿé…å°
                const openParens = (stmt.match(/\(/g) || []).length;
                const closeParens = (stmt.match(/\)/g) || []).length;
                if (openParens !== closeParens) {
                    errors.push(`èªå¥ ${index + 1}: æ‹¬è™Ÿä¸åŒ¹é…ï¼ˆå·¦æ‹¬è™Ÿ: ${openParens}, å³æ‹¬è™Ÿ: ${closeParens}ï¼‰`);
                }

                // SELECT èªå¥æª¢æŸ¥
                if (stmtUpper.includes('SELECT') && !stmtUpper.includes('FROM') && !stmtUpper.includes('DUAL')) {
                    errors.push(`èªå¥ ${index + 1}: SELECT èªå¥é€šå¸¸éœ€è¦ FROM å­å¥æŒ‡å®šè³‡æ–™è¡¨`);
                }

                // INSERT èªå¥æª¢æŸ¥
                if (stmtUpper.includes('INSERT') && !stmtUpper.includes('INTO')) {
                    errors.push(`ã€å¥ ${index + 1}: INSERT èªå¥å¿…é ˆä½¿ç”¨ INSERT INTO èªæ³•`);
                }

                // INSERT å€¼æª¢æŸ¥
                if (stmtUpper.includes('INSERT INTO') && !stmtUpper.includes('VALUES') && !stmtUpper.includes('SELECT')) {
                    errors.push(`èªå¥ ${index + 1}: INSERT INTO èªå¥éœ€è¦ VALUES æˆ– SELECT å­å¥`);
                }

                // UPDATE èªå¥æª¢æŸ¥
                if (stmtUpper.includes('UPDATE') && !stmtUpper.includes('SET')) {
                    errors.push(`èªå¥ ${index + 1}: UPDATE èªå¥å¿…é ˆåŒ…å« SET å­å¥`);
                }

                // CREATE TABLE èªå¥æª¢æŸ¥
                if (stmtUpper.includes('CREATE TABLE')) {
                    if (!stmt.includes('(') || !stmt.includes(')')) {
                        errors.push(`èªå¥ ${index + 1}: CREATE TABLE èªå¥éœ€è¦æ‹¬è™Ÿå®šç¾©æ¬„ä½`);
                    }
                }

                // DELETE èªå¥æª¢æŸ¥
                if (stmtUpper.includes('DELETE') && !stmtUpper.includes('FROM')) {
                    errors.push(`èªå¥ ${index + 1}: DELETE èªå¥éœ€è¦ FROM å­å¥`);
                }
            });

            // é¡¯ç¤ºéŒ¯èª¤
            if (errors.length > 0) {
                sqlInput.classList.add('error');
                errorDisplay.innerHTML = '<div class="sql-error-message">âš ï¸ èªæ³•éŒ¯èª¤:<br>' + errors.join('<br>') + '</div>';
            } else if (statements.length > 0) {
                sqlInput.classList.remove('error');
                errorDisplay.innerHTML = '<div style="color: var(--success); font-size: 14px; margin-top: 10px; padding: 10px; background: rgba(0, 204, 136, 0.1); border-left: 3px solid var(--success); border-radius: 4px;">âœ“ èªæ³•æª¢æŸ¥é€šéï¼ˆå…± ' + statements.length + ' æ¢èªå¥ï¼‰</div>';
            } else {
                sqlInput.classList.remove('error');
                errorDisplay.innerHTML = '';
            }
        }

        // ç²å–SQLèªå¥è§£é‡‹
        function explainSQL(stmt) {
            const stmtUpper = stmt.toUpperCase();
            let explanation = '';

            if (stmtUpper.includes('SELECT')) {
                const fromMatch = stmtUpper.match(/FROM\s+(\w+)/i);
                const whereMatch = stmtUpper.includes('WHERE');
                const orderMatch = stmtUpper.includes('ORDER BY');
                const groupMatch = stmtUpper.includes('GROUP BY');

                explanation = '<strong>SELECT èªå¥è§£é‡‹ï¼š</strong><br>';
                explanation += 'â€¢ é€™æ˜¯ã€å€‹æŸ¥è©¢èªå¥ï¼Œç”¨æ–¼å¾è³‡æ–™è¡¨ä¸­æª¢ç´¢è³‡æ–™<br>';

                if (stmtUpper.includes('SELECT *')) {
                    explanation += 'â€¢ SELECT * è¡¨ç¤ºé¸æ“‡æ‰€æœ‰æ¬„ä½<br>';
                } else {
                    explanation += 'â€¢ SELECT å¾Œé¢æŒ‡å®šäº†è¦æŸ¥è©¢çš„ç‰¹å®šæ¬„ä½<br>';
                }

                if (fromMatch) {
                    explanation += `â€¢ FROM ${fromMatch[1]} è¡¨ç¤ºå¾ "${fromMatch[1]}" è³‡æ–™è¡¨ä¸­æŸ¥è©¢<br>`;
                }

                if (whereMatch) {
                    explanation += 'â€¢ WHERE å­å¥ç”¨æ–¼ç¯©é¸ç¬¦åˆæ¢ä»¶çš„è¨˜éŒ„<br>';
                }

                if (orderMatch) {
                    explanation += 'â€¢ ORDER BY ç”¨æ–¼å°æŸ¥è©¢çµæœé€²è¡Œæ’åº<br>';
                }

                if (groupMatch) {
                    explanation += 'â€¢ GROUP BY ç”¨æ–¼å°‡çµæœæŒ‰æŸå€‹æ¬„ä½åˆ†çµ„<br>';
                }
            } else if (stmtUpper.includes('INSERT INTO')) {
                const tableMatch = stmtUpper.match(/INSERT\s+INTO\s+(\w+)/i);
                explanation = '<strong>INSERT INTO èªå¥è§£é‡‹ï¼š</strong><br>';
                explanation += 'â€¢ é€™æ˜¯ä¸€å€‹æ’å…¥èªå¥ï¼Œç”¨æ–¼å‘è³‡æ–™è¡¨ä¸­æ·»åŠ æ–°çš„è¨˜éŒ„<br>';
                if (tableMatch) {
                    explanation += `â€¢ å°‡æ–°è³‡æ–™æ’å…¥åˆ° "${tableMatch[1]}" è³‡æ–™è¡¨ä¸­<br>`;
                }
                explanation += 'â€¢ VALUES å­å¥æŒ‡å®šè¦æ’å…¥çš„å…·é«”æ•¸æ“šå€¼<br>';
            } else if (stmtUpper.includes('UPDATE')) {
                const tableMatch = stmtUpper.match(/UPDATE\s+(\w+)/i);
                explanation = '<strong>UPDATE èªå¥è§£é‡‹ï¼š</strong><br>';
                explanation += 'â€¢ é€™æ˜¯ä¸€å€‹æ›´æ–°èªå¥ï¼Œç”¨æ–¼ä¿®æ”¹è³‡æ–™è¡¨ä¸­çš„ç¾æœ‰è¨˜éŒ„<br>';
                if (tableMatch) {
                    explanation += `â€¢ æ›´æ–° "${tableMatch[1]}" è³‡ã€è¡¨ä¸­çš„è³‡æ–™<br>`;
                }
                explanation += 'â€¢ SET å­å¥æŒ‡å®šè¦æ›´æ–°çš„æ¬„ä½å’Œæ–°å€¼<br>';
                if (stmtUpper.includes('WHERE')) {
                    explanation += 'â€¢ WHERE å­å¥æŒ‡å®šè¦æ›´æ–°å“ªäº›è¨˜éŒ„ï¼ˆç¬¦åˆæ¢ä»¶çš„è¨˜éŒ„ï¼‰<br>';
                } else {
                    explanation += 'â€¢ âš ï¸ æ²’æœ‰ WHERE å­å¥ï¼Œå°‡æ›´æ–°è³‡æ–™è¡¨ä¸­çš„æ‰€æœ‰è¨˜éŒ„<br>';
                }
            } else if (stmtUpper.includes('DELETE FROM')) {
                const tableMatch = stmtUpper.match(/DELETE\s+FROM\s+(\w+)/i);
                explanation = '<strong>DELETE FROM èªå¥è§£é‡‹ï¼š</strong><br>';
                explanation += 'â€¢ é€™æ˜¯ä¸€å€‹åˆªé™¤èªå¥ï¼Œç”¨æ–¼å¾è³‡æ–™ã€ä¸­åˆªé™¤è¨˜éŒ„<br>';
                if (tableMatch) {
                    explanation += `â€¢ å¾ "${tableMatch[1]}" è³‡æ–™è¡¨ä¸­åˆªé™¤è³‡æ–™<br>`;
                }
                if (stmtUpper.includes('WHERE')) {
                    explanation += 'â€¢ WHERE å­å¥æŒ‡å®šè¦åˆªé™¤å“ªäº›è¨˜éŒ„ï¼ˆç¬¦åˆæ¢ä»¶çš„è¨˜éŒ„ï¼‰<br>';
                } else {
                    explanation += 'â€¢ âš ï¸ æ²’æœ‰ WHERE å­å¥ï¼Œå°‡åˆªé™¤è³‡æ–™è¡¨ä¸­çš„æ‰€æœ‰è¨˜éŒ„<br>';
                }
            } else if (stmtUpper.includes('CREATE TABLE')) {
                const tableMatch = stmtUpper.match(/CREATE\s+TABLE\s+(\w+)/i);
                explanation = '<strong>CREATE TABLE èªå¥è§£é‡‹ï¼š</strong><br>';
                explanation += 'â€¢ é€™æ˜¯ä¸€å€‹è³‡æ–™å®šç¾©èªå¥ï¼Œç”¨æ–¼å‰µå»ºæ–°çš„è³‡æ–™è¡¨<br>';
                if (tableMatch) {
                    explanation += `â€¢ å‰µå»ºåç‚º "${tableMatch[1]}" çš„è³‡æ–™è¡¨<br>`;
                }
                explanation += 'â€¢ æ‹¬è™Ÿå…§å®šç¾©äº†è³‡æ–™è¡¨çš„æ¬„ä½åç¨±å’Œè³‡æ–™é¡å‹<br>';
            } else if (stmtUpper.includes('DROP TABLE')) {
                const tableMatch = stmtUpper.match(/DROP\s+TABLE\s+(\w+)/i);
                explanation = '<strong>DROP TABLE èªå¥è§£é‡‹ï¼š</strong><br>';
                explanation += 'â€¢ é€™æ˜¯ä¸€å€‹åˆªé™¤è³‡æ–™è¡¨ã€èªå¥<br>';
                if (tableMatch) {
                    explanation += `â€¢ å®Œå…¨åˆªé™¤ "${tableMatch[1]}" è³‡æ–™è¡¨åŠå…¶æ‰€æœ‰è³‡æ–™<br>`;
                }
                explanation += 'â€¢ âš ï¸ æ­¤æ“ä½œã€å¯æ¢å¾©ï¼Œè«‹è¬¹æ…ä½¿ç”¨<br>';
            } else if (stmtUpper.includes('ALTER TABLE')) {
                const tableMatch = stmtUpper.match(/ALTER\s+TABLE\s+(\w+)/i);
                explanation = '<strong>ALTER TABLE èªå¥è§£é‡‹ï¼š</strong><br>';
                explanation += 'â€¢ é€™æ˜¯ä¸€å€‹ä¿®æ”¹è³‡æ–™è¡¨çµæ§‹çš„èªå¥<br>';
                if (tableMatch) {
                    explanation += `â€¢ ä¿®æ”¹ "${tableMatch[1]}" è³‡æ–™è¡¨çš„çµæ§‹<br>`;
                }
                if (stmtUpper.includes('ADD')) {
                    explanation += 'â€¢ ADD ç”¨æ–¼æ·»åŠ æ–°çš„æ¬„ä½<br>';
                } else if (stmtUpper.includes('DROP')) {
                    explanation += 'â€¢ DROP ç”¨æ–¼åˆªé™¤ç¾æœ‰æ¬„ä½<br>';
                } else if (stmtUpper.includes('MODIFY')) {
                    explanation += 'â€¢ MODIFY ç”¨æ–¼ä¿®æ”¹ç¾æœ‰æ¬„ä½çš„å±¬æ€§<br>';
                }
            } else if (stmtUpper.includes('TRUNCATE')) {
                const tableMatch = stmtUpper.match(/TRUNCATE\s+TABLE\s+(\w+)/i);
                explanation = '<strong>TRUNCATE TABLE èªå¥è§£é‡‹ï¼š</strong><br>';
                explanation += 'â€¢ é€™æ˜¯ä¸€å€‹æ¸…ç©ºè³‡æ–™è¡¨çš„èªå¥<br>';
                if (tableMatch) {
                    explanation += `â€¢ æ¸…ç©º "${tableMatch[1]}" è³‡æ–™è¡¨ä¸­çš„æ‰€æœ‰è³‡æ–™<br>`;
                }
                explanation += 'â€¢ ä¿ç•™è³‡æ–™è¡¨çµæ§‹ï¼Œä½†åˆªé™¤æ‰€æœ‰è¨˜éŒ„<br>';
                explanation += 'â€¢ æ¯” DELETE æ›´å¿«ï¼Œä½†ç„¡æ³•å›æ»¾<br>';
            } else if (stmtUpper.includes('COMMIT')) {
                explanation = '<strong>COMMIT èªå¥è§£é‡‹ï¼š</strong><br>';
                explanation += 'â€¢ é€™æ˜¯ã€å€‹äº‹å‹™æ§åˆ¶èªå¥<br>';
                explanation += 'â€¢ ç”¨æ–¼æäº¤ç•¶å‰äº‹å‹™ï¼Œæ°¸ä¹…ä¿å­˜æ‰€æœ‰æ›´æ”¹<br>';
                explanation += 'â€¢ æäº¤å¾Œçš„æ›´æ”¹ç„¡æ³•ä½¿ç”¨ ROLLBACK æ’¤éŠ·<br>';
            } else if (stmtUpper.includes('ROLLBACK')) {
                explanation = '<strong>ROLLBACK èªå¥è§£é‡‹ï¼š</strong><br>';
                explanation += 'â€¢ é€™æ˜¯ä¸€å€‹äº‹å‹™æ§åˆ¶èªå¥<br>';
                explanation += 'â€¢ ç”¨æ–¼å›æ»¾ï¼ˆæ’¤éŠ·ï¼‰ç•¶å‰äº‹å‹™çš„æ‰€æœ‰æ›´æ”¹<br>';
                explanation += 'â€¢ å°‡è³‡æ–™åº«æ¢å¾©åˆ°äº‹å‹™é–‹å§‹å‰çš„ç‹€æ…‹<br>';
            } else {
                explanation = '<strong>SQL èªå¥è§£é‡‹ï¼š</strong><br>';
                explanation += 'â€¢ é€™æ˜¯ä¸€æ¢æœ‰æ•ˆçš„ SQL èªå¥<br>';
                explanation += 'â€¢ å…·é«”åŠŸèƒ½ã€æ±ºæ–¼ä½¿ç”¨çš„é—œéµå­—å’Œèªæ³•<br>';
            }

            return explanation;
        }

        // JOINæ“ä½œåŸ·è¡Œå‡½æ•¸
        function performJoin(leftTable, rightTable, leftCol, rightCol, joinType, leftTableName, rightTableName) {
            const leftColIndex = leftTable.columns.indexOf(leftCol);
            const rightColIndex = rightTable.columns.indexOf(rightCol);

            if (leftColIndex === -1) {
                throw new Error(`æ¬„ä½ "${leftCol}" åœ¨è¡¨æ ¼ "${leftTableName}" ä¸­ä¸å­˜åœ¨`);
            }
            if (rightColIndex === -1) {
                throw new Error(`æ¬„ä½ "${rightCol}" åœ¨è¡¨æ ¼ "${rightTableName}" ä¸­ä¸å­˜åœ¨`);
            }

            // åˆä½µæ¬„ä½åç¨±ï¼ˆåŠ ä¸Šè¡¨æ ¼å‰ç¶´é¿å…é‡è¤‡ï¼‰
            const combinedColumns = [
                ...leftTable.columns.map(col => `${leftTableName}.${col}`),
                ...rightTable.columns.map(col => `${rightTableName}.${col}`)
            ];

            const resultData = [];

            if (joinType === 'INNER JOIN' || joinType === 'JOIN') {
                // INNER JOINï¼šåªè¿”å›å…©è¡¨åŒ¹é…çš„è¨˜éŒ„
                leftTable.data.forEach(leftRow => {
                    rightTable.data.forEach(rightRow => {
                        if (leftRow[leftColIndex] === rightRow[rightColIndex]) {
                            resultData.push([...leftRow, ...rightRow]);
                        }
                    });
                });
            } else if (joinType === 'LEFT JOIN') {
                // LEFT JOINï¼šè¿”å›å·¦è¡¨æ‰€æœ‰è¨˜éŒ„ï¼Œå³è¡¨ç„¡åŒ¹é…å‰‡å¡«null
                leftTable.data.forEach(leftRow => {
                    let matched = false;
                    rightTable.data.forEach(rightRow => {
                        if (leftRow[leftColIndex] === rightRow[rightColIndex]) {
                            resultData.push([...leftRow, ...rightRow]);
                            matched = true;
                        }
                    });
                    if (!matched) {
                        resultData.push([...leftRow, ...new Array(rightTable.columns.length).fill(null)]);
                    }
                });
            } else if (joinType === 'RIGHT JOIN') {
                // RIGHT JOINï¼šè¿”å›å³è¡¨æ‰€æœ‰è¨˜éŒ„ï¼Œå·¦è¡¨ç„¡åŒ¹é…å‰‡å¡«null
                rightTable.data.forEach(rightRow => {
                    let matched = false;
                    leftTable.data.forEach(leftRow => {
                        if (leftRow[leftColIndex] === rightRow[rightColIndex]) {
                            resultData.push([...leftRow, ...rightRow]);
                            matched = true;
                        }
                    });
                    if (!matched) {
                        resultData.push([...new Array(leftTable.columns.length).fill(null), ...rightRow]);
                    }
                });
            }

            return {
                columns: combinedColumns,
                data: resultData
            };
        }

        // åŸ·è¡ŒSQLæŸ¥è©¢ï¼ˆæ”¯æŒå¤šæ¢èªå¥ï¼‰
        function executeSQL() {
            const sql = sqlInput.value.trim();

            if (!sql) {
                showMessage('âš ï¸ è«‹è¼¸å…¥SQLèªå¥', 'error');
                return;
            }

            // æ¨™è¨˜ç”¨æˆ¶å·²åœ¨ç•¶å‰é¡Œç›®ä¸­åŸ·è¡ŒéSQL
            hasExecutedSQLInCurrentQuestion = true;

            // åˆ†å‰²å¤šæ¢SQLèªå¥ï¼ˆä»¥åˆ†è™Ÿåˆ†éš”ï¼‰
            const statements = sql.split(';').map(s => s.trim()).filter(s => s && !s.startsWith('--'));

            if (statements.length === 0) {
                showMessage('âš ï¸ è«‹è¼¸å…¥æœ‰æ•ˆçš„SQLèªå¥', 'error');
                return;
            }

            // è¨˜éŒ„åŸ·è¡Œæ­·å²
            statements.forEach(stmt => {
                executionHistory.push(stmt + ';');
            });

            // å„²å­˜åŸ·è¡Œçµæœåˆ°æ­·å²è¨˜éŒ„ï¼ˆæœ€æ–°çš„åœ¨å‰ï¼‰
            let executionResults = [];
            let hasError = false;

            statements.forEach((stmt, index) => {
                const stmtUpper = stmt.toUpperCase();
                const isSelect = stmtUpper.includes('SELECT');

                let executionResult = {
                    statement: stmt,
                    success: false,
                    message: '',
                    explanation: '',
                    tableName: '',
                    details: ''
                };

                try {
                    // æª¢æŸ¥æ‹¬è™Ÿé…å°
                    const openParens = (stmt.match(/\(/g) || []).length;
                    const closeParens = (stmt.match(/\)/g) || []).length;
                    if (openParens !== closeParens) {
                        throw new Error(`æ‹¬è™Ÿä¸åŒ¹é…ï¼ˆå·¦æ‹¬è™Ÿ: ${openParens}, å³ï¿½ï¿½ï¿½è™Ÿ: ${closeParens}ï¼‰`);
                    }

                    if (stmtUpper.includes('EXPLAIN PLAN') || stmtUpper.startsWith('EXPLAIN ')) {
                        // æŸ¥è©¢åŸ·è¡Œè¨ˆç•«åˆ†æ
                        const queryMatch = stmt.match(/EXPLAIN\s+(?:PLAN\s+FOR\s+)?(.+)/is);
                        if (queryMatch) {
                            const query = queryMatch[1].trim();
                            const queryUpper = query.toUpperCase();

                            // æ¨¡æ“¬åŸ·è¡Œæ™‚é–“ (åŸºæ–¼æŸ¥è©¢è¤‡é›œåº¦)
                            let estimatedCost = 10;
                            let estimatedRows = 100;
                            let operations = [];

                            // åˆ†ææŸ¥è©¢é¡å‹
                            if (queryUpper.includes(' JOIN ')) {
                                estimatedCost += 50;
                                estimatedRows *= 2;
                                operations.push('HASH JOIN');
                                operations.push('TABLE ACCESS FULL (å…©è¡¨æƒæ)');
                            }
                            if (queryUpper.includes('WHERE')) {
                                estimatedCost += 20;
                                operations.push('FILTER (æ¢ä»¶ç¯©é¸)');
                            }
                            if (queryUpper.includes('ORDER BY')) {
                                estimatedCost += 30;
                                operations.push('SORT (æ’åºæ“ä½œ)');
                            }
                            if (queryUpper.includes('GROUP BY')) {
                                estimatedCost += 40;
                                operations.push('GROUP BY (åˆ†çµ„èšåˆ)');
                            }
                            if (!queryUpper.includes(' JOIN ') && queryUpper.includes('FROM')) {
                                operations.push('TABLE ACCESS FULL (å…¨è¡¨æƒæ)');
                            }

                            const executionTime = (estimatedCost / 10).toFixed(2);

                            executionResult.success = true;
                            executionResult.message = `åŸ·è¡Œè¨ˆç•«åˆ†æå®Œæˆ`;
                            executionResult.explanation = 'é¡¯ç¤ºSQLæŸ¥è©¢çš„åŸ·è¡Œè¨ˆç•«å’Œæ€§èƒ½é ä¼°';
                            executionResult.details = `
                                <div style="padding:15px; background: rgba(0,168,255,0.1); border-radius:8px; margin-top:10px;">
                                    <h4 style="color: var(--accent); margin-bottom:10px;"><i class="fas fa-chart-line"></i> åŸ·è¡Œè¨ˆç•« (Execution Plan)</h4>
                                    <div style="font-family: monospace; background: rgba(0,0,0,0.3); padding: 15px; border-radius:6px; margin-bottom:10px;">
                                        ${operations.map((op, i) => `${i + 1}. ${op}`).join('<br>')}
                                    </div>
                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-top:15px;">
                                        <div style="background: rgba(0,204,136,0.1); padding:10px; border-radius:6px; border-left: 3px solid var(--success);">
                                            <div style="font-size:12px; color: var(--text-secondary);">é ä¼°æˆæœ¬</div>
                                            <div style="font-size:20px; font-weight:600; color: var(--success);">${estimatedCost}</div>
                                        </div>
                                        <div style="background: rgba(0,168,255,0.1); padding:10px; border-radius:6px; border-left: 3px solid var(--secondary);">
                                            <div style="font-size:12px; color: var(--text-secondary);">é ä¼°è¡Œæ•¸</div>
                                            <div style="font-size:20px; font-weight:600; color: var(--secondary);">${estimatedRows}</div>
                                        </div>
                                        <div style="background: rgba(255,204,0,0.1); padding:10px; border-radius:6px; border-left: 3px solid var(--warning);">
                                            <div style="font-size:12px; color: var(--text-secondary);">é ä¼°æ™‚é–“</div>
                                            <div style="font-size:20px; font-weight:600; color: var(--warning);">${executionTime}ms</div>
                                        </div>
                                    </div>
                                    <div style="margin-top:15px; padding:10px; background: rgba(51,153,255,0.1); border-radius:6px;">
                                        <strong><i class="fas fa-lightbulb"></i> å„ªåŒ–å»ºè­°ï¼š</strong><br>
                                        ${operations.includes('TABLE ACCESS FULL (å…¨è¡¨æƒæ)') ? 'â€¢ è€ƒæ…®åœ¨ WHERE æ¢ä»¶æ¬„ä½ä¸Šå‰µå»ºç´¢å¼•ä»¥æå‡æŸ¥è©¢é€Ÿåº¦<br>' : ''}
                                        ${operations.includes('SORT (æ’åºæ“ä½œ)') ? 'â€¢ æ’åºæ“ä½œè¼ƒè€—è³‡æºï¼Œå¯è€ƒæ…®åœ¨æ’åºæ¬„ä½ä¸Šå‰µå»ºç´¢å¼•<br>' : ''}
                                        ${operations.includes('HASH JOIN') ? 'â€¢ JOIN æ“ä½œå·²ä½¿ç”¨ HASH JOINï¼Œæ•ˆèƒ½è‰¯å¥½<br>' : ''}
                                        ${estimatedCost < 50 ? 'â€¢ æŸ¥è©¢æˆæœ¬è¼ƒä½ï¼ŒåŸ·è¡Œæ•ˆèƒ½ä½³<br>' : 'â€¢ æŸ¥è©¢æˆæœ¬è¼ƒé«˜ï¼Œå»ºè­°å„ªåŒ–æŸ¥è©¢æ¢ä»¶<br>'}
                                    </div>
                                </div>
                            `;
                        }
                    } else if (stmtUpper.includes('SELECT')) {
                        // æ¸¬é‡æŸ¥è©¢åŸ·è¡Œæ™‚é–“
                        const startTime = performance.now();

                        // æª¢æŸ¥æ˜¯å¦ç‚ºJOINæŸ¥è©¢
                        if (stmtUpper.includes(' JOIN ')) {
                            const joinMatch = stmtUpper.match(/FROM\s+(\w+)\s+(INNER\s+JOIN|LEFT\s+JOIN|RIGHT\s+JOIN|JOIN)\s+(\w+)\s+ON\s+([\w.]+)\s*=\s*([\w.]+)/i);
                            if (joinMatch) {
                                const leftTable = joinMatch[1].toLowerCase();
                                const joinType = joinMatch[2].toUpperCase().trim();
                                const rightTable = joinMatch[3].toLowerCase();
                                const leftJoinCol = joinMatch[4].split('.').pop().toLowerCase();
                                const rightJoinCol = joinMatch[5].split('.').pop().toLowerCase();

                                if (!currentDatabase[leftTable]) {
                                    throw new Error(`è³‡æ–™è¡¨ "${leftTable}" ä¸å­˜åœ¨`);
                                }
                                if (!currentDatabase[rightTable]) {
                                    throw new Error(`è³‡æ–™è¡¨ "${rightTable}" ä¸å­˜åœ¨`);
                                }

                                // åŸ·è¡ŒJOINæ“ä½œ
                                const joinedData = performJoin(
                                    currentDatabase[leftTable],
                                    currentDatabase[rightTable],
                                    leftJoinCol,
                                    rightJoinCol,
                                    joinType,
                                    leftTable,
                                    rightTable
                                );

                                const endTime = performance.now();
                                const executionTime = (endTime - startTime).toFixed(2);

                                lastQueryResult = joinedData;
                                executionResult.success = true;
                                executionResult.message = `å·²åŸ·è¡Œ${joinType} JOINæŸ¥è©¢`;
                                executionResult.explanation = `é€£æ¥è¡¨æ ¼ã€Œ${leftTable}ã€å’Œã€Œ${rightTable}ã€`;
                                executionResult.details = renderTable(joinedData);
                                executionResult.details += `<div style="margin-top:10px; padding:8px; background: rgba(0,168,255,0.1); border-radius:6px; font-size:13px;">
                                    <i class="fas fa-stopwatch"></i> <strong>åŸ·è¡Œæ™‚é–“ï¼š</strong>${executionTime} ms
                                </div>`;

                                // è¿½è¹¤æˆå°±
                                trackAchievementProgress('join_performed');
                            } else {
                                throw new Error('JOINèªå¥æ ¼å¼éŒ¯èª¤');
                            }
                        } else {
                            // æ™®é€šSELECTæŸ¥è©¢
                            const tableMatch = stmtUpper.match(/FROM\s+(\w+)/i);
                            if (tableMatch) {
                                const tableName = tableMatch[1].toLowerCase();

                                // æª¢æŸ¥æ˜¯å¦ç‚ºè¦–åœ–
                                if (databaseMetadata.views[tableName]) {
                                    executionResult.success = true;
                                    executionResult.message = `æŸ¥è©¢è¦–åœ–ã€Œ${tableName}ã€ï¼ˆè¦–åœ–åŠŸèƒ½éœ€é€²ä¸€æ­¥å¯¦ç¾ï¼‰`;
                                    executionResult.explanation = 'æŸ¥è©¢è¦–åœ–';
                                } else if (currentDatabase[tableName]) {
                                    const endTime = performance.now();
                                    const executionTime = (endTime - startTime).toFixed(2);

                                    // è¨˜éŒ„æŸ¥è©¢çµæœä¾›åœ–è¡¨ä½¿ç”¨
                                    lastQueryResult = {
                                        columns: currentDatabase[tableName].columns,
                                        data: currentDatabase[tableName].data
                                    };
                                    executionResult.success = true;
                                    executionResult.tableName = tableName;
                                    executionResult.message = `å·²æŸ¥è©¢è¡¨æ ¼ã€Œ${tableName}ã€`;
                                    executionResult.explanation = 'å¾è³‡æ–™è¡¨ä¸­æª¢ç´¢è³‡æ–™';
                                    executionResult.details = renderTable(currentDatabase[tableName]);
                                    executionResult.details += `<div style="margin-top:10px; padding:8px; background: rgba(0,168,255,0.1); border-radius:6px; font-size:13px;">
                                        <i class="fas fa-stopwatch"></i> <strong>åŸ·è¡Œæ™‚é–“ï¼š</strong>${executionTime} ms | <strong>è¿”å›è¡Œæ•¸ï¼š</strong>${currentDatabase[tableName].data.length}
                                    </div>`;
                                } else {
                                    throw new Error(`è³‡æ–™è¡¨ "${tableName}" ä¸å­˜åœ¨`);
                                }
                            } else if (stmtUpper.includes('DUAL')) {
                                // è™•ç† Oracle DUAL è™›æ“¬è¡¨æŸ¥è©¢
                                let resultValue = '';

                                // æª¢æŸ¥æ˜¯å¦æŸ¥è©¢ SYSDATE
                                if (stmtUpper.includes('SYSDATE')) {
                                    resultValue = new Date().toISOString().replace('T', ' ').substring(0, 19);
                                }
                                // æª¢æŸ¥æ˜¯å¦æŸ¥è©¢ SEQUENCE.NEXTVAL
                                const nextvalMatch = stmt.match(/SELECT\s+(\w+)\.NEXTVAL\s+FROM\s+DUAL/i);
                                if (nextvalMatch) {
                                    const seqName = nextvalMatch[1].toLowerCase();
                                    if (databaseMetadata.sequences[seqName]) {
                                        const seq = databaseMetadata.sequences[seqName];
                                        seq.currentValue += seq.incrementBy;
                                        if (seq.currentValue > seq.maxValue) {
                                            if (seq.cycle) {
                                                seq.currentValue = seq.minValue;
                                            } else {
                                                throw new Error(`åºåˆ— "${seqName}" å·²é”åˆ°æœ€å¤§å€¼`);
                                            }
                                        }
                                        resultValue = seq.currentValue;
                                    } else {
                                        throw new Error(`åºåˆ— "${seqName}" ä¸å­˜åœ¨`);
                                    }
                                }
                                // æª¢æŸ¥æ˜¯å¦æŸ¥è©¢ SEQUENCE.CURRVAL
                                const currvalMatch = stmt.match(/SELECT\s+(\w+)\.CURRVAL\s+FROM\s+DUAL/i);
                                if (currvalMatch) {
                                    const seqName = currvalMatch[1].toLowerCase();
                                    if (databaseMetadata.sequences[seqName]) {
                                        resultValue = databaseMetadata.sequences[seqName].currentValue;
                                    } else {
                                        throw new Error(`åºåˆ— "${seqName}" ä¸å­˜åœ¨`);
                                    }
                                }
                                // æª¢æŸ¥æ˜¯å¦æœ‰ç°¡å–®çš„è¡¨é”å¼æˆ–å‡½æ•¸
                                const exprMatch = stmt.match(/SELECT\s+(.+?)\s+FROM\s+DUAL/i);
                                if (exprMatch && !nextvalMatch && !currvalMatch && !stmtUpper.includes('SYSDATE')) {
                                    const expr = exprMatch[1].trim();
                                    // å˜—è©¦è¨ˆç®—ç°¡å–®çš„æ•¸å­¸è¡¨é”å¼
                                    try {
                                        // å®‰å…¨è©•ä¼°ï¼ˆåƒ…æ”¯æŒåŸºæœ¬æ•¸å­¸é‹ç®—ï¼‰
                                        if (/^[\d\s+\-*/().]+$/.test(expr)) {
                                            resultValue = eval(expr);
                                        } else {
                                            resultValue = expr;
                                        }
                                    } catch (e) {
                                        resultValue = expr;
                                    }
                                }

                                executionResult.success = true;
                                executionResult.message = 'æŸ¥è©¢æˆåŠŸï¼ˆDUALè¡¨ï¼‰';
                                executionResult.explanation = 'DUALæ˜¯Oracleçš„è™›æ“¬å–®è¡Œè¡¨ï¼Œå¸¸ç”¨æ–¼æ¸¬è©¦å‡½æ•¸å’Œåºåˆ—';
                                executionResult.details = `<div style="padding:15px; background: rgba(0,168,255,0.1); border-radius:8px;">
                                    <strong>çµæœï¼š</strong><span style="color: var(--accent); font-size: 18px; margin-left: 10px;">${resultValue}</span>
                                </div>`;
                            } else {
                                throw new Error('SELECTèªå¥ç¼ºå°‘FROMå­å¥');
                            }
                        }
                    } else if (stmtUpper.includes('INSERT INTO')) {
                        if (!stmtUpper.includes('VALUES') && !stmtUpper.includes('SELECT')) {
                            throw new Error('INSERT INTOèªå¥éœ€è¦VALUESæˆ–SELECTå­å¥');
                        }
                        const tableMatch = stmtUpper.match(/INSERT\s+INTO\s+(\w+)/i);
                        const tableName = tableMatch ? tableMatch[1].toLowerCase() : 'æœªçŸ¥';

                        // Check if table exists
                        if (!currentDatabase[tableName]) {
                            throw new Error(`è³‡æ–™è¡¨ "${tableName}" ä¸å­˜åœ¨`);
                        }

                        // Parse and insert data
                        // Support both: INSERT INTO table VALUES (...) and INSERT INTO table (cols) VALUES (...)
                        const valuesMatch = stmt.match(/VALUES\s*\((.*?)\)(?:\s*;)?$/is);
                        if (valuesMatch) {
                            const valuesPart = valuesMatch[1];

                            // Split by comma, but not within parentheses or quotes
                            let values = [];
                            let current = '';
                            let inQuotes = false;
                            let quoteChar = '';

                            for (let i = 0; i < valuesPart.length; i++) {
                                const char = valuesPart[i];

                                if ((char === "'" || char === '"') && !inQuotes) {
                                    inQuotes = true;
                                    quoteChar = char;
                                    current += char;
                                } else if (char === quoteChar && inQuotes) {
                                    inQuotes = false;
                                    current += char;
                                } else if (char === ',' && !inQuotes) {
                                    values.push(current.trim());
                                    current = '';
                                } else {
                                    current += char;
                                }
                            }
                            if (current.trim()) {
                                values.push(current.trim());
                            }

                            // Process each value
                            values = values.map(v => {
                                v = v.trim();
                                // Remove quotes from strings
                                if ((v.startsWith("'") && v.endsWith("'")) || (v.startsWith('"') && v.endsWith('"'))) {
                                    return v.slice(1, -1);
                                }
                                // Handle NULL
                                if (v.toUpperCase() === 'NULL') {
                                    return null;
                                }
                                // Handle SYSDATE/CURRENT_DATE/DEFAULT
                                if (v.toUpperCase() === 'SYSDATE' || v.toUpperCase() === 'CURRENT_DATE' || v.toUpperCase() === 'DEFAULT') {
                                    const today = new Date();
                                    return today.toISOString().split('T')[0];
                                }
                                // Handle SEQUENCE.NEXTVAL (Oracle)
                                const nextvalMatch = v.match(/(\w+)\.NEXTVAL/i);
                                if (nextvalMatch) {
                                    const seqName = nextvalMatch[1].toLowerCase();
                                    if (databaseMetadata.sequences[seqName]) {
                                        const seq = databaseMetadata.sequences[seqName];
                                        seq.currentValue += seq.incrementBy;
                                        if (seq.currentValue > seq.maxValue) {
                                            if (seq.cycle) {
                                                seq.currentValue = seq.minValue;
                                            } else {
                                                throw new Error(`åºåˆ— "${seqName}" å·²é”åˆ°æœ€å¤§å€¼`);
                                            }
                                        }
                                        return seq.currentValue;
                                    } else {
                                        throw new Error(`åºåˆ— "${seqName}" ä¸å­˜åœ¨`);
                                    }
                                }
                                // Handle SEQUENCE.CURRVAL (Oracle)
                                const currvalMatch = v.match(/(\w+)\.CURRVAL/i);
                                if (currvalMatch) {
                                    const seqName = currvalMatch[1].toLowerCase();
                                    if (databaseMetadata.sequences[seqName]) {
                                        return databaseMetadata.sequences[seqName].currentValue;
                                    } else {
                                        throw new Error(`åºåˆ— "${seqName}" ä¸å­˜åœ¨`);
                                    }
                                }
                                // Handle NVL function (Oracle)
                                const nvlMatch = v.match(/NVL\s*\(\s*(.+?)\s*,\s*(.+?)\s*\)/i);
                                if (nvlMatch) {
                                    const val1 = nvlMatch[1].trim();
                                    const val2 = nvlMatch[2].trim();
                                    return (val1 === 'NULL' || val1 === null) ? val2.replace(/['"]/g, '') : val1.replace(/['"]/g, '');
                                }
                                // Handle TO_DATE function (Oracle)
                                const toDateMatch = v.match(/TO_DATE\s*\(\s*'(.+?)'\s*,\s*'(.+?)'\s*\)/i);
                                if (toDateMatch) {
                                    return toDateMatch[1]; // ç°¡åŒ–è™•ç†ï¼Œç›´æ¥è¿”å›æ—¥æœŸå­—ç¬¦ä¸²
                                }
                                // Return as is for numbers and other values
                                return v;
                            });

                            // ç´„æŸé©—è­‰
                            const metadata = databaseMetadata.tables[tableName];
                            if (metadata && metadata.constraints) {
                                const constraints = metadata.constraints;

                                // NOT NULL é©—è­‰
                                constraints.notNull.forEach(col => {
                                    const colIndex = currentDatabase[tableName].columns.indexOf(col);
                                    if (colIndex !== -1 && (values[colIndex] === null || values[colIndex] === '')) {
                                        throw new Error(`æ¬„ä½ "${col}" ä¸èƒ½ç‚ºNULLï¼ˆNOT NULLç´„æŸï¼‰`);
                                    }
                                });

                                // UNIQUE é©—è­‰
                                constraints.unique.forEach(col => {
                                    const colIndex = currentDatabase[tableName].columns.indexOf(col);
                                    if (colIndex !== -1) {
                                        const existingValues = currentDatabase[tableName].data.map(row => row[colIndex]);
                                        if (existingValues.includes(values[colIndex])) {
                                            throw new Error(`æ¬„ä½ "${col}" å€¼ "${values[colIndex]}" å·²å­˜åœ¨ï¼ˆUNIQUEç´„æŸï¼‰`);
                                        }
                                    }
                                });

                                // PRIMARY KEY é©—è­‰
                                constraints.primaryKey.forEach(col => {
                                    const colIndex = currentDatabase[tableName].columns.indexOf(col);
                                    if (colIndex !== -1) {
                                        if (values[colIndex] === null || values[colIndex] === '') {
                                            throw new Error(`ä¸»éµ "${col}" ä¸èƒ½ç‚ºNULL`);
                                        }
                                        const existingValues = currentDatabase[tableName].data.map(row => row[colIndex]);
                                        if (existingValues.includes(values[colIndex])) {
                                            throw new Error(`ä¸»éµ "${col}" å€¼ "${values[colIndex]}" å·²å­˜åœ¨`);
                                        }
                                    }
                                });

                                // CHECK é©—è­‰ï¼ˆç°¡å–®å¯¦ç¾ï¼‰
                                constraints.check.forEach(checkConstraint => {
                                    const col = checkConstraint.column;
                                    const condition = checkConstraint.condition;
                                    const colIndex = currentDatabase[tableName].columns.indexOf(col);

                                    if (colIndex !== -1) {
                                        // ç°¡å–®çš„CHECKæ¢ä»¶é©—è­‰ï¼ˆä¾‹å¦‚ï¼šage >= 18ï¼‰
                                        const value = values[colIndex];

                                        // è™•ç†ç¯„åœæª¢æŸ¥ (BETWEEN ... AND ...)
                                        const betweenMatch = condition.match(/(\w+)\s+BETWEEN\s+(\d+)\s+AND\s+(\d+)/i);
                                        if (betweenMatch) {
                                            const min = parseInt(betweenMatch[2]);
                                            const max = parseInt(betweenMatch[3]);
                                            const numValue = parseFloat(value);
                                            if (numValue < min || numValue > max) {
                                                throw new Error(`CHECKç´„æŸå¤±æ•—ï¼š${col} å¿…é ˆåœ¨ ${min} åˆ° ${max} ä¹‹é–“`);
                                            }
                                        }

                                        // è™•ç† >= æª¢æŸ¥
                                        const gteMatch = condition.match(/(\w+)\s*>=\s*(\d+)/i);
                                        if (gteMatch) {
                                            const minValue = parseFloat(gteMatch[2]);
                                            const numValue = parseFloat(value);
                                            if (numValue < minValue) {
                                                throw new Error(`CHECKç´„æŸå¤±æ•—ï¼š${col} å¿…é ˆ >= ${minValue}`);
                                            }
                                        }
                                    }
                                });
                            }

                            // Add to database
                            currentDatabase[tableName].data.push(values);
                            executionResult.success = true;
                            executionResult.tableName = tableName;
                            executionResult.message = `å·²æ’å…¥è¡¨æ ¼ã€Œ${tableName}ã€`;
                            executionResult.explanation = 'å‘è³‡æ–™è¡¨ä¸­æ·»åŠ æ–°çš„è¨˜éŒ„ï¼ˆå·²é©—è­‰ç´„æŸï¼‰';
                        } else {
                            throw new Error('ç„¡æ³•è§£æINSERTèªå¥ä¸­çš„VALUES');
                        }
                    } else if (stmtUpper.includes('UPDATE')) {
                        if (!stmtUpper.includes('SET')) {
                            throw new Error('UPDATEèªå¥ç¼ºå°‘SETå­å¥');
                        }
                        const tableMatch = stmtUpper.match(/UPDATE\s+(\w+)/i);
                        const tableName = tableMatch ? tableMatch[1].toLowerCase() : 'æœªçŸ¥';

                        // Check if table exists
                        if (!currentDatabase[tableName]) {
                            throw new Error(`è³‡æ–™è¡¨ "${tableName}" ä¸å­˜åœ¨`);
                        }

                        // Simple UPDATE implementation (updates all rows for simplicity)
                        // In a real implementation, you would parse WHERE clause
                        const setMatch = stmt.match(/SET\s+(.*?)(?:WHERE|$)/i);
                        if (setMatch) {
                            const setPart = setMatch[1].trim();
                            const assignments = setPart.split(',').map(a => a.trim());

                            assignments.forEach(assignment => {
                                const [colName, value] = assignment.split('=').map(s => s.trim());
                                const colIndex = currentDatabase[tableName].columns.indexOf(colName);

                                if (colIndex !== -1) {
                                    let newValue = value;
                                    // Remove quotes
                                    if ((newValue.startsWith("'") && newValue.endsWith("'")) ||
                                        (newValue.startsWith('"') && newValue.endsWith('"'))) {
                                        newValue = newValue.slice(1, -1);
                                    }

                                    // Update all rows (simplified - no WHERE clause parsing)
                                    currentDatabase[tableName].data.forEach(row => {
                                        row[colIndex] = newValue;
                                    });
                                }
                            });
                        }

                        executionResult.success = true;
                        executionResult.tableName = tableName;
                        executionResult.message = `å·²æ›´æ–°è¡¨æ ¼ã€Œ${tableName}ã€`;
                        executionResult.explanation = 'ä¿®æ”¹è³‡æ–™è¡¨ä¸­çš„ç¾æœ‰è¨˜éŒ„';
                    } else if (stmtUpper.includes('DELETE FROM')) {
                        const tableMatch = stmtUpper.match(/DELETE\s+FROM\s+(\w+)/i);
                        const tableName = tableMatch ? tableMatch[1].toLowerCase() : 'æœªçŸ¥';

                        // Check if table exists
                        if (!currentDatabase[tableName]) {
                            throw new Error(`è³‡æ–™è¡¨ "${tableName}" ä¸å­˜åœ¨`);
                        }

                        // Simple DELETE implementation
                        // For simplicity, if there's no WHERE clause, delete all rows
                        // In a real implementation, you would parse WHERE clause
                        const deletedCount = currentDatabase[tableName].data.length;
                        currentDatabase[tableName].data = [];

                        executionResult.success = true;
                        executionResult.tableName = tableName;
                        executionResult.message = `å·²å¾è¡¨æ ¼ã€Œ${tableName}ã€åˆªé™¤ ${deletedCount} ç­†è³‡æ–™`;
                        executionResult.explanation = 'å¾è³‡æ–™è¡¨ä¸­åˆªé™¤è¨˜éŒ„';
                    } else if (stmtUpper.includes('CREATE TABLE')) {
                        const tableNameMatch = stmtUpper.match(/CREATE\s+TABLE\s+(\w+)/i);
                        if (!tableNameMatch) {
                            throw new Error('CREATE TABLEèªå¥æ ¼å¼éŒ¯èª¤');
                        }
                        if (!stmt.includes('(') || !stmt.includes(')')) {
                            throw new Error('CREATE TABLEèªå¥éœ€è¦ç”¨æ‹¬è™Ÿå®šç¾©æ¬„ä½');
                        }
                        const tableName = tableNameMatch[1].toLowerCase();

                        // è§£ææ¬„ä½åç¨±å’Œç´„æŸ
                        const columnsMatch = stmt.match(/\((.*)\)/s);
                        let columns = ['id', 'column1'];
                        let columnTypes = {};
                        let constraints = {
                            primaryKey: [],
                            unique: [],
                            notNull: [],
                            check: [],
                            foreignKey: [],
                            default: {}
                        };

                        if (columnsMatch) {
                            const columnDefs = columnsMatch[1].split(',').map(c => c.trim());
                            columns = columnDefs.map(def => {
                                const defUpper = def.toUpperCase();
                                const parts = def.trim().split(/\s+/);
                                const colName = parts[0].toLowerCase();

                                // è§£æï¿½ï¿½ï¿½æ“šé¡å‹
                                if (parts.length > 1) {
                                    const typeMatch = parts[1].match(/(NUMBER|VARCHAR2?|INT|CHAR|DATE|DECIMAL|BOOLEAN)/i);
                                    if (typeMatch) {
                                        columnTypes[colName] = typeMatch[1].toUpperCase();
                                    }
                                }

                                // è§£æç´„æŸ
                                if (defUpper.includes('PRIMARY KEY')) {
                                    constraints.primaryKey.push(colName);
                                }
                                if (defUpper.includes('UNIQUE')) {
                                    constraints.unique.push(colName);
                                }
                                if (defUpper.includes('NOT NULL')) {
                                    constraints.notNull.push(colName);
                                }
                                if (defUpper.includes('CHECK')) {
                                    const checkMatch = def.match(/CHECK\s*\((.*?)\)/i);
                                    if (checkMatch) {
                                        constraints.check.push({column: colName, condition: checkMatch[1]});
                                    }
                                }
                                if (defUpper.includes('DEFAULT')) {
                                    const defaultMatch = def.match(/DEFAULT\s+(\S+)/i);
                                    if (defaultMatch) {
                                        constraints.default[colName] = defaultMatch[1];
                                    }
                                }

                                return colName;
                            });
                        }

                        currentDatabase[tableName] = {
                            columns: columns,
                            data: [],
                            types: columnTypes
                        };

                        // ä¿å­˜å…ƒæ•¸æ“š
                        databaseMetadata.tables[tableName] = {
                            columns: columns,
                            types: columnTypes,
                            constraints: constraints
                        };

                        executionResult.success = true;
                        executionResult.tableName = tableName;
                        executionResult.message = `å·²å‰µå»ºè¡¨æ ¼ã€Œ${tableName}ã€`;
                        executionResult.explanation = 'å‰µå»ºæ–°çš„è³‡æ–™è¡¨ï¼ŒåŒ…å«æ¬„ä½å®šç¾©å’Œç´„æŸ';

                        // è¿½è¹¤æˆå°±
                        trackAchievementProgress('table_created');
                    } else if (stmtUpper.includes('DROP TABLE')) {
                        const tableMatch = stmtUpper.match(/DROP\s+TABLE\s+(\w+)/i);
                        if (tableMatch) {
                            const tableName = tableMatch[1].toLowerCase();
                            if (currentDatabase[tableName]) {
                                delete currentDatabase[tableName];
                                executionResult.success = true;
                                executionResult.tableName = tableName;
                                executionResult.message = `å·²åˆªé™¤è¡¨æ ¼ã€Œ${tableName}ã€`;
                                executionResult.explanation = 'åˆªé™¤è³‡æ–™è¡¨åŠå…¶æ‰€æœ‰è³‡æ–™';
                            } else {
                                throw new Error(`è³‡æ–™è¡¨ "${tableName}" ä¸å­˜åœ¨`);
                            }
                        }
                    } else if (stmtUpper.includes('ALTER TABLE')) {
                        const tableMatch = stmtUpper.match(/ALTER\s+TABLE\s+(\w+)/i);
                        const tableName = tableMatch ? tableMatch[1].toLowerCase() : 'æœªçŸ¥';
                        executionResult.success = true;
                        executionResult.tableName = tableName;
                        executionResult.message = `å·²ä¿®æ”¹è¡¨æ ¼ã€Œ${tableName}ã€çµæ§‹`;
                        executionResult.explanation = 'ä¿®æ”¹è³‡æ–™è¡¨çµæ§‹';
                    } else if (stmtUpper.includes('TRUNCATE')) {
                        const tableMatch = stmtUpper.match(/TRUNCATE\s+TABLE\s+(\w+)/i);
                        const tableName = tableMatch ? tableMatch[1].toLowerCase() : 'æœªçŸ¥';
                        if (currentDatabase[tableName]) {
                            currentDatabase[tableName].data = [];
                            executionResult.success = true;
                            executionResult.tableName = tableName;
                            executionResult.message = `å·²æ¸…ç©ºè¡¨æ ¼ã€Œ${tableName}ã€æ‰€æœ‰è³‡æ–™`;
                            executionResult.explanation = 'æ¸…ç©ºè³‡æ–™è¡¨æ‰€æœ‰è³‡æ–™';
                        } else {
                            throw new Error(`è³‡æ–™è¡¨ "${tableName}" ä¸å­˜åœ¨`);
                        }
                    } else if (stmtUpper.includes('SET TRANSACTION') || stmtUpper.includes('SET ISOLATION LEVEL')) {
                        // è¨­ç½®äº‹å‹™éš”é›¢ç´šåˆ¥
                        let isolationLevel = 'READ COMMITTED'; // é»˜èª
                        if (stmtUpper.includes('READ UNCOMMITTED')) {
                            isolationLevel = 'READ UNCOMMITTED';
                        } else if (stmtUpper.includes('READ COMMITTED')) {
                            isolationLevel = 'READ COMMITTED';
                        } else if (stmtUpper.includes('REPEATABLE READ')) {
                            isolationLevel = 'REPEATABLE READ';
                        } else if (stmtUpper.includes('SERIALIZABLE')) {
                            isolationLevel = 'SERIALIZABLE';
                        }

                        if (!window.transactionState) {
                            window.transactionState = {};
                        }
                        window.transactionState.isolationLevel = isolationLevel;

                        executionResult.success = true;
                        executionResult.message = `å·²è¨­ç½®äº‹å‹™éš”é›¢ç´šåˆ¥ï¼š${isolationLevel}`;
                        executionResult.explanation = 'æ§åˆ¶ä½µç™¼äº‹å‹™ä¹‹é–“çš„å¯è¦‹æ€§å’Œé–å®šè¡Œç‚º';
                        executionResult.details = `<div style="padding:10px; background: rgba(0,168,255,0.1); border-radius:6px;">
                            <strong>éš”é›¢ç´šåˆ¥èªªæ˜ï¼š</strong><br>
                            ${isolationLevel === 'READ UNCOMMITTED' ? 'â€¢ å…è¨±è®€å–æœªæäº¤çš„æ•¸æ“šï¼ˆé«’è®€ï¼‰' : ''}
                            ${isolationLevel === 'READ COMMITTED' ? 'â€¢ åªèƒ½è®€å–å·²æäº¤çš„æ•¸ï¿½ï¿½ï¿½ï¼ˆé¿å…é«’è®€ï¼‰' : ''}
                            ${isolationLevel === 'REPEATABLE READ' ? 'â€¢ ä¿è­‰åŒä¸€äº‹å‹™å…§é‡è¤‡è®€å–çµæœä¸€è‡´ï¼ˆé¿å…ä¸å¯é‡è¤‡è®€ï¼‰' : ''}
                            ${isolationLevel === 'SERIALIZABLE' ? 'â€¢ æœ€é«˜éš”é›¢ç´šåˆ¥ï¼Œå®Œå…¨åºåˆ—åŒ–åŸ·è¡Œï¼ˆé¿å…å¹»è®€ï¼‰' : ''}
                        </div>`;
                    } else if (stmtUpper.includes('BEGIN') || stmtUpper.includes('START TRANSACTION')) {
                        // é–‹å§‹äº‹å‹™
                        if (!window.transactionState) {
                            window.transactionState = {
                                active: false,
                                isolationLevel: 'READ COMMITTED',
                                snapshot: null
                            };
                        }

                        // ä¿å­˜ç•¶å‰æ•¸æ“šåº«ç‹€æ…‹çš„å¿«ï¿½ï¿½ï¿½
                        window.transactionState.active = true;
                        window.transactionState.snapshot = JSON.parse(JSON.stringify(currentDatabase));

                        executionResult.success = true;
                        executionResult.message = 'äº‹å‹™å·²é–‹å§‹';
                        executionResult.explanation = `é–‹å§‹æ–°çš„ï¿½ï¿½ï¿½å‹™ï¼ˆéš”é›¢ç´šåˆ¥ï¼š${window.transactionState.isolationLevel}ï¼‰`;
                        executionResult.details = `<div style="padding:10px; background: rgba(0,204,136,0.1); border-radius:6px;">
                            <i class="fas fa-play"></i> äº‹å‹™å·²å•Ÿå‹•<br>
                            <strong>éš”é›¢ç´šåˆ¥ï¼š</strong>${window.transactionState.isolationLevel}<br>
                            <em>æ‰€æœ‰ä¿®æ”¹å°‡ä¿ç•™åœ¨äº‹å‹™ä¸­ï¼Œç›´åˆ° COMMIT æˆ– ROLLBACK</em>
                        </div>`;
                    } else if (stmtUpper.includes('COMMIT')) {
                        if (!window.transactionState) {
                            window.transactionState = { active: false };
                        }

                        window.transactionState.active = false;
                        window.transactionState.snapshot = null;

                        executionResult.success = true;
                        executionResult.message = 'äº‹å‹™å·²æäº¤ (COMMIT)';
                        executionResult.explanation = 'æ‰€æœ‰æ›´æ”¹å·²æ°¸ä¹…ä¿å­˜åˆ°æ•¸æ“šåº«';
                        executionResult.details = `<div style="padding:10px; background: rgba(0,204,136,0.1); border-radius:6px;">
                            <i class="fas fa-check-circle"></i> äº‹å‹™æäº¤æˆåŠŸ<br>
                            <em>æ‰€æœ‰ä¿®æ”¹å·²æŒä¹…åŒ–ï¼Œå…·å‚™ ACID å±¬æ€§</em>
                        </div>`;

                        // è¿½è¹¤æˆå°±
                        trackAchievementProgress('transaction_used');
                    } else if (stmtUpper.includes('ROLLBACK')) {
                        if (!window.transactionState) {
                            window.transactionState = { active: false, snapshot: null };
                        }

                        // æ¢å¾©åˆ°äº‹å‹™é–‹å§‹å‰çš„å¿«ç…§
                        if (window.transactionState.snapshot) {
                            currentDatabase = JSON.parse(JSON.stringify(window.transactionState.snapshot));
                        }

                        window.transactionState.active = false;
                        window.transactionState.snapshot = null;

                        executionResult.success = true;
                        executionResult.message = 'äº‹å‹™å·²å›æ»¾ (ROLLBACK)';
                        executionResult.explanation = 'æ‰€æœ‰æ›´æ”¹å·²æ’¤éŠ·ï¼Œæ•¸æ“šåº«æ¢å¾©åˆ°äº‹å‹™é–‹å§‹å‰çš„ç‹€æ…‹';
                        executionResult.details = `<div style="padding:10px; background: rgba(255,204,0,0.1); border-radius:6px;">
                            <i class="fas fa-undo"></i> äº‹å‹™å›æ»¾æˆåŠŸ<br>
                            <em>æ‰€æœ‰ä¿®æ”¹å·²æ’¤éŠ·ï¼Œæ•¸æ“šåº«ç‹€æ…‹å·²æ¢å¾©</em>
                        </div>`;

                        // è¿½è¹¤æˆå°±
                        trackAchievementProgress('transaction_used');
                    } else if (stmtUpper.includes('CREATE VIEW')) {
                        const viewMatch = stmtUpper.match(/CREATE\s+VIEW\s+(\w+)\s+AS\s+(.*)/i);
                        if (!viewMatch) {
                            throw new Error('CREATE VIEWèªå¥æ ¼å¼éŒ¯èª¤ï¼Œæ‡‰ç‚ºï¼šCREATE VIEW view_name AS SELECT ...');
                        }
                        const viewName = viewMatch[1].toLowerCase();
                        const viewQuery = viewMatch[2].trim();

                        // ä¿å­˜è¦–åœ–å®šç¾©
                        databaseMetadata.views[viewName] = {
                            query: viewQuery,
                            createdAt: new Date().toISOString()
                        };

                        executionResult.success = true;
                        executionResult.tableName = viewName;
                        executionResult.message = `å·²å‰µå»ºè¦–åœ–ã€Œ${viewName}ã€`;
                        executionResult.explanation = 'å‰µå»ºè¦–åœ–ï¼ˆè™›æ“¬è¡¨ï¼‰ï¼ŒåŸºæ–¼æŸ¥è©¢çµæœ';

                    } else if (stmtUpper.includes('CREATE INDEX')) {
                        const indexMatch = stmtUpper.match(/CREATE\s+INDEX\s+(\w+)\s+ON\s+(\w+)\s*\(([^)]+)\)/i);
                        if (!indexMatch) {
                            throw new Error('CREATE INDEXèªå¥æ ¼å¼éŒ¯èª¤ï¼Œæ‡‰ç‚ºï¼šCREATE INDEX index_name ON table_name (column)');
                        }
                        const indexName = indexMatch[1].toLowerCase();
                        const tableName = indexMatch[2].toLowerCase();
                        const columns = indexMatch[3].split(',').map(c => c.trim().toLowerCase());

                        if (!currentDatabase[tableName]) {
                            throw new Error(`è³‡æ–™è¡¨ "${tableName}" ä¸å­˜åœ¨`);
                        }

                        // ä¿å­˜ç´¢å¼•å®šç¾©
                        if (!databaseMetadata.indexes[tableName]) {
                            databaseMetadata.indexes[tableName] = {};
                        }
                        databaseMetadata.indexes[tableName][indexName] = {
                            columns: columns,
                            type: 'BTREE',
                            createdAt: new Date().toISOString()
                        };

                        executionResult.success = true;
                        executionResult.tableName = tableName;
                        executionResult.message = `å·²åœ¨è¡¨æ ¼ã€Œ${tableName}ã€ä¸Šå‰µå»ºç´¢å¼•ã€Œ${indexName}ã€`;
                        executionResult.explanation = `å‰µå»ºB-treeç´¢å¼•ä»¥åŠ é€ŸæŸ¥è©¢ï¼Œç´¢å¼•æ¬„ä½ï¼š${columns.join(', ')}`;

                    } else if (stmtUpper.includes('CREATE PROCEDURE') || stmtUpper.includes('CREATE OR REPLACE PROCEDURE')) {
                        // å‰µå»ºå­˜å„²éç¨‹
                        const procMatch = stmt.match(/CREATE\s+(?:OR\s+REPLACE\s+)?PROCEDURE\s+(\w+)\s*\((.*?)\)\s+(?:IS|AS)\s+(.*?)(?:END;?)?$/is);
                        if (!procMatch) {
                            throw new Error('CREATE PROCEDUREèªå¥æ ¼å¼éŒ¯èª¤ï¼Œæ‡‰ç‚ºï¼šCREATE PROCEDURE proc_name(params) AS BEGIN ... END;');
                        }
                        const procName = procMatch[1].toLowerCase();
                        const params = procMatch[2].trim();
                        const body = procMatch[3].trim();

                        databaseMetadata.procedures[procName] = {
                            name: procName,
                            parameters: params,
                            body: body,
                            type: 'PROCEDURE',
                            createdAt: new Date().toISOString()
                        };

                        executionResult.success = true;
                        executionResult.message = `å·²å‰µå»ºå­˜å„²éç¨‹ã€Œ${procName}ã€`;
                        executionResult.explanation = 'å‰µå»ºPL/SQLå­˜å„²éç¨‹ï¼Œå¯é‡è¤‡èª¿ç”¨åŸ·è¡Œæ¥­å‹™é‚è¼¯';

                        // è¿½è¹¤æˆå°±
                        trackAchievementProgress('procedure_created');
                        executionResult.details = `<div style="padding:10px; background: rgba(0,168,255,0.1); border-radius:6px;">
                            <strong>éç¨‹åç¨±ï¼š</strong>${procName}<br>
                            <strong>åƒæ•¸ï¼š</strong>${params || 'ç„¡åƒæ•¸'}<br>
                            <strong>é¡å‹ï¼š</strong>PROCEDURE
                        </div>`;
                    } else if (stmtUpper.includes('CREATE FUNCTION') || stmtUpper.includes('CREATE OR REPLACE FUNCTION')) {
                        // å‰µå»ºå‡½æ•¸
                        const funcMatch = stmt.match(/CREATE\s+(?:OR\s+REPLACE\s+)?FUNCTION\s+(\w+)\s*\((.*?)\)\s+RETURN\s+(\w+)\s+(?:IS|AS)\s+(.*?)(?:END;?)?$/is);
                        if (!funcMatch) {
                            throw new Error('CREATE FUNCTIONèªå¥æ ¼å¼éŒ¯èª¤ï¼Œæ‡‰ç‚ºï¼šCREATE FUNCTION func_name(params) RETURN type AS BEGIN ... END;');
                        }
                        const funcName = funcMatch[1].toLowerCase();
                        const params = funcMatch[2].trim();
                        const returnType = funcMatch[3].toUpperCase();
                        const body = funcMatch[4].trim();

                        databaseMetadata.procedures[funcName] = {
                            name: funcName,
                            parameters: params,
                            returnType: returnType,
                            body: body,
                            type: 'FUNCTION',
                            createdAt: new Date().toISOString()
                        };

                        executionResult.success = true;
                        executionResult.message = `å·²å‰µå»ºå‡½æ•¸ã€Œ${funcName}ã€`;
                        executionResult.explanation = `å‰µå»ºPL/SQLå‡½æ•¸ï¼Œè¿”å›é¡å‹ï¼š${returnType}`;

                        // è¿½è¹¤æˆå°±
                        trackAchievementProgress('procedure_created');
                        executionResult.details = `<div style="padding:10px; background: rgba(0,168,255,0.1); border-radius:6px;">
                            <strong>å‡½æ•¸åç¨±ï¼š</strong>${funcName}<br>
                            <strong>åƒæ•¸ï¼š</strong>${params || 'ç„¡åƒæ•¸'}<br>
                            <strong>è¿”å›é¡å‹ï¼š</strong>${returnType}<br>
                            <strong>é¡å‹ï¼š</strong>FUNCTION
                        </div>`;
                    } else if (stmtUpper.includes('CREATE TRIGGER') || stmtUpper.includes('CREATE OR REPLACE TRIGGER')) {
                        // å‰µå»ºè§¸ç™¼å™¨
                        const trigMatch = stmt.match(/CREATE\s+(?:OR\s+REPLACE\s+)?TRIGGER\s+(\w+)\s+(BEFORE|AFTER)\s+(INSERT|UPDATE|DELETE)(?:\s+OR\s+(INSERT|UPDATE|DELETE))?\s+ON\s+(\w+)(?:\s+FOR\s+EACH\s+ROW)?\s+(?:BEGIN\s+)?(.*?)(?:END;?)?$/is);
                        if (!trigMatch) {
                            throw new Error('CREATE TRIGGERèªå¥æ ¼å¼éŒ¯èª¤');
                        }
                        const trigName = trigMatch[1].toLowerCase();
                        const timing = trigMatch[2].toUpperCase();
                        const event1 = trigMatch[3].toUpperCase();
                        const event2 = trigMatch[4] ? trigMatch[4].toUpperCase() : null;
                        const tableName = trigMatch[5].toLowerCase();
                        const body = trigMatch[6].trim();

                        if (!currentDatabase[tableName]) {
                            throw new Error(`è³‡æ–™è¡¨ "${tableName}" ä¸å­˜åœ¨`);
                        }

                        if (!databaseMetadata.triggers[tableName]) {
                            databaseMetadata.triggers[tableName] = {};
                        }

                        const events = event2 ? [event1, event2] : [event1];
                        databaseMetadata.triggers[tableName][trigName] = {
                            name: trigName,
                            timing: timing,
                            events: events,
                            table: tableName,
                            body: body,
                            createdAt: new Date().toISOString()
                        };

                        executionResult.success = true;
                        executionResult.message = `å·²åœ¨è¡¨æ ¼ã€Œ${tableName}ã€ä¸Šå‰µå»ºè§¸ç™¼å™¨ã€Œ${trigName}ã€`;
                        executionResult.explanation = `${timing} ${events.join(' OR ')} æ™‚è‡ªå‹•åŸ·è¡Œ`;

                        // è¿½è¹¤æˆå°±
                        trackAchievementProgress('trigger_created');
                        executionResult.details = `<div style="padding:10px; background: rgba(0,168,255,0.1); border-radius:6px;">
                            <strong>è§¸ç™¼å™¨åç¨±ï¼š</strong>${trigName}<br>
                            <strong>æ™‚æ©Ÿï¼š</strong>${timing}<br>
                            <strong>äº‹ä»¶ï¼š</strong>${events.join(' OR ')}<br>
                            <strong>è³‡æ–™è¡¨ï¼š</strong>${tableName}
                        </div>`;
                    } else if (stmtUpper.includes('CREATE SEQUENCE')) {
                        // å‰µå»ºåºåˆ— (Oracle SEQUENCE)
                        const seqMatch = stmt.match(/CREATE\s+SEQUENCE\s+(\w+)(?:\s+START\s+WITH\s+(\d+))?(?:\s+INCREMENT\s+BY\s+(\d+))?(?:\s+MINVALUE\s+(\d+))?(?:\s+MAXVALUE\s+(\d+))?(?:\s+(NOCYCLE|CYCLE))?/i);
                        if (!seqMatch) {
                            throw new Error('CREATE SEQUENCEèªå¥æ ¼å¼éŒ¯èª¤ï¼Œæ‡‰ç‚ºï¼šCREATE SEQUENCE seq_name START WITH n INCREMENT BY m');
                        }
                        const seqName = seqMatch[1].toLowerCase();
                        const startWith = parseInt(seqMatch[2]) || 1;
                        const incrementBy = parseInt(seqMatch[3]) || 1;
                        const minValue = parseInt(seqMatch[4]) || 1;
                        const maxValue = parseInt(seqMatch[5]) || 999999999999;
                        const cycle = seqMatch[6] ? seqMatch[6].toUpperCase() === 'CYCLE' : false;

                        databaseMetadata.sequences[seqName] = {
                            name: seqName,
                            currentValue: startWith - incrementBy, // ä¸‹ä¸€å€‹nextvalæœƒè¿”å›startWith
                            startWith: startWith,
                            incrementBy: incrementBy,
                            minValue: minValue,
                            maxValue: maxValue,
                            cycle: cycle,
                            createdAt: new Date().toISOString()
                        };

                        executionResult.success = true;
                        executionResult.message = `å·²å‰µå»ºåºåˆ—ã€Œ${seqName}ã€`;
                        executionResult.explanation = 'Oracleåºåˆ—ç”¨æ–¼ç”Ÿæˆå”¯ä¸€çš„æ•¸å­—åºåˆ—ï¼Œå¸¸ç”¨æ–¼ä¸»éµè‡ªå¢';
                        executionResult.details = `<div style="padding:10px; background: rgba(0,168,255,0.1); border-radius:6px;">
                            <strong>åºåˆ—åç¨±ï¼š</strong>${seqName}<br>
                            <strong>èµ·å§‹å€¼ï¼š</strong>${startWith}<br>
                            <strong>å¢é‡ï¼š</strong>${incrementBy}<br>
                            <strong>æœ€å°å€¼ï¼š</strong>${minValue}<br>
                            <strong>æœ€å¤§å€¼ï¼š</strong>${maxValue}<br>
                            <strong>å¾ªç’°ï¼š</strong>${cycle ? 'YES' : 'NO'}
                        </div>`;
                    } else if (stmtUpper.includes('CREATE SYNONYM')) {
                        // å‰µå»ºåŒç¾©è© (Oracle SYNONYM)
                        const synMatch = stmt.match(/CREATE\s+(?:(PUBLIC)\s+)?SYNONYM\s+(\w+)\s+FOR\s+(\w+)/i);
                        if (!synMatch) {
                            throw new Error('CREATE SYNONYMèªå¥æ ¼å¼éŒ¯èª¤ï¼Œæ‡‰ç‚ºï¼šCREATE SYNONYM syn_name FOR object_name');
                        }
                        const isPublic = !!synMatch[1];
                        const synName = synMatch[2].toLowerCase();
                        const targetObject = synMatch[3].toLowerCase();

                        databaseMetadata.synonyms[synName] = {
                            name: synName,
                            target: targetObject,
                            isPublic: isPublic,
                            createdAt: new Date().toISOString()
                        };

                        executionResult.success = true;
                        executionResult.message = `å·²å‰µå»º${isPublic ? 'å…¬å…±' : 'ç§æœ‰'}åŒç¾©è©ã€Œ${synName}ã€`;
                        executionResult.explanation = 'åŒç¾©è©ç‚ºè³‡æ–™åº«ç‰©ä»¶æä¾›åˆ¥åï¼Œç°¡åŒ–ç‰©ä»¶å¼•ç”¨';
                        executionResult.details = `<div style="padding:10px; background: rgba(0,168,255,0.1); border-radius:6px;">
                            <strong>åŒç¾©è©ï¼š</strong>${synName}<br>
                            <strong>ç›®æ¨™ç‰©ä»¶ï¼š</strong>${targetObject}<br>
                            <strong>ï¿½ï¿½ï¿½å‹ï¼š</strong>${isPublic ? 'PUBLIC' : 'PRIVATE'}
                        </div>`;
                    } else if (stmtUpper.includes('CREATE PACKAGE')) {
                        // å‰µå»ºåŒ… (Oracle PACKAGE)
                        const pkgMatch = stmt.match(/CREATE\s+(?:OR\s+REPLACE\s+)?PACKAGE\s+(\w+)\s+(?:IS|AS)\s+(.*?)(?:END\s+\w+;?)?$/is);
                        if (!pkgMatch) {
                            throw new Error('CREATE PACKAGEèªå¥æ ¼å¼éŒ¯èª¤ï¼Œæ‡‰ç‚ºï¼šCREATE PACKAGE pkg_name AS ... END pkg_name;');
                        }
                        const pkgName = pkgMatch[1].toLowerCase();
                        const pkgSpec = pkgMatch[2].trim();

                        databaseMetadata.packages[pkgName] = {
                            name: pkgName,
                            specification: pkgSpec,
                            body: null, // åŒ…é«”éœ€è¦å–®ç¨å‰µå»º
                            createdAt: new Date().toISOString()
                        };

                        executionResult.success = true;
                        executionResult.message = `å·²å‰µå»ºåŒ…è¦ç¯„ã€Œ${pkgName}ã€`;
                        executionResult.explanation = 'Packageå°‡ç›¸é—œçš„PL/SQLç¨‹åºã€å‡½æ•¸ã€è®Šé‡çµ„ç¹”åœ¨ä¸€èµ·';
                        executionResult.details = `<div style="padding:10px; background: rgba(0,168,255,0.1); border-radius:6px;">
                            <strong>åŒ…åç¨±ï¼š</strong>${pkgName}<br>
                            <strong>é¡å‹ï¼š</strong>PACKAGE SPECIFICATION<br>
                            <em>æç¤ºï¼šä½¿ç”¨ CREATE PACKAGE BODY å‰µå»ºåŒ…é«”</em>
                        </div>`;
                    } else if (stmtUpper.includes('CREATE TABLESPACE')) {
                        // å‰µå»ºè¡¨ç©ºé–“ (æ¦‚å¿µæ€§æ”¯æŒ)
                        const tsMatch = stmt.match(/CREATE\s+TABLESPACE\s+(\w+)/i);
                        if (!tsMatch) {
                            throw new Error('CREATE TABLESPACEèªå¥æ ¼å¼éŒ¯èª¤');
                        }
                        const tsName = tsMatch[1].toLowerCase();

                        databaseMetadata.tablespaces[tsName] = {
                            name: tsName,
                            createdAt: new Date().toISOString()
                        };

                        executionResult.success = true;
                        executionResult.message = `å·²å‰µå»ºè¡¨ç©ºé–“ã€Œ${tsName}ã€(æ¦‚å¿µæ€§)`;
                        executionResult.explanation = 'è¡¨ç©ºé–“æ˜¯Oracleä¸­å­˜å„²æ•¸æ“šçš„é‚è¼¯å®¹å™¨';
                    } else if (stmtUpper.includes('EXEC ') || stmtUpper.includes('EXECUTE ')) {
                        // åŸ·è¡Œå­˜å„²éç¨‹
                        const execMatch = stmt.match(/(?:EXEC|EXECUTE)\s+(\w+)(?:\s*\((.*?)\))?/i);
                        if (execMatch) {
                            const procName = execMatch[1].toLowerCase();
                            const args = execMatch[2] || '';

                            if (databaseMetadata.procedures[procName]) {
                                executionResult.success = true;
                                executionResult.message = `å·²åŸ·è¡Œ${databaseMetadata.procedures[procName].type === 'FUNCTION' ? 'å‡½æ•¸' : 'å­˜å„²éç¨‹'}ã€Œ${procName}ã€`;
                                executionResult.explanation = `èª¿ç”¨é å­˜çš„æ¥­å‹™é‚è¼¯ (æ¨¡æ“¬åŸ·è¡Œ)`;
                                executionResult.details = `<div style="padding:10px; background: rgba(0,204,136,0.1); border-radius:6px;">
                                    <i class="fas fa-play-circle"></i> åŸ·è¡ŒæˆåŠŸ (æ¨¡æ“¬)<br>
                                    <strong>åƒæ•¸ï¼š</strong>${args || 'ç„¡'}
                                </div>`;
                            } else {
                                throw new Error(`${procName} ä¸å­˜åœ¨`);
                            }
                        }
                    } else if (stmtUpper.includes('SHOW TABLES') || stmtUpper.includes('DESC ') || stmtUpper.includes('DESCRIBE ')) {
                        executionResult.success = true;
                        executionResult.message = 'é¡¯ç¤ºè³‡æ–™åº«è³‡è¨Š';
                        executionResult.explanation = 'æŸ¥çœ‹è³‡æ–™åº«çµæ§‹è³‡è¨Š';
                        executionResult.details = renderDatabaseInfo();
                    } else {
                        executionResult.success = true;
                        executionResult.message = 'SQLæŒ‡ä»¤åŸ·è¡ŒæˆåŠŸ';
                        executionResult.explanation = 'SQLèªå¥å·²åŸ·è¡Œ';
                    }
                } catch (error) {
                    hasError = true;
                    executionResult.success = false;
                    executionResult.message = error.message;

                    // è¿½è¹¤éŒ¯èª¤
                    trackAchievementProgress('error_encountered');

                    // å¢å¼·éŒ¯èª¤è¨ºæ–·ï¼šåˆ†é¡éŒ¯èª¤é¡å‹ä¸¦æä¾›ä¸­æ–‡è§£é‡‹å’Œä¿®æ­£å»ºè­°
                    let errorType = 'èªæ³•éŒ¯èª¤';
                    let errorExplanation = 'èªå¥åŸ·è¡Œå¤±æ•—';
                    let suggestions = [];

                    const errorMsg = error.message.toLowerCase();

                    if (errorMsg.includes('ä¸å­˜åœ¨') || errorMsg.includes('not exist')) {
                        errorType = 'ç‰©ä»¶ä¸å­˜åœ¨éŒ¯èª¤';
                        errorExplanation = 'æ‚¨å¼•ç”¨çš„è³‡æ–™è¡¨ã€æ¬„ä½æˆ–å…¶ä»–è³‡æ–™åº«ç‰©ä»¶ä¸å­˜åœ¨';
                        suggestions = [
                            'ä½¿ç”¨ SHOW TABLES æŸ¥çœ‹ç¾æœ‰çš„è³‡æ–™è¡¨',
                            'æª¢æŸ¥ç‰©ä»¶åç¨±æ‹¼å¯«æ˜¯å¦æ­£ç¢º',
                            'ç¢ºèªè©²ç‰©ä»¶æ˜¯å¦å·²ç¶“è¢«å‰µå»º'
                        ];
                    } else if (errorMsg.includes('æ‹¬è™Ÿ') || errorMsg.includes('parenthes')) {
                        errorType = 'æ‹¬è™Ÿä¸åŒ¹é…éŒ¯èª¤';
                        errorExplanation = 'SQLèªå¥ä¸­çš„å·¦æ‹¬è™Ÿå’Œå³æ‹¬è™Ÿæ•¸é‡ä¸åŒ¹é…';
                        suggestions = [
                            'æª¢æŸ¥æ¯å€‹å·¦æ‹¬è™Ÿ ( æ˜¯å¦éƒ½æœ‰å°æ‡‰çš„å³æ‹¬è™Ÿ )',
                            'ä½¿ç”¨ä»£ç¢¼ç·¨è¼¯å™¨æª¢æŸ¥æ‹¬è™Ÿé…å°',
                            'é€å€‹æ·»åŠ æˆ–åˆªé™¤æ‹¬è™Ÿï¼Œç¢ºä¿é…å°æ­£ç¢º'
                        ];
                    } else if (errorMsg.includes('values') || errorMsg.includes('æ’å…¥')) {
                        errorType = 'INSERT èªå¥éŒ¯èª¤';
                        errorExplanation = 'INSERT èªå¥æ ¼å¼ä¸æ­£ç¢ºæˆ–ç¼ºå°‘å¿…è¦çš„éƒ¨åˆ†';
                        suggestions = [
                            'ç¢ºä¿æ ¼å¼ç‚ºï¼šINSERT INTO table_name VALUES (...)',
                            'æª¢æŸ¥ VALUES é—œéµå­—æ˜¯å¦å­˜åœ¨',
                            'ç¢ºèªæ’å…¥çš„å€¼æ•¸é‡èˆ‡è¡¨æ ¼æ¬„ä½æ•¸é‡ä¸€è‡´'
                        ];
                    } else if (errorMsg.includes('null') || errorMsg.includes('not null')) {
                        errorType = 'NOT NULL ç´„æŸé•å';
                        errorExplanation = 'å˜—è©¦å‘ NOT NULL ç´„æŸçš„æ¬„ä½æ’å…¥ç©ºå€¼';
                        suggestions = [
                            'ç‚ºè©²æ¬„ä½æä¾›æœ‰æ•ˆçš„å€¼ï¼ˆä¸èƒ½ç‚º NULLï¼‰',
                            'æª¢æŸ¥è¡¨æ ¼çµæ§‹ï¼Œç¢ºèªå“ªäº›æ¬„ä½æœ‰ NOT NULL ç´„æŸ',
                            'å¦‚æœè©²æ¬„ä½å¯ä»¥ç‚ºç©ºï¼Œéœ€ä¿®æ”¹è¡¨æ ¼çµæ§‹ç§»é™¤ NOT NULL ç´„æŸ'
                        ];
                    } else if (errorMsg.includes('unique') || errorMsg.includes('é‡è¤‡')) {
                        errorType = 'UNIQUE ç´„æŸé•å';
                        errorExplanation = 'å˜—è©¦æ’ï¿½ï¿½ï¿½é‡è¤‡çš„å€¼åˆ°å…·æœ‰ UNIQUE ç´„æŸçš„æ¬„ä½';
                        suggestions = [
                            'ä½¿ç”¨ä¸åŒçš„å€¼ï¼ˆè©²æ¬„ä½å€¼å¿…é ˆå”¯ä¸€ï¼‰',
                            'æª¢æŸ¥æ˜¯å¦å·²å­˜åœ¨ç›¸åŒçš„å€¼',
                            'è€ƒæ…®ä½¿ç”¨ UPDATE è€Œä¸æ˜¯ INSERT'
                        ];
                    } else if (errorMsg.includes('from') || errorMsg.includes('ç¼ºå°‘')) {
                        errorType = 'SELECT èªå¥ç¼ºå°‘ FROM å­å¥';
                        errorExplanation = 'SELECT æŸ¥è©¢ç¼ºå°‘å¿…è¦çš„ FROM å­å¥';
                        suggestions = [
                            'æ·»åŠ  FROM table_name æŒ‡å®šæŸ¥è©¢çš„è³‡æ–™è¡¨',
                            'å¦‚æœæ˜¯è¨ˆç®—è¡¨é”å¼ï¼Œä½¿ç”¨ FROM DUAL',
                            'ç¢ºä¿ SELECT å’Œ FROM ä¹‹é–“çš„èªæ³•æ­£ç¢º'
                        ];
                    } else if (errorMsg.includes('join')) {
                        errorType = 'JOIN èªå¥éŒ¯èª¤';
                        errorExplanation = 'JOIN é€£æ¥èªå¥æ ¼å¼ä¸æ­£ç¢º';
                        suggestions = [
                            'ç¢ºä¿æ ¼å¼ç‚ºï¼šFROM table1 JOIN table2 ON table1.col = table2.col',
                            'æª¢æŸ¥ ON æ¢ä»¶æ˜¯å¦æ­£ç¢ºæŒ‡å®šé€£æ¥æ¬„ä½',
                            'ç¢ºèªå…©å€‹è¡¨æ ¼éƒ½å­˜åœ¨ä¸”æ¬„ä½åç¨±æ­£ç¢º'
                        ];
                    } else if (errorMsg.includes('æ ¼å¼')) {
                        errorType = 'SQL æ ¼å¼éŒ¯èª¤';
                        errorExplanation = 'SQL èªå¥æ ¼å¼ä¸ç¬¦åˆæ¨™æº–èªæ³•';
                        suggestions = [
                            'åƒè€ƒç¯„ä¾‹ï¿½ï¿½ï¿½æ³•é‡æ–°ç·¨å¯«èªå¥',
                            'æª¢æŸ¥é—œéµå­—é †åºæ˜¯å¦æ­£ç¢º',
                            'ä½¿ç”¨åœ¨ç·š SQL æ ¼å¼åŒ–å·¥å…·æª¢æŸ¥èªæ³•'
                        ];
                    } else if (errorMsg.includes('primary key') || errorMsg.includes('ä¸»éµ')) {
                        errorType = 'PRIMARY KEY ç´„æŸé•å';
                        errorExplanation = 'å˜—è©¦æ’å…¥é‡è¤‡çš„ä¸»éµå€¼æˆ–ä¸»éµç‚º NULL';
                        suggestions = [
                            'ç¢ºä¿ä¸»éµå€¼å”¯ä¸€ä¸”ä¸ç‚º NULL',
                            'æª¢æŸ¥æ˜¯å¦å·²å­˜åœ¨ç›¸åŒçš„ä¸»éµå€¼',
                            'è€ƒæ…®ä½¿ç”¨è‡ªå‹•éå¢çš„ ID'
                        ];
                    } else if (errorMsg.includes('foreign key') || errorMsg.includes('å¤–éµ')) {
                        errorType = 'FOREIGN KEY ç´„æŸé•å';
                        errorExplanation = 'å¤–éµå€¼åœ¨åƒè€ƒè¡¨ä¸­ä¸å­˜åœ¨';
                        suggestions = [
                            'ç¢ºä¿å¤–éµå€¼å­˜åœ¨æ–¼åƒè€ƒè¡¨ä¸­',
                            'å…ˆåœ¨åƒè€ƒè¡¨ä¸­æ’å…¥è©²å€¼',
                            'æª¢æŸ¥å¤–éµé—œè¯æ˜¯å¦æ­£ç¢ºè¨­å®š'
                        ];
                    } else if (errorMsg.includes('check') || errorMsg.includes('æª¢æŸ¥ç´„æŸ')) {
                        errorType = 'CHECK ç´„æŸé•å';
                        errorExplanation = 'æ’å…¥çš„å€¼ä¸ç¬¦åˆ CHECK ç´„æŸæ¢ä»¶';
                        suggestions = [
                            'æŸ¥çœ‹è¡¨æ ¼çš„ CHECK ç´„æŸå®šç¾©',
                            'ç¢ºä¿æ’å…¥çš„å€¼ç¬¦åˆç´„æŸæ¢ä»¶',
                            'æª¢æŸ¥æ•¸æ“šé¡å‹å’Œå€¼ç¯„åœ'
                        ];
                    } else if (errorMsg.includes('data type') || errorMsg.includes('é¡å‹') || errorMsg.includes('å‹åˆ¥')) {
                        errorType = 'è³‡æ–™é¡å‹ä¸åŒ¹é…';
                        errorExplanation = 'å˜—è©¦å°‡ä¸ç›¸å®¹çš„è³‡æ–™é¡å‹è½‰æ›æˆ–æ¯”è¼ƒ';
                        suggestions = [
                            'æª¢æŸ¥æ¬„ä½çš„è³‡æ–™é¡å‹å®šç¾©',
                            'ç¢ºä¿æ’å…¥çš„å€¼é¡å‹èˆ‡æ¬„ä½é¡å‹åŒ¹é…',
                            'ä½¿ç”¨ CAST æˆ– CONVERT å‡½æ•¸é€²è¡Œé¡å‹è½‰æ›'
                        ];
                    } else if (errorMsg.includes('permission') || errorMsg.includes('æ¬Šé™')) {
                        errorType = 'æ¬Šé™ä¸è¶³éŒ¯èª¤';
                        errorExplanation = 'ç•¶å‰ç”¨æˆ¶æ²’æœ‰åŸ·è¡Œæ­¤æ“ä½œçš„æ¬Šé™';
                        suggestions = [
                            'ç¢ºèªæ‚¨æ˜¯å¦æœ‰åŸ·è¡Œæ­¤æ“ä½œçš„æ¬Šé™',
                            'è¯ç¹«è³‡æ–™åº«ç®¡ç†å“¡æˆäºˆç›¸æ‡‰æ¬Šé™',
                            'ä½¿ç”¨å…·æœ‰è¶³å¤ æ¬Šé™çš„å¸³æˆ¶ç™»å…¥'
                        ];
                    } else if (errorMsg.includes('transaction') || errorMsg.includes('äº‹å‹™')) {
                        errorType = 'äº‹å‹™ç®¡ç†éŒ¯èª¤';
                        errorExplanation = 'äº‹å‹™æ“ä½œç•°å¸¸æˆ–äº‹å‹™ç‹€æ…‹ä¸æ­£ç¢º';
                        suggestions = [
                            'ç¢ºä¿ä½¿ç”¨ BEGIN é–‹å§‹äº‹å‹™',
                            'ä½¿ç”¨ COMMIT æäº¤æˆ– ROLLBACK å›æ»¾äº‹å‹™',
                            'æª¢æŸ¥äº‹å‹™éš”é›¢ç´šåˆ¥è¨­å®š'
                        ];
                    } else if (errorMsg.includes('divide') || errorMsg.includes('é™¤')) {
                        errorType = 'é™¤ä»¥é›¶éŒ¯èª¤';
                        errorExplanation = 'å˜—è©¦åŸ·è¡Œé™¤ä»¥é›¶çš„é‹ç®—';
                        suggestions = [
                            'æª¢æŸ¥é™¤æ•¸æ˜¯å¦ç‚ºé›¶',
                            'ä½¿ç”¨ CASE èªå¥é¿å…é™¤ä»¥é›¶',
                            'æ·»åŠ æ¢ä»¶åˆ¤æ–·éæ¿¾é›¶å€¼'
                        ];
                    } else if (errorMsg.includes('aggregate') || errorMsg.includes('èšåˆ')) {
                        errorType = 'èšåˆå‡½æ•¸ä½¿ç”¨éŒ¯èª¤';
                        errorExplanation = 'èšåˆå‡½æ•¸ä½¿ç”¨ï¿½ï¿½ï¿½ç•¶æˆ–ç¼ºå°‘ GROUP BY';
                        suggestions = [
                            'ä½¿ç”¨èšåˆå‡½æ•¸æ™‚æ·»åŠ  GROUP BY å­å¥',
                            'ç¢ºä¿ SELECT ä¸­çš„éèšåˆæ¬„ä½éƒ½åœ¨ GROUP BY ä¸­',
                            'æª¢æŸ¥ HAVING å­å¥çš„ä½¿ç”¨æ˜¯å¦æ­£ç¢º'
                        ];
                    } else if (errorMsg.includes('order by') || errorMsg.includes('æ’åº')) {
                        errorType = 'ORDER BY å­å¥éŒ¯èª¤';
                        errorExplanation = 'ORDER BY æ’åºèªå¥ä½¿ç”¨ä¸ç•¶';
                        suggestions = [
                            'ç¢ºä¿ ORDER BY ä¸­çš„æ¬„ä½å­˜åœ¨æ–¼ SELECT çµæœä¸­',
                            'æª¢æŸ¥æ’åºæ¬„ä½åç¨±æ˜¯å¦æ­£ç¢º',
                            'ä½¿ç”¨ ASC æˆ– DESC æŒ‡å®šæ’åºæ–¹å‘'
                        ];
                    } else if (errorMsg.includes('where') || errorMsg.includes('æ¢ä»¶')) {
                        errorType = 'WHERE æ¢ä»¶éŒ¯èª¤';
                        errorExplanation = 'WHERE æ¢ä»¶å­å¥æ ¼å¼æˆ–é‚è¼¯éŒ¯èª¤';
                        suggestions = [
                            'æª¢æŸ¥æ¢ä»¶é‹ç®—ç¬¦æ˜¯å¦æ­£ç¢ºï¼ˆ=, >, <, !=ï¼‰',
                            'ç¢ºä¿æ¯”è¼ƒçš„æ¬„ä½å’Œå€¼é¡å‹ç›¸å®¹',
                            'ä½¿ç”¨æ‹¬è™Ÿæ˜ç¢ºé‚è¼¯é‹ç®—å„ªå…ˆç´š'
                        ];
                    }

                    executionResult.explanation = errorExplanation;
                    executionResult.errorType = errorType;
                    executionResult.suggestions = suggestions;
                }

                // å°‡çµæœæ·»åŠ åˆ°é™£åˆ—ï¼ˆæœ€æ–°çš„åœ¨å‰ï¼‰
                executionResults.unshift(executionResult);
            });

            // ç”ŸæˆåŸ·è¡Œçµæœçš„HTMLï¼ˆæœ€æ–°çš„åœ¨é ‚éƒ¨ï¼‰
            let finalHTML = '<div style="margin-bottom: 20px;">';

            executionResults.forEach((result, index) => {
                const isNewest = index === 0;
                const borderColor = result.success ? 'var(--success)' : 'var(--error)';
                const bgColor = result.success ? 'rgba(0, 204, 136, 0.05)' : 'rgba(255, 51, 102, 0.05)';
                const icon = result.success ? 'fa-check-circle' : 'fa-exclamation-circle';
                const iconColor = result.success ? 'var(--success)' : 'var(--error)';

                finalHTML += `
                    <div style="margin-bottom: 20px; padding: 20px; background: ${bgColor}; border-radius: 10px; border-left: 4px solid ${borderColor}; ${isNewest ? 'box-shadow: 0 0 15px rgba(0, 204, 136, 0.2);' : ''}">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                            <i class="fas ${icon}" style="color: ${iconColor}; font-size: 18px;"></i>
                            <span style="font-weight: 600; font-size: 16px; color: ${result.success ? 'var(--success)' : 'var(--error)'}">${result.message}</span>
                            ${isNewest ? '<span style="background: var(--accent); color: var(--dark-bg); padding: 3px 10px; border-radius: 12px; font-size: 12px; font-weight: 600; margin-left: auto;">æœ€æ–°</span>' : ''}
                        </div>

                        <div style="font-family: 'Courier New', monospace; color: var(--text-secondary); margin-bottom: 12px; padding: 12px; background: rgba(0, 0, 0, 0.3); border-radius: 6px; font-size: 14px; overflow-x: auto;">
                            ${result.statement};
                        </div>

                        <div style="color: var(--text-secondary); font-size: 14px; padding: 8px 12px; background: rgba(0, 168, 255, 0.08); border-radius: 6px; border-left: 3px solid var(--secondary);">
                            <i class="fas fa-info-circle"></i> <strong>èªªæ˜ï¼š</strong>${result.explanation}
                        </div>

                        ${result.errorType ? `
                            <div style="margin-top: 12px; padding: 10px; background: rgba(255,51,102,0.1); border-radius: 6px; border-left: 3px solid var(--error);">
                                <div style="font-weight:600; color: var(--error); margin-bottom:8px;">
                                    <i class="fas fa-exclamation-triangle"></i> éŒ¯èª¤é¡å‹ï¼š${result.errorType}
                                </div>
                                ${result.suggestions && result.suggestions.length > 0 ? `
                                    <div style="margin-top:10px;">
                                        <strong style="color: var(--warning);"><i class="fas fa-lightbulb"></i> ä¿®æ­£å»ºè­°ï¼š</strong>
                                        <ul style="margin:8px 0 0 20px; color: var(--text-secondary);">
                                            ${result.suggestions.map(s => `<li style="margin:4px 0;">${s}</li>`).join('')}
                                        </ul>
                                    </div>
                                ` : ''}
                            </div>
                        ` : ''}

                        ${result.details ? `<div style="margin-top: 15px;">${result.details}</div>` : ''}
                    </div>
                `;
            });

            // ç¸½çµå€å¡Š
            finalHTML += `
                <div style="margin-top: 20px; padding: 15px; background: ${hasError ? 'rgba(255, 51, 102, 0.1)' : 'rgba(0, 204, 136, 0.1)'}; border-radius: 10px; border-left: 4px solid ${hasError ? 'var(--error)' : 'var(--success)'};">
                    <div style="font-weight: 600; color: ${hasError ? 'var(--error)' : 'var(--success)'};">
                        <i class="fas fa-chart-bar"></i> åŸ·è¡Œç¸½çµ: ${statements.length} æ¢èªå¥ - ${executionResults.filter(r => r.success).length} æˆåŠŸï¼Œ${executionResults.filter(r => !r.success).length} å¤±æ•—
                    </div>
                </div>
            </div>`;

            output.innerHTML = finalHTML;

            // æ›´æ–°è¡¨æ ¼é è¦½
            updateTablePreview();

            // ä¿å­˜ç•¶å‰æª”æ¡ˆç‹€æ…‹ï¼ˆç¢ºä¿æ•¸æ“šä¸æœƒä¸Ÿå¤±ï¼‰
            saveCurrentFileState();

            // è¿½è¹¤æˆå°±é€²åº¦
            userAchievements.progress.sqlExecutions++;
            checkAndUnlockAchievements();

            // å¦‚æœåŸ·è¡Œäº† SELECT æŸ¥è©¢ï¿½ï¿½ï¿½æœ‰æ•¸æ“šï¼Œè‡ªå‹•ç”Ÿæˆåœ–è¡¨
            if (lastQueryResult && lastQueryResult.data && lastQueryResult.data.length > 0) {
                setTimeout(() => {
                    try {
                        generateChart();
                    } catch (error) {
                        console.log('åœ–è¡¨ç”Ÿæˆè·³éï¼š', error.message);
                    }
                }, 100);
            }
        }

        // æª¢æŸ¥ä¸¦è§£é–æˆå°±
        function checkAndUnlockAchievements() {
            Object.values(achievements).forEach(achievement => {
                // å¦‚æœå·²ç¶“ç²å¾—ï¼Œè·³é
                if (userAchievements.earned.includes(achievement.id)) {
                    return;
                }

                // æª¢æŸ¥æ˜¯å¦æ»¿è¶³æ¢ä»¶
                let unlocked = true;
                for (const [key, value] of Object.entries(achievement.requirement)) {
                    if (key === 'modelsExploredCount') {
                        if (userAchievements.progress.modelsExplored.length < value) {
                            unlocked = false;
                            break;
                        }
                    } else if (userAchievements.progress[key] < value) {
                        unlocked = false;
                        break;
                    }
                }

                if (unlocked) {
                    userAchievements.earned.push(achievement.id);
                    showAchievementNotification(achievement);
                }
            });

            // æ›´æ–°å´é‚Šæ¬„æˆå°±è¨ˆæ•¸å™¨
            const sidebarCounter = document.getElementById('sidebarAchievements');
            if (sidebarCounter) {
                sidebarCounter.textContent = `${userAchievements.earned.length}/9`;
            }
        }

        // é¡¯ç¤ºæˆå°±é€šçŸ¥
        function showAchievementNotification(achievement) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, var(--accent), var(--secondary));
                color: var(--dark-bg);
                padding: 20px 25px;
                border-radius: 12px;
                box-shadow: 0 10px 30px rgba(0,255,204,0.3);
                z-index: 10000;
                animation: slideIn 0.5s ease-out, slideOut 0.5s ease-out 3.5s;
                font-weight: 600;
                max-width: 300px;
            `;
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 12px;">
                    <span style="font-size: 32px;">${achievement.icon}</span>
                    <div>
                        <div style="font-size: 12px; opacity: 0.8;">æˆå°±è§£é–ï¼</div>
                        <div style="font-size: 16px; margin: 4px 0;">${achievement.name}</div>
                        <div style="font-size: 12px; opacity: 0.9;">${achievement.description}</div>
                    </div>
                </div>
            `;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.remove();
            }, 4000);
        }

        // åœ¨éœ€è¦çš„åœ°ï¿½ï¿½ï¿½è¿½è¹¤æˆå°±é€²åº¦
        function trackAchievementProgress(type) {
            switch(type) {
                case 'table_created':
                    userAchievements.progress.tablesCreated++;
                    break;
                case 'join_performed':
                    userAchievements.progress.joinsPerformed++;
                    break;
                case 'procedure_created':
                    userAchievements.progress.proceduresCreated++;
                    break;
                case 'trigger_created':
                    userAchievements.progress.triggersCreated++;
                    break;
                case 'transaction_used':
                    userAchievements.progress.transactionsUsed++;
                    break;
                case 'error_encountered':
                    userAchievements.progress.errorsEncountered++;
                    break;
                case 'error_fixed':
                    userAchievements.progress.errorsFixed++;
                    break;
            }
            checkAndUnlockAchievements();
        }

        // æ¸²æŸ“æˆå°±æ¨¡æ…‹æ¡†
        function renderAchievementsModal() {
            // æ›´æ–°çµ±è¨ˆæ•¸æ“š
            document.getElementById('totalAchievements').textContent = `${userAchievements.earned.length}/9`;
            document.getElementById('sqlExecutions').textContent = userAchievements.progress.sqlExecutions;
            document.getElementById('tablesCreated').textContent = userAchievements.progress.tablesCreated;
            document.getElementById('joinsPerformed').textContent = userAchievements.progress.joinsPerformed;

            // æ¸²æŸ“æˆå°±åˆ—è¡¨
            const achievementsList = document.getElementById('achievementsList');
            achievementsList.innerHTML = '';

            Object.values(achievements).forEach(achievement => {
                const isUnlocked = userAchievements.earned.includes(achievement.id);
                const progress = getAchievementProgress(achievement);

                const card = document.createElement('div');
                card.style.cssText = `
                    padding: 20px;
                    background: ${isUnlocked ? 'linear-gradient(135deg, rgba(0, 255, 204, 0.15), rgba(0, 204, 136, 0.15))' : 'rgba(255, 255, 255, 0.03)'};
                    border-radius: 12px;
                    border: 2px solid ${isUnlocked ? 'var(--success)' : 'rgba(255, 255, 255, 0.1)'};
                    opacity: 1;
                    transition: all 0.3s ease;
                    cursor: pointer;
                `;

                // ç²å–æˆå°±æ“ä½œæŒ‡å¼•
                const guideTexts = {
                    first_query: 'ğŸ“ SQLç·¨è¼¯å™¨ â†’ åŸ·è¡Œä»»ä½•SQL',
                    table_creator: 'ğŸ“ SQLç·¨è¼¯å™¨ â†’ ä½¿ç”¨CREATE TABLE',
                    join_master: 'ğŸ“ SQLç·¨è¼¯å™¨ â†’ ä½¿ç”¨JOINæŸ¥è©¢',
                    procedure_expert: 'ğŸ“ å´é‚Šæ¬„ã€Œå­˜å„²éç¨‹/å‡½æ•¸ã€æŒ‰éˆ•',
                    trigger_wizard: 'ğŸ“ å´é‚Šæ¬„ã€Œè§¸ç™¼å™¨ã€æŒ‰éˆ•',
                    transaction_pro: 'ğŸ“ å´é‚Šæ¬„ã€Œäº‹å‹™ç®¡ç†ã€æŒ‰éˆ•',
                    error_fixer: 'ğŸ“ SQLç·¨è¼¯å™¨ â†’ ä¿®æ­£éŒ¯èª¤SQL',
                    model_explorer: 'ğŸ“ æ•¸æ“šæ¨¡å‹åˆ‡æ›é¢æ¿',
                    sql_veteran: 'ğŸ“ SQLç·¨è¼¯å™¨ â†’ æŒçºŒç·´ç¿’'
                };

                // ç²å–è©³ç´°èªªæ˜æ–‡å­—
                const descriptionTexts = {
                    first_query: 'å­¸ç¿’åŸ·è¡ŒåŸºç¤SQLæŸ¥è©¢èªå¥',
                    table_creator: 'æŒæ¡è³‡æ–™è¡¨çµæ§‹è¨­è¨ˆèˆ‡å‰µå»º',
                    join_master: 'ç†Ÿç·´é‹ç”¨å¤šè¡¨é—œè¯æŸ¥è©¢æŠ€å·§',
                    procedure_expert: 'é–‹ç™¼å¯é‡è¤‡ä½¿ç”¨çš„å­˜å„²éç¨‹',
                    trigger_wizard: 'è‡ªå‹•åŒ–è³‡æ–™è®Šæ›´çš„è§¸ç™¼é‚è¼¯',
                    transaction_pro: 'ç¢ºä¿è³‡æ–™ä¸€è‡´æ€§çš„äº‹å‹™æ§åˆ¶',
                    error_fixer: 'åŸ¹é¤ŠSQLèª¿è©¦èˆ‡éŒ¯èª¤ä¿®æ­£èƒ½åŠ›',
                    model_explorer: 'æ¢ç´¢ï¿½ï¿½ï¿½åŒé¡å‹çš„è³‡æ–™æ¨¡å‹æ¶æ§‹',
                    sql_veteran: 'æˆç‚ºSQLæŸ¥è©¢èˆ‡è³‡æ–™æ“ä½œå°ˆå®¶'
                };

                card.innerHTML = `
                    <div style="display: flex; align-items: flex-start; gap: 15px;">
                        <div style="font-size: 48px;">${achievement.icon}</div>
                        <div style="flex: 1;">
                            <h4 style="color: ${isUnlocked ? 'var(--success)' : 'var(--accent)'}; margin-bottom: 5px;">
                                ${achievement.name}
                                ${isUnlocked ? '<i class="fas fa-check-circle" style="color: var(--success); margin-left: 8px;"></i>' : ''}
                            </h4>
                            <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: 8px;">${achievement.description}</p>

                            <div style="background: rgba(0, 255, 204, 0.08); padding: 6px 10px; border-radius: 6px; margin-bottom: 10px; font-size: 11px; color: var(--text-secondary); border-left: 2px solid var(--success);">
                                ğŸ“˜ ${descriptionTexts[achievement.id] || 'å®Œæˆæ­¤æˆå°±ä»¥æå‡æŠ€èƒ½'}
                            </div>

                            <div style="background: rgba(0, 168, 255, 0.15); padding: 8px 12px; border-radius: 6px; margin-bottom: 10px; font-size: 12px; color: var(--accent); border-left: 3px solid var(--accent);">
                                <i class="fas fa-map-marker-alt"></i> ${guideTexts[achievement.id] || 'åœ¨æ¨¡æ“¬å™¨é é¢æ“ä½œ'}
                            </div>

                            <div style="background: rgba(0, 0, 0, 0.3); border-radius: 8px; height: 8px; overflow: hidden; margin-bottom: 10px;">
                                <div style="background: ${isUnlocked ? 'var(--success)' : 'var(--accent)'}; height: 100%; width: ${progress}%; transition: width 0.3s ease;"></div>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 5px;">
                                <p style="color: var(--text-muted); font-size: 12px;">${isUnlocked ? 'âœ… å·²å®Œæˆ' : `é€²åº¦ï¼š${progress}%`}</p>
                                <button class="achievement-try-btn" data-achievement-id="${achievement.id}" style="font-size: 13px; padding: 10px 20px; background: linear-gradient(135deg, #00ffc8, #00a8ff); border: none; color: white; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; font-weight: 700; box-shadow: 0 3px 10px rgba(0, 168, 255, 0.4); position: relative; z-index: 100; ${isUnlocked ? 'display: none;' : ''}">
                                    <i class="fas fa-play"></i> ç«‹å³å˜—è©¦
                                </button>
                            </div>
                        </div>
                    </div>
                `;

                // ç‚ºã€Œç«‹å³å˜—è©¦ã€æŒ‰éˆ•æ·»åŠ äº‹ä»¶ç›£è½å™¨ - ä½¿ç”¨æ•ç²éšæ®µç¢ºä¿å„ªå…ˆåŸ·è¡Œ
                const tryBtn = card.querySelector('.achievement-try-btn');
                if (tryBtn) {
                    // é»æ“Šäº‹ä»¶ - ä½¿ç”¨å¤šç¨®äº‹ä»¶ç¢ºä¿éŸ¿æ‡‰
                    const handleClick = (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        e.stopImmediatePropagation();
                        const achievementId = tryBtn.getAttribute('data-achievement-id');
                        console.log('âœ… ç«‹å³å˜—è©¦æŒ‰éˆ•è¢«é»æ“Š:', achievementId);
                        startAchievement(achievementId);
                    };

                    // åŒæ™‚ç›£è½ click, mousedown, touchstart ç¢ºä¿åœ¨ä»»ä½•è¨­å‚™ä¸Šéƒ½èƒ½éŸ¿æ‡‰
                    tryBtn.addEventListener('click', handleClick, true); // ä½¿ç”¨æ•ç²éšæ®µ
                    tryBtn.addEventListener('mousedown', handleClick, true);
                    tryBtn.addEventListener('touchstart', handleClick, true);

                    // æ‡¸åœæ•ˆæœ
                    tryBtn.addEventListener('mouseenter', () => {
                        tryBtn.style.transform = 'scale(1.08)';
                        tryBtn.style.boxShadow = '0 5px 15px rgba(0, 168, 255, 0.6)';
                    });

                    tryBtn.addEventListener('mouseleave', () => {
                        tryBtn.style.transform = 'scale(1)';
                        tryBtn.style.boxShadow = '0 3px 10px rgba(0, 168, 255, 0.4)';
                    });

                    // æŒ‰ä¸‹æ•ˆæœ
                    tryBtn.addEventListener('mousedown', () => {
                        tryBtn.style.transform = 'scale(0.95)';
                    });

                    tryBtn.addEventListener('mouseup', () => {
                        tryBtn.style.transform = 'scale(1.08)';
                    });
                }

                // å¡ç‰‡é»æ“Šäº‹ä»¶ï¼ˆé»æ“Šå¡ç‰‡æŸ¥çœ‹è©³æƒ…ï¼‰- é™ä½å„ªå…ˆç´š
                card.addEventListener('click', (e) => {
                    // æª¢æŸ¥æ˜¯å¦é»æ“Šäº†æŒ‰éˆ•æˆ–æŒ‰ï¿½ï¿½ï¿½å…§çš„å…ƒç´ 
                    const clickedBtn = e.target.closest('.achievement-try-btn');
                    if (!clickedBtn) {
                        showAchievementDetail(achievement.id);
                    }
                }, false); // ä½¿ç”¨å†’æ³¡éšæ®µï¼Œå„ªå…ˆç´šä½æ–¼æŒ‰éˆ•

                achievementsList.appendChild(card);
            });
        }

        // è¨ˆç®—æˆå°±é€²åº¦ç™¾åˆ†æ¯”
        function getAchievementProgress(achievement) {
            for (const [key, value] of Object.entries(achievement.requirement)) {
                if (key === 'modelsExploredCount') {
                    const current = userAchievements.progress.modelsExplored.length;
                    return Math.min(100, Math.round((current / value) * 100));
                } else {
                    const current = userAchievements.progress[key] || 0;
                    return Math.min(100, Math.round((current / value) * 100));
                }
            }
            return 0;
        }

        // æ’å…¥ç¯„ä¾‹SQLåˆ°ç·¨è¼¯å™¨
        function insertExampleSQL(type) {
            const sqlInput = document.getElementById('sqlInput');
            let example = '';

            switch(type) {
                case 'procedure':
                    example = `-- å‰µå»ºå­˜å„²éç¨‹ç¯„ä¾‹
CREATE PROCEDURE add_employee(emp_name VARCHAR2, emp_salary NUMBER) AS
BEGIN
    INSERT INTO employees (name, salary) VALUES (emp_name, emp_salary);
END;

-- åŸ·è¡Œå­˜å„²éç¨‹
EXEC add_employee('å¼µä¸‰', 50000);`;
                    break;

                case 'trigger':
                    example = `-- å‰µå»ºè§¸ç™¼å™¨ç¯„ä¾‹
CREATE TRIGGER salary_check
BEFORE INSERT ON employees
FOR EACH ROW
BEGIN
    -- è§¸ç™¼å™¨é‚è¼¯
END;`;
                    break;

                case 'transaction':
                    example = `-- äº‹å‹™ç®¡ç†ç¯„ä¾‹
SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;

BEGIN;

UPDATE accounts SET balance = balance - 100 WHERE id = 1;
UPDATE accounts SET balance = balance + 100 WHERE id = 2;

COMMIT;`;
                    break;

                case 'explain':
                    example = `-- æ€§èƒ½åˆ†æç¯„ä¾‹
EXPLAIN PLAN FOR SELECT * FROM employees WHERE salary > 50000;`;
                    break;

                case 'function':
                    example = `-- å‰µå»ºå‡½æ•¸ç¯„ä¾‹
CREATE FUNCTION calculate_bonus(emp_salary NUMBER) RETURN NUMBER AS
BEGIN
    RETURN emp_salary * 0.1;
END;`;
                    break;

                case 'isolation':
                    example = `-- è¨­ç½®äº‹å‹™éš”é›¢ç´šåˆ¥ç¯„ä¾‹
SET TRANSACTION ISOLATION LEVEL READ COMMITTED;
-- æˆ–ä½¿ç”¨å…¶ä»–ç´šåˆ¥ï¼š
-- SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;
-- SET TRANSACTION ISOLATION LEVEL REPEATABLE READ;
-- SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;`;
                    break;

                case 'sequence':
                    example = `-- Oracle SEQUENCE ï¿½ï¿½ï¿½æ•´ç¯„ä¾‹
-- æ­¥é©Ÿ1ï¼šå‰µå»ºåºåˆ—
CREATE SEQUENCE emp_seq
START WITH 1
INCREMENT BY 1
MINVALUE 1
MAXVALUE 999999;

-- æ­¥é©Ÿ2ï¼šå‰µå»ºå“¡å·¥è¡¨
CREATE TABLE employees (
    emp_id NUMBER PRIMARY KEY,
    emp_name VARCHAR2(50),
    salary NUMBER
);

-- æ­¥é©Ÿ3ï¼šä½¿ç”¨åºåˆ—æ’å…¥æ•¸æ“šï¼ˆè‡ªå‹•ç”ŸæˆIDï¼‰
INSERT INTO employees VALUES (emp_seq.NEXTVAL, 'å¼µä¸‰', 50000);
INSERT INTO employees VALUES (emp_seq.NEXTVAL, 'æå››', 60000);
INSERT INTO employees VALUES (emp_seq.NEXTVAL, 'ç‹äº”', 55000);

-- æ­¥é©Ÿ4ï¼šæŸ¥è©¢åºåˆ—ç•¶å‰å€¼
SELECT emp_seq.CURRVAL FROM DUAL;

-- æ­¥é©Ÿ5ï¼šæŸ¥çœ‹æ’å…¥çš„æ•¸æ“š
SELECT * FROM employees;`;
                    break;

                case 'oracle_objects':
                    example = `-- Oracle æ•¸æ“šåº«å°è±¡ç¶œåˆç¯„ä¾‹

-- 1. å‰µå»ºåºåˆ—
CREATE SEQUENCE dept_seq START WITH 100 INCREMENT BY 10;

-- 2. å‰µå»ºè¡¨
CREATE TABLE departments (
    dept_id NUMBER PRIMARY KEY,
    dept_name VARCHAR2(50) NOT NULL,
    manager VARCHAR2(50)
);

-- 3. ä½¿ç”¨åºåˆ—æ’å…¥æ•¸æ“š
INSERT INTO departments VALUES (dept_seq.NEXTVAL, 'ITéƒ¨é–€', 'å¼µç¶“ç†');
INSERT INTO departments VALUES (dept_seq.NEXTVAL, 'è²¡å‹™éƒ¨', 'æç¶“ç†');

-- 4. å‰µå»ºè¦–åœ–
CREATE VIEW dept_view AS
SELECT dept_id, dept_name FROM departments;

-- 5. å‰µå»ºç´¢å¼•
CREATE INDEX idx_dept_name ON departments(dept_name);

-- 6. å‰µå»ºåŒç¾©è©
CREATE SYNONYM dept FOR departments;

-- 7. æŸ¥çœ‹æ‰€æœ‰å°è±¡
SHOW TABLES;

-- 8. ä½¿ç”¨åŒç¾©è©æŸ¥è©¢
SELECT * FROM dept;`;
                    break;

                case 'dual_functions':
                    example = `-- Oracle DUAL è¡¨å’Œå‡½æ•¸ç¯„ä¾‹

-- 1. æŸ¥è©¢ç³»çµ±æ—¥æœŸ
SELECT SYSDATE FROM DUAL;

-- 2. ä½¿ç”¨åºåˆ—
SELECT emp_seq.NEXTVAL FROM DUAL;

-- 3. æ•¸å­¸è¨ˆç®—
SELECT 100 + 200 FROM DUAL;
SELECT 50 * 1.5 FROM DUAL;

-- 4. NVL å‡½æ•¸ï¼ˆç©ºå€¼è™•ç†ï¼‰
SELECT NVL(NULL, 'é è¨­å€¼') FROM DUAL;

-- 5. æ—¥æœŸå‡½æ•¸
SELECT TO_DATE('2024-12-25', 'YYYY-MM-DD') FROM DUAL;`;
                    break;

                case 'package':
                    example = `-- Oracle PACKAGE ç¯„ä¾‹
CREATE PACKAGE employee_pkg AS
    PROCEDURE hire_employee(p_name VARCHAR2, p_salary NUMBER);
    FUNCTION get_employee_count RETURN NUMBER;
END employee_pkg;

-- æŸ¥çœ‹å·²å‰µå»ºçš„åŒ…
SHOW TABLES;`;
                    break;

                default:
                    example = '-- è«‹é¸æ“‡ç¯„ä¾‹é¡å‹';
            }

            sqlInput.value = example;
            sqlInput.focus();

            const typeNames = {
                'procedure': 'å­˜å„²éç¨‹',
                'trigger': 'è§¸ç™¼å™¨',
                'transaction': 'äº‹å‹™ç®¡ç†',
                'function': 'å‡½æ•¸',
                'isolation': 'éš”é›¢ç´šåˆ¥',
                'explain': 'æ€§èƒ½åˆ†æ',
                'sequence': 'Oracleåºåˆ—',
                'oracle_objects': 'Oracleå°è±¡ç¶œåˆ',
                'dual_functions': 'DUALè¡¨èˆ‡å‡½æ•¸',
                'package': 'OracleåŒ…'
            };

            showMessage(`âœ… å·²æ’å…¥${typeNames[type] || 'ç¯„ä¾‹'}ç¯„ä¾‹`, 'success');
        }

        // é¡¯ç¤ºæˆå°±è©³ç´°è³‡è¨Š
        function showAchievementDetail(achievementId) {
            const achievement = achievements[achievementId];
            if (!achievement) return;

            const isUnlocked = userAchievements.earned.includes(achievementId);
            const progress = getAchievementProgress(achievement);

            // è©³ç´°æŒ‡å¼•å…§å®¹
            const detailGuides = {
                first_query: {
                    location: 'SQLç·¨è¼¯å™¨ï¼ˆæ¨¡æ“¬è³‡æ–™åº«é é¢ï¼‰',
                    steps: ['1. å‰å¾€ã€Œæ¨¡æ“¬è³‡æ–™åº«ã€é é¢', '2. åœ¨SQLç·¨è¼¯å™¨ä¸­è¼¸å…¥ä»»ä½•æœ‰æ•ˆçš„SQLæŸ¥è©¢', '3. é»æ“Šã€ŒåŸ·è¡Œã€æŒ‰éˆ•', '4. æˆå°±å°‡è‡ªå‹•è§£é–ï¼'],
                    example: 'SELECT * FROM employees;'
                },
                table_creator: {
                    location: 'SQLç·¨è¼¯å™¨ï¼ˆæ¨¡æ“¬è³‡æ–™åº«é é¢ï¼‰',
                    steps: ['1. å‰å¾€ã€Œæ¨¡æ“¬è³‡æ–™åº«ã€é é¢', '2. ä½¿ç”¨CREATE TABLEèªå¥å‰µå»ºè³‡æ–™è¡¨', '3. å‰µå»º5å€‹ä¸åŒçš„è³‡æ–™è¡¨', '4. æˆå°±å°‡è‡ªå‹•è§£é–ï¼'],
                    example: 'CREATE TABLE my_table (id NUMBER, name VARCHAR2(50));'
                },
                join_master: {
                    location: 'SQLç·¨è¼¯å™¨ï¼ˆæ¨¡æ“¬è³‡æ–™åº«é é¢ï¼‰',
                    steps: ['1. å‰å¾€ã€Œæ¨¡æ“¬è³‡æ–™åº«ã€é é¢', '2. åŸ·è¡ŒåŒ…å«JOINçš„æŸ¥è©¢èªå¥', '3. å˜—è©¦ä½¿ç”¨INNER JOINã€LEFT JOINç­‰', '4. åŸ·è¡Œ10æ¬¡JOINæŸ¥è©¢å³å¯è§£é–'],
                    example: 'SELECT e.name, d.dept_name FROM employees e JOIN departments d ON e.dept_id = d.id;'
                },
                procedure_expert: {
                    location: 'å´é‚Šæ¬„ã€Œå­˜å„²éç¨‹/å‡½æ•¸ã€æŒ‰éˆ•',
                    steps: ['1. é»æ“Šå´é‚Šæ¬„çš„ã€Œå­˜å„²éç¨‹/å‡½æ•¸ã€æŒ‰éˆ•', '2. ç³»çµ±æœƒè‡ªå‹•æ’å…¥ç¯„ä¾‹ä»£ç¢¼', '3. é»æ“Šã€ŒåŸ·è¡Œã€å‰µå»ºå­˜å„²éç¨‹', '4. å‰µå»º3å€‹å­˜å„²éç¨‹å³å¯è§£é–'],
                    example: 'CREATE PROCEDURE my_proc(p_name VARCHAR2) AS BEGIN INSERT INTO table VALUES (p_name); END;'
                },
                trigger_wizard: {
                    location: 'å´é‚Šæ¬„ã€Œè§¸ç™¼å™¨ã€æŒ‰éˆ•',
                    steps: ['1. é»æ“Šå´é‚Šæ¬„çš„ã€Œè§¸ç™¼å™¨ã€æŒ‰éˆ•', '2. ç³»çµ±æœƒè‡ªå‹•æ’å…¥è§¸ç™¼å™¨ç¯„ä¾‹', '3. é»æ“Šã€ŒåŸ·è¡Œã€å‰µå»ºè§¸ç™¼å™¨', '4. å‰µå»º2å€‹è§¸ç™¼å™¨å³å¯è§£é–'],
                    example: 'CREATE TRIGGER my_trigger BEFORE INSERT ON table FOR EACH ROW BEGIN ... END;'
                },
                transaction_pro: {
                    location: 'å´é‚Šæ¬„ã€Œäº‹å‹™ç®¡ç†ã€æŒ‰éˆ•',
                    steps: ['1. é»æ“Šå´é‚Šæ¬„çš„ã€Œäº‹å‹™ç®¡ç†ã€æŒ‰éˆ•', '2. ç³»çµ±æœƒæ’å…¥äº‹å‹™ç®¡ç†ç¯„ä¾‹', '3. åŸ·è¡ŒBEGINã€COMMITæˆ–ROLLBACK', '4. ä½¿ç”¨5æ¬¡äº‹å‹™å³å¯è§£é–'],
                    example: 'BEGIN; UPDATE table SET column = value; COMMIT;'
                },
                error_fixer: {
                    location: 'SQLç·¨è¼¯å™¨ï¼ˆæ¨¡æ“¬è³‡æ–™åº«é é¢ï¼‰',
                    steps: ['1. åŸ·è¡Œä¸€äº›æœ‰éŒ¯èª¤çš„SQLèªå¥', '2. é–±è®€ç³»çµ±æä¾›çš„éŒ¯èª¤è¨ºæ–·', '3. æ ¹æ“šå»ºè­°ä¿®æ­£éŒ¯èª¤', '4. æˆåŠŸä¿®æ­£3å€‹éŒ¯èª¤å³å¯è§£é–'],
                    example: 'SELCT * FRM table; -- æ•…æ„å¯«éŒ¯ï¼Œç„¶å¾Œä¿®æ­£ç‚ºï¼šSELECT * FROM table;'
                },
                model_explorer: {
                    location: 'æ•¸æ“šæ¨¡å‹åˆ‡æ›é¢æ¿ï¼ˆæ¨¡æ“¬è³‡æ–™åº«é é¢ï¼‰',
                    steps: ['1. åœ¨æ¨¡æ“¬è³‡æ–™åº«é é¢æ‰¾åˆ°æ•¸æ“šæ¨¡å‹åˆ‡æ›å™¨', '2. å˜—è©¦åˆ‡æ›ä¸åŒçš„æ•¸æ“šæ¨¡å‹', '3. æ¢ç´¢è‡³å°‘5ç¨®ä¸åŒçš„æ¨¡å‹', '4. æˆå°±å°‡è‡ªå‹•è§£é–'],
                    example: 'é»æ“Šæ¨¡å‹åˆ‡æ›æŒ‰éˆ•ï¼Œæ¢ç´¢é—œè¯å¼ã€JSONã€åœ–å½¢ç­‰ä¸åŒæ¨¡å‹'
                },
                sql_veteran: {
                    location: 'SQLç·¨è¼¯å™¨ï¼ˆæ¨¡æ“¬è³‡æ–™åº«é é¢ï¼‰',
                    steps: ['1. æŒçºŒç·´ç¿’å’ŒåŸ·è¡ŒSQLæŸ¥è©¢', '2. ç´¯ç©åŸ·è¡Œ100æ¬¡SQLèªå¥', '3. é€™æ˜¯ä¸€å€‹é•·æœŸæˆå°±', '4. ä¿æŒç·´ç¿’ï¼Œçµ‚å°‡é”æˆï¼'],
                    example: 'ç¹¼çºŒåŸ·è¡Œå„ç¨®SQLèªå¥ï¼Œç†Ÿèƒ½ç”Ÿå·§ï¼'
                }
            };

            const guide = detailGuides[achievementId] || { location: 'æ¨¡æ“¬å™¨é é¢', steps: ['æ“ä½œèªªæ˜è¼‰å…¥ä¸­...'], example: '' };

            // å‰µå»ºè©³ç´°è³‡è¨Šæ¨¡æ…‹æ¡†
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.85);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10001;
                padding: 20px;
                backdrop-filter: blur(8px);
            `;

            modal.innerHTML = `
                <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); border-radius: 20px; max-width: 600px; width: 100%; max-height: 90vh; overflow-y: auto; box-shadow: 0 20px 60px rgba(0, 255, 204, 0.3); border: 2px solid var(--accent);">
                    <div style="padding: 30px;">
                        <div style="text-align: center; margin-bottom: 25px;">
                            <div style="font-size: 72px; margin-bottom: 15px;">${achievement.icon}</div>
                            <h2 style="color: ${isUnlocked ? 'var(--success)' : 'var(--accent)'}; margin-bottom: 10px;">
                                ${achievement.name}
                                ${isUnlocked ? '<i class="fas fa-check-circle" style="color: var(--success); margin-left: 10px;"></i>' : ''}
                            </h2>
                            <p style="color: var(--text-secondary); font-size: 16px;">${achievement.description}</p>
                        </div>

                        <div style="background: rgba(0, 0, 0, 0.3); border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                            <h3 style="color: var(--accent); margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-map-marker-alt"></i> æ“ä½œä½ç½®
                            </h3>
                            <p style="color: var(--text); font-size: 15px; background: rgba(0, 168, 255, 0.15); padding: 12px; border-radius: 8px; border-left: 4px solid var(--accent);">
                                ğŸ“ ${guide.location}
                            </p>
                        </div>

                        <div style="background: rgba(0, 0, 0, 0.3); border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                            <h3 style="color: var(--accent); margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-list-ol"></i> å®Œæˆæ­¥é©Ÿ
                            </h3>
                            ${guide.steps.map((step, index) => `
                                <div style="display: flex; gap: 12px; margin-bottom: 12px; align-items: flex-start;">
                                    <div style="background: var(--gradient-accent); width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 12px; flex-shrink: 0;">${index + 1}</div>
                                    <p style="color: var(--text); font-size: 14px; flex: 1; line-height: 24px;">${step}</p>
                                </div>
                            `).join('')}
                        </div>

                        ${guide.example ? `
                        <div style="background: rgba(0, 0, 0, 0.3); border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                            <h3 style="color: var(--accent); margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-code"></i> ç¯„ä¾‹ä»£ç¢¼
                            </h3>
                            <pre style="background: rgba(0, 0, 0, 0.5); padding: 15px; border-radius: 8px; color: var(--success); font-family: 'Courier New', monospace; font-size: 13px; overflow-x: auto; border: 1px solid rgba(0, 255, 204, 0.3);">${guide.example}</pre>
                        </div>
                        ` : ''}

                        <div style="background: rgba(0, 0, 0, 0.3); border-radius: 12px; padding: 15px; margin-bottom: 25px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                <span style="color: var(--text-secondary); font-size: 14px;">å®Œæˆé€²åº¦</span>
                                <span style="color: var(--accent); font-weight: bold; font-size: 16px;">${progress}%</span>
                            </div>
                            <div style="background: rgba(0, 0, 0, 0.5); border-radius: 8px; height: 12px; overflow: hidden;">
                                <div style="background: ${isUnlocked ? 'var(--success)' : 'var(--gradient-accent)'}; height: 100%; width: ${progress}%; transition: width 0.3s ease; border-radius: 8px;"></div>
                            </div>
                        </div>

                        <div style="display: flex; gap: 12px;">
                            ${!isUnlocked ? `
                            <button class="start-achievement-detail-btn" data-achievement-id="${achievementId}" style="flex: 1; padding: 15px; font-size: 16px; background: linear-gradient(135deg, #00ffc8, #00a8ff); border: none; color: white; border-radius: 8px; cursor: pointer; font-weight: 600; box-shadow: 0 4px 12px rgba(0, 168, 255, 0.4);">
                                <i class="fas fa-play"></i> ç«‹å³é–‹å§‹
                            </button>
                            ` : ''}
                            <button class="close-detail-modal-btn" style="flex: 1; padding: 15px; font-size: 16px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); color: white; border-radius: 8px; cursor: pointer;">
                                <i class="fas fa-times"></i> é—œé–‰
                            </button>
                        </div>
                    </div>
                </div>
            `;

            // ç‚ºæŒ‰éˆ•æ·»åŠ äº‹ä»¶ç›£è½å™¨
            setTimeout(() => {
                const startBtn = modal.querySelector('.start-achievement-detail-btn');
                const closeBtn = modal.querySelector('.close-detail-modal-btn');

                if (startBtn) {
                    startBtn.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        const achievementId = startBtn.getAttribute('data-achievement-id');
                        console.log('ğŸ’« ç«‹å³é–‹å§‹æŒ‰éˆ•è¢«é»æ“Š:', achievementId);
                        modal.remove();
                        startAchievement(achievementId);
                    });

                    // æ‡¸åœæ•ˆæœ
                    startBtn.addEventListener('mouseenter', () => {
                        startBtn.style.transform = 'scale(1.05)';
                        startBtn.style.boxShadow = '0 6px 16px rgba(0, 168, 255, 0.6)';
                    });
                    startBtn.addEventListener('mouseleave', () => {
                        startBtn.style.transform = 'scale(1)';
                        startBtn.style.boxShadow = '0 4px 12px rgba(0, 168, 255, 0.4)';
                    });
                }

                if (closeBtn) {
                    closeBtn.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        modal.remove();
                    });
                }
            }, 10);

            modal.onclick = (e) => {
                if (e.target === modal) {
                    modal.remove();
                }
            };

            document.body.appendChild(modal);
        }

        // é–‹å§‹æˆå°±æŒ‘æˆ°
        // é é¢åˆ‡æ›å‡½æ•¸
        function showPage(pageName, skipFileCreation = false) {
            const introPage = document.getElementById('introPage');
            const simulatorPage = document.getElementById('simulatorPage');

            if (pageName === 'simulator') {
                if (introPage) introPage.style.display = 'none';
                if (simulatorPage) simulatorPage.style.display = 'block';

                // å¦‚æœé‚„æ²’æœ‰å‰µå»ºä»»ä½•æª”æ¡ˆä¸”ä¸è·³éæª”æ¡ˆå‰µå»ºï¼Œé¡¯ç¤ºæ–°å»ºæª”æ¡ˆå°è©±æ¡†
                if (databaseFiles.length === 0 && !skipFileCreation) {
                    console.log('ğŸ“ è‡ªå‹•å‰µå»ºç¬¬ä¸€å€‹æª”æ¡ˆ...');
                    // é¡¯ç¤ºæ–°å»ºæª”æ¡ˆå°è©±æ¡†
                    const newFileModal = document.getElementById('newFileModal');
                    if (newFileModal) {
                        newFileModal.classList.add('active');
                    }
                }
            } else if (pageName === 'intro') {
                if (introPage) introPage.style.display = 'flex';
                if (simulatorPage) simulatorPage.style.display = 'none';
            }
        }

        function startAchievement(achievementId) {
            console.log('ğŸš€ startAchievement è¢«èª¿ç”¨ï¼Œæˆå°±ID:', achievementId);

            // é—œé–‰æˆå°±é¢æ¿
            const achievementModal = document.getElementById('achievementsModal');
            if (achievementModal) {
                achievementModal.classList.remove('active');
                console.log('âœ… æˆå°±é¢æ¿å·²é—œé–‰');
            }

            // ç‚ºæ¯å€‹æˆå°±å®šç¾©å°ˆå±¬çš„è³‡æ–™åº«åç¨±å’Œç”¨æˆ¶åç¨±
            const achievementDatabaseInfo = {
                first_query: {
                    dbName: 'FirstQuery_DB',
                    userName: 'Beginner',
                    portName: 'Queryç·´ç¿’'
                },
                table_creator: {
                    dbName: 'TableCreator_DB',
                    userName: 'Creator',
                    portName: 'å»ºè¡¨å¤§å¸«'
                },
                join_master: {
                    dbName: 'JoinMaster_DB',
                    userName: 'JoinExpert',
                    portName: 'JOINå¤§å¸«'
                },
                procedure_expert: {
                    dbName: 'Procedure_DB',
                    userName: 'ProcedureExpert',
                    portName: 'å­˜å„²éç¨‹'
                },
                trigger_wizard: {
                    dbName: 'Trigger_DB',
                    userName: 'TriggerWizard',
                    portName: 'è§¸ç™¼å™¨å·«å¸«'
                },
                transaction_pro: {
                    dbName: 'Transaction_DB',
                    userName: 'TransactionPro',
                    portName: 'äº‹å‹™å°ˆå®¶'
                },
                error_fixer: {
                    dbName: 'ErrorFixer_DB',
                    userName: 'Debugger',
                    portName: 'èª¿è©¦é«˜æ‰‹'
                },
                model_explorer: {
                    dbName: 'ModelExplorer_DB',
                    userName: 'Explorer',
                    portName: 'æ¨¡å‹æ¢ç´¢è€…'
                },
                sql_veteran: {
                    dbName: 'Veteran_DB',
                    userName: 'SQLVeteran',
                    portName: 'SQLè€æ‰‹'
                }
            };

            const dbInfo = achievementDatabaseInfo[achievementId] || {
                dbName: 'Practice_DB',
                userName: 'Player',
                portName: 'ç·´ç¿’æª”æ¡ˆ'
            };

            // å¦‚æœæ²’æœ‰æª”æ¡ˆï¼Œè‡ªå‹•å‰µå»ºä¸€å€‹å°ˆå±¬æª”æ¡ˆ
            if (databaseFiles.length === 0) {
                console.log('ğŸ“ è‡ªå‹•å‰µå»ºæˆå°±å°ˆå±¬æª”æ¡ˆ:', dbInfo.dbName);

                // å‰µå»ºæª”æ¡ˆ
                const newIndex = createDatabaseFile(dbInfo.dbName);

                // è¨­ç½®ä½¿ç”¨è€…åç¨±å’Œé€£æ¥åŸ åç¨±
                databaseFiles[newIndex].user = dbInfo.userName;
                databaseFiles[newIndex].databaseName = dbInfo.dbName;
                databaseFiles[newIndex].portName = dbInfo.portName;

                // è¨­ç½®ç•¶å‰æª”æ¡ˆ
                currentFileIndex = newIndex;
                currentUser = dbInfo.userName;
                currentDatabaseName = dbInfo.dbName;

                // åˆå§‹åŒ–ç¯„ä¾‹è³‡æ–™åº«
                currentDatabase = JSON.parse(JSON.stringify(sampleDatabase));
                executionHistory = [];
                lastQueryResult = null;

                // æ›´æ–°UI
                updateUIAfterFileSwitch();
                renderDatabaseTabs();
                updateTablePreview();

                // é¡¯ç¤ºæ­¡è¿è¨Šæ¯
                const output = document.getElementById('output');
                if (output) {
                    output.innerHTML = createMessage(
                        `ğŸ¯ æ­¡è¿ ${dbInfo.userName}ï¼æ‚¨æ­£åœ¨æŒ‘æˆ°ã€Œ${achievements[achievementId].name}ã€æˆå°±ï¼\nè³‡æ–™åº«ï¼š${dbInfo.dbName} [${dbInfo.portName}]`,
                        'success'
                    );
                }
            }

            // å°èˆªåˆ°æ¨¡æ“¬å™¨é é¢ï¼ˆè·³éè‡ªå‹•å‰µå»ºæª”æ¡ˆå°è©±æ¡†ï¼‰
            console.log('ğŸ¯ æ­£åœ¨å°èˆªåˆ°æ¨¡æ“¬å™¨é é¢...');
            showPage('simulator', true);

            // æ ¹æ“šæˆå°±é¡å‹æ’å…¥å°æ‡‰çš„ç¯„ä¾‹
            const achievementExamples = {
                first_query: 'simple',
                table_creator: 'table',
                join_master: 'join',
                procedure_expert: 'procedure',
                trigger_wizard: 'trigger',
                transaction_pro: 'transaction',
                error_fixer: 'error',
                model_explorer: 'model',
                sql_veteran: 'simple'
            };

            const exampleType = achievementExamples[achievementId];

            // ç­‰å¾…é é¢åˆ‡æ›å®Œæˆå¾Œå†åŸ·è¡Œ
            setTimeout(() => {
                const sqlInput = document.getElementById('sqlInput');

                if (!sqlInput) {
                    console.warn('âš ï¸ SQLç·¨è¼¯å™¨æœªæ‰¾åˆ°ï¼Œå¯èƒ½éœ€è¦å…ˆå‰µå»ºæª”æ¡ˆ');
                    return;
                }

                if (exampleType === 'simple') {
                    sqlInput.value = '-- åŸ·è¡Œä½ çš„ç¬¬ä¸€å€‹SQLæŸ¥è©¢ï¼\nSELECT * FROM employees LIMIT 5;';
                    sqlInput.focus();
                } else if (exampleType === 'table') {
                    sqlInput.value = `-- å‰µå»ºä½ çš„è³‡æ–™è¡¨
CREATE TABLE my_table (
    id NUMBER PRIMARY KEY,
    name VARCHAR2(50) NOT NULL,
    created_date DATE
);

-- æ’å…¥æ¸¬è©¦è³‡æ–™
INSERT INTO my_table VALUES (1, 'æ¸¬è©¦è³‡æ–™', SYSDATE);`;
                    sqlInput.focus();
                } else if (exampleType === 'join') {
                    sqlInput.value = `-- JOINæŸ¥è©¢ç¯„ä¾‹
SELECT
    e.employee_id,
    e.first_name,
    e.last_name,
    d.department_name
FROM employees e
INNER JOIN departments d ON e.department_id = d.department_id
WHERE e.salary > 5000;`;
                    sqlInput.focus();
                } else if (exampleType === 'procedure') {
                    // æ‰“é–‹å­˜å„²éç¨‹é¢æ¿
                    const procedureTab = document.querySelector('[data-sidebar-tab="procedure"]');
                    if (procedureTab) {
                        procedureTab.click();
                        showMessage('ğŸ’¡ è«‹åœ¨å­˜å„²éç¨‹é¢æ¿ä¸­å‰µå»ºå­˜å„²éç¨‹ï¼', 'info');
                    }
                } else if (exampleType === 'trigger') {
                    // æ‰“é–‹è§¸ç™¼å™¨é¢æ¿
                    const triggerTab = document.querySelector('[data-sidebar-tab="trigger"]');
                    if (triggerTab) {
                        triggerTab.click();
                        showMessage('ğŸ’¡ è«‹åœ¨è§¸ç™¼å™¨é¢æ¿ä¸­å‰µå»ºè§¸ç™¼å™¨ï¼', 'info');
                    }
                } else if (exampleType === 'transaction') {
                    // æ‰“é–‹äº‹å‹™ç®¡ç†é¢æ¿
                    const transactionTab = document.querySelector('[data-sidebar-tab="transaction"]');
                    if (transactionTab) {
                        transactionTab.click();
                        showMessage('ğŸ’¡ è«‹åœ¨äº‹å‹™ç®¡ç†é¢æ¿ä¸­ç·´ç¿’äº‹å‹™æ“ä½œï¼', 'info');
                    }
                } else if (exampleType === 'error') {
                    sqlInput.value = `-- å˜—è©¦ä¿®æ­£ä»¥ä¸‹éŒ¯èª¤çš„SQL
SELCT * FRM employees WERE salary > 5000;

-- æ­£ç¢ºçš„å¯«æ³•æ‡‰è©²æ˜¯ï¼š
-- SELECT * FROM employees WHERE salary > 5000;`;
                    sqlInput.focus();
                } else if (exampleType === 'model') {
                    // æ»¾å‹•åˆ°æ•¸æ“šæ¨¡å‹é¸æ“‡å€åŸŸ
                    const modelSelector = document.querySelector('.model-selector-container');
                    if (modelSelector) {
                        modelSelector.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        showMessage('ğŸ’¡ è«‹åœ¨ä¸‹æ–¹æ•¸æ“šæ¨¡å‹åˆ‡æ›é¢æ¿ä¸­æ¢ç´¢ä¸åŒçš„æ•¸æ“šæ¨¡å‹ï¼', 'info');
                    }
                } else if (exampleType) {
                    // å°æ–¼å…¶ä»–é¡å‹ï¼Œä½¿ç”¨ç¾æœ‰çš„ insertExampleSQL
                    insertExampleSQL(exampleType);
                }

                // æ»¾å‹•åˆ°SQLç·¨è¼¯å™¨ï¼ˆå¦‚æœæ²’æœ‰ç‰¹åˆ¥æŒ‡å®šå…¶ä»–ä½ç½®ï¼‰
                if (!['procedure', 'trigger', 'transaction', 'model'].includes(exampleType)) {
                    setTimeout(() => {
                        if (sqlInput) {
                            sqlInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        }
                    }, 300);
                }

                showMessage(`ğŸ¯ å·²ç‚ºä½ æº–å‚™å¥½ã€Œ${achievements[achievementId].name}ã€çš„ç¯„ä¾‹ï¼ç¾åœ¨é–‹å§‹æŒ‘æˆ°å§ï¼`, 'success');
            }, 500);
        }

        // æ¸¬è©¦æ‰€æœ‰æ–°åŠŸèƒ½
        function testAllNewFeatures() {
            const sqlInput = document.getElementById('sqlInput');
            const testSQL = `-- ğŸ§ª æ–°åŠŸèƒ½å®Œæ•´æ¸¬è©¦ç¯„ä¾‹
-- æ­¤è…³æœ¬å°‡æ¸¬è©¦æ‰€æœ‰2025ç‰ˆæœ¬æ–°å¢çš„åŠŸèƒ½

-- 1ï¸âƒ£ å‰µå»ºæ¸¬è©¦è¡¨æ ¼
CREATE TABLE test_employees (
    emp_id NUMBER PRIMARY KEY,
    emp_name VARCHAR2(50) NOT NULL,
    salary NUMBER CHECK(salary >= 0),
    dept VARCHAR2(30)
);

-- 2ï¸âƒ£ æ’å…¥æ¸¬è©¦è³‡æ–™
INSERT INTO test_employees VALUES (1, 'å¼µä¸‰', 50000, 'IT');
INSERT INTO test_employees VALUES (2, 'æå››', 60000, 'HR');

-- 3ï¸âƒ£ æ¸¬è©¦æ€§èƒ½åˆ†æ (EXPLAIN PLAN)
EXPLAIN PLAN FOR SELECT * FROM test_employees WHERE salary > 45000;

-- 4ï¸âƒ£ å‰µå»ºå‡½æ•¸
CREATE FUNCTION calc_bonus(sal NUMBER) RETURN NUMBER AS
BEGIN
    RETURN sal * 0.1;
END;

-- 5ï¸âƒ£ å‰µå»ºå­˜å„²éç¨‹
CREATE PROCEDURE raise_salary(emp_id NUMBER, amount NUMBER) AS
BEGIN
    UPDATE test_employees SET salary = salary + amount WHERE emp_id = emp_id;
END;

-- 6ï¸âƒ£ å‰µå»ºè§¸ç™¼å™¨
CREATE TRIGGER salary_audit
AFTER UPDATE ON test_employees
FOR EACH ROW
BEGIN
    -- è§¸ç™¼å™¨é‚è¼¯
END;

-- 7ï¸âƒ£ æ¸¬è©¦äº‹å‹™ç®¡ç†
BEGIN;
UPDATE test_employees SET salary = salary + 1000 WHERE emp_id = 1;
COMMIT;

-- 8ï¸âƒ£ æ¸¬è©¦éš”é›¢ç´šåˆ¥
SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;

-- âœ… æ¸¬è©¦å®Œæˆï¼åŸ·è¡Œæ­¤è…³æœ¬å°‡è§£é–å¤šå€‹æˆå°±ï¼`;

            sqlInput.value = testSQL;
            sqlInput.focus();
            showMessage('âœ… å·²æ’å…¥å®Œæ•´æ¸¬è©¦è…³æœ¬ï¼åŸ·è¡Œå¾Œå°‡æ¸¬è©¦æ‰€æœ‰æ–°åŠŸèƒ½ä¸¦è§£é–æˆå°±ï¼', 'success');
        }

        // ç•¶å‰è¡¨æ ¼é¡å‹ï¼ˆå…¨å±€è®Šé‡ï¼‰
        let currentTableType = 'standard';

        // æ¸²æŸ“è³‡æ–™è¡¨
        function renderTable(table) {
            let html = `<h3>æŸ¥è©¢çµæœ (${table.data.length} ç­†è¨˜éŒ„)</h3>`;
            html += `<div style="overflow-x: auto;">`;
            html += `<table class="data-table">`;

            html += `<thead><tr>`;
            table.columns.forEach(col => {
                html += `<th>${col}</th>`;
            });
            html += `</tr></thead>`;

            html += `<tbody>`;
            if (table.data.length > 0) {
                table.data.forEach(row => {
                    html += `<tr>`;
                    row.forEach(cell => {
                        html += `<td>${cell}</td>`;
                    });
                    html += `</tr>`;
                });
            } else {
                html += `<tr><td colspan="${table.columns.length}" style="text-align: center; color: var(--text-muted);">æ²’æœ‰è³‡æ–™</td></tr>`;
            }
            html += `</tbody>`;
            html += `</table></div>`;

            // æ·»åŠ è¡¨æ ¼é¡å‹åˆ‡æ›å™¨
            html += renderTableTypeSwitcher(table);

            return html;
        }

        // æ¸²æŸ“è¡¨æ ¼é¡å‹åˆ‡æ›å™¨
        function renderTableTypeSwitcher(table) {
            const tableTypes = [
                { id: 'standard', name: 'æ¨™æº–è¡¨æ ¼', icon: 'fa-table' },
                { id: 'partitioned', name: 'åˆ†å‰²å€è¡¨', icon: 'fa-layer-group' },
                { id: 'clustered', name: 'å¢é›†è¡¨', icon: 'fa-object-group' },
                { id: 'iot', name: 'ç´¢å¼•çµ„ç¹”è¡¨', icon: 'fa-key' },
                { id: 'external', name: 'å¤–éƒ¨è¡¨', icon: 'fa-link' },
                { id: 'temporary', name: 'è‡¨æ™‚è¡¨', icon: 'fa-clock' },
                { id: 'nested', name: 'å·¢ç‹€è¡¨', icon: 'fa-sitemap' },
                { id: 'object', name: 'ç‰©ä»¶è¡¨', icon: 'fa-cube' },
                { id: 'blockchain', name: 'å€å¡Šéˆè¡¨', icon: 'fa-chain' }
            ];

            // ç”Ÿæˆå”¯ä¸€ ID ä¸¦å­˜å„²è¡¨æ ¼æ•¸æ“šåœ¨å…§å­˜ä¸­
            const uniqueId = 'tableTypeContent_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);

            // å°‡è¡¨æ ¼æ•¸æ“šå­˜å„²åœ¨å…¨å±€å°è±¡ä¸­ï¼Œé¿å…åœ¨DOMä¸­å­˜å„²ï¿½ï¿½ï¿½é‡JSON
            if (!window.tableDataCache) {
                window.tableDataCache = {};
            }
            window.tableDataCache[uniqueId] = table;

            let html = `<div class="table-type-switcher" data-table-id="${uniqueId}">`;
            html += `<div class="table-type-header">`;
            html += `<div class="table-type-title"><i class="fas fa-shapes"></i> è¡¨æ ¼é¡å‹è¦–åœ– <span style="font-size: 0.8rem; color: var(--accent); margin-left: 8px;">(ã€${tableTypes.length}ç¨®)</span></div>`;
            html += `</div>`;

            html += `<div class="table-type-tabs">`;
            // ç¢ºä¿æ¸²æŸ“æ‰€æœ‰9ç¨®è¡¨æ ¼é¡å‹
            tableTypes.forEach((type, index) => {
                const activeClass = type.id === currentTableType ? 'active' : '';
                // åªå­˜å„²é¡å‹IDï¼Œä¸å­˜å„²å®Œæ•´çš„è¡¨æ ¼æ•¸æ“š
                html += `<div class="table-type-tab ${activeClass}" data-type="${type.id}" data-index="${index}" onclick="switchTableTypeOptimized(this, '${type.id}', '${uniqueId}')">`;
                html += `<i class="fas ${type.icon}"></i>`;
                html += `<span>${type.name}</span>`;
                html += `</div>`;
            });
            html += `</div>`;

            // èª¿è©¦ï¼šè¨˜éŒ„æ¸²æŸ“çš„æ¨™ç±¤æ•¸é‡
            console.log(`è¡¨æ ¼é¡å‹åˆ‡æ›å™¨å·²æ¸²æŸ“ ${tableTypes.length} ç¨®é¡å‹:`, tableTypes.map(t => t.name).join(', '));

            html += `<div class="table-type-content" id="${uniqueId}">`;
            html += renderTableByType(table, currentTableType);
            html += `</div>`;

            html += `</div>`;
            return html;
        }

        // æ€§èƒ½å„ªåŒ–åŠ©æ‰‹ï¼šæ ¹æ“šè¨­å‚™é™åˆ¶æ•¸æ“šé‡
        function getOptimizedTableData(table) {
            const isMobile = window.innerWidth <= 768;
            const maxRows = isMobile ? 50 : 500;
            const displayData = table.data.slice(0, maxRows);
            const hasMore = table.data.length > maxRows;

            return {
                columns: table.columns,
                data: displayData,
                totalRows: table.data.length,
                displayRows: displayData.length,
                hasMore: hasMore,
                isMobile: isMobile,
                maxRows: maxRows
            };
        }

        // æ ¹æ“šé¡å‹æ¸²æŸ“è¡¨æ ¼
        function renderTableByType(table, type) {
            switch(type) {
                case 'partitioned':
                    return renderPartitionedTable(table);
                case 'clustered':
                    return renderClusteredTable(table);
                case 'iot':
                    return renderIOTTable(table);
                case 'external':
                    return renderExternalTable(table);
                case 'temporary':
                    return renderTemporaryTable(table);
                case 'nested':
                    return renderNestedTable(table);
                case 'object':
                    return renderObjectTable(table);
                case 'blockchain':
                    return renderBlockchainTable(table);
                default:
                    return renderStandardTableView(table);
            }
        }

        // å„ªåŒ–çš„è¡¨æ ¼åˆ‡æ›å‡½æ•¸
        function switchTableTypeOptimized(element, type, tableId) {
            try {
                // å¾å…§å­˜ç·©å­˜ä¸­ç²å–è¡¨æ ¼æ•¸æ“šï¼Œè€Œä¸æ˜¯å¾DOMè§£æJSON
                const table = window.tableDataCache && window.tableDataCache[tableId];

                if (!table) {
                    console.error('æ‰¾ä¸åˆ°è¡¨æ ¼æ•¸æ“š');
                    return;
                }

                currentTableType = type;

                // æ‰¾åˆ°å°æ‡‰çš„å…§å®¹å®¹å™¨
                const content = document.getElementById(tableId);

                if (content) {
                    // ä½¿ç”¨ requestAnimationFrame å„ªåŒ–æ¸²æŸ“
                    requestAnimationFrame(() => {
                        content.innerHTML = renderTableByType(table, type);
                    });

                    // æ›´æ–°æ¨™ç±¤æ´»å‹•ç‹€æ…‹
                    const switcher = element.closest('.table-type-switcher');
                    const allTabs = switcher.querySelectorAll('.table-type-tab');
                    allTabs.forEach(tab => {
                        tab.classList.remove('active');
                    });
                    element.classList.add('active');
                }
            } catch (error) {
                console.error('åˆ‡æ›è¡¨æ ¼é¡å‹æ™‚å‡ºéŒ¯:', error);
            }
        }

        // åˆ‡æ›è¡¨æ ¼é¡å‹ï¼ˆå¾å…ƒç´ èª¿ç”¨ï¼‰- ä¿ç•™èˆŠç‰ˆå…¼å®¹æ€§
        function switchTableTypeFromElement(element, type) {
            try {
                const tableData = element.getAttribute('data-table');
                const table = JSON.parse(tableData);
                currentTableType = type;

                // æ‰¾åˆ°å°æ‡‰çš„ tableTypeContent
                const switcher = element.closest('.table-type-switcher');
                const content = switcher.querySelector('.table-type-content');

                if (content) {
                    requestAnimationFrame(() => {
                        content.innerHTML = renderTableByType(table, type);
                    });

                    // æ›´æ–°æ¨™ç±¤æ´»å‹•ç‹€æ…‹
                    const allTabs = switcher.querySelectorAll('.table-type-tab');
                    allTabs.forEach(tab => {
                        tab.classList.remove('active');
                    });
                    element.classList.add('active');
                }
            } catch (error) {
                console.log('åˆ‡æ›è¡¨æ ¼é¡å‹æ™‚å‡ºéŒ¯:', error);
            }
        }

        // åˆ‡ã€è¡¨æ ¼é¡å‹ï¼ˆèˆŠç‰ˆæœ¬ï¼Œä¿ç•™å…¼å®¹æ€§ï¼‰
        function switchTableType(type, table) {
            currentTableType = type;
            const content = document.getElementById('tableTypeContent');
            if (content) {
                content.innerHTML = renderTableByType(table, type);

                // æ›´æ–°æ¨™ç±¤æ´»å‹•ç‹€æ…‹
                document.querySelectorAll('.table-type-tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                if (typeof event !== 'undefined' && event.target) {
                    event.target.closest('.table-type-tab').classList.add('active');
                }
            }
        }

        // æ¨™æº–è¡¨æ ¼è¦–åœ–
        function renderStandardTableView(table) {
            let html = `<div style="padding: 10px;">`;
            html += `<h4 style="color: var(--text-secondary); margin-bottom: 15px;">ğŸ“Š æ¨™æº–è¡¨æ ¼æ ¼å¼</h4>`;

            // æ€§èƒ½å„ªåŒ–ï¼šæ‰‹æ©Ÿç‰ˆé™åˆ¶é¡¯ç¤ºè¡Œæ•¸
            const isMobile = window.innerWidth <= 768;
            const maxRows = isMobile ? 50 : 500; // æ‰‹æ©Ÿç‰ˆé¡¯ç¤º50è¡Œï¼Œæ¡Œé¢ç‰ˆé¡¯ç¤º500è¡Œ
            const displayData = table.data.slice(0, maxRows);
            const hasMore = table.data.length > maxRows;

            html += `<div style="overflow-x: auto;">`;
            html += `<table class="data-table">`;
            html += `<thead><tr>`;
            table.columns.forEach(col => {
                html += `<th>${col}</th>`;
            });
            html += `</tr></thead>`;
            html += `<tbody>`;
            if (displayData.length > 0) {
                displayData.forEach(row => {
                    html += `<tr>`;
                    row.forEach(cell => {
                        html += `<td>${cell}</td>`;
                    });
                    html += `</tr>`;
                });
            }
            html += `</tbody></table>`;

            if (hasMore) {
                html += `<div style="padding: 10px; text-align: center; color: var(--text-secondary); font-size: 0.9rem;">`;
                html += `<i class="fas fa-info-circle"></i> é¡¯ç¤ºå‰ ${maxRows} ç­†ï¼Œå…± ${table.data.length} ç­†è¨˜éŒ„`;
                html += `</div>`;
            }

            html += `</div></div>`;
            return html;
        }

        // åˆ†å‰²å€è¡¨
        function renderPartitionedTable(table) {
            let html = `<div class="partitioned-table-container">`;
            html += `<h4 style="color: var(--success); margin-bottom: 15px;">ğŸ“¦ åˆ†å‰²å€è¡¨æ ¼å¼</h4>`;

            // æ€§èƒ½å„ªåŒ–ï¼šæ‰‹æ©Ÿç‰ˆé™åˆ¶æ•¸æ“šé‡
            const isMobile = window.innerWidth <= 768;
            const maxRows = isMobile ? 50 : 500;
            const displayData = table.data.slice(0, maxRows);

            // æ ¹æ“šç¬¬ä¸€åˆ—é€²è¡Œåˆ†å€ï¼ˆç¤ºä¾‹é‚è¼¯ï¼‰
            const partitions = {};
            displayData.forEach((row, idx) => {
                const partitionKey = row[0] ? String(row[0]).charAt(0).toUpperCase() : 'Other';
                if (!partitions[partitionKey]) {
                    partitions[partitionKey] = [];
                }
                partitions[partitionKey].push(row);
            });

            Object.keys(partitions).forEach(partKey => {
                html += `<div class="partition-block">`;
                html += `<div class="partition-header"><i class="fas fa-layer-group"></i> åˆ†å€: ${partKey}</div>`;
                html += `<table class="data-table">`;
                html += `<thead><tr>`;
                table.columns.forEach(col => {
                    html += `<th>${col}</th>`;
                });
                html += `</tr></thead>`;
                html += `<tbody>`;
                partitions[partKey].forEach(row => {
                    html += `<tr>`;
                    row.forEach(cell => {
                        html += `<td>${cell}</td>`;
                    });
                    html += `</tr>`;
                });
                html += `</tbody></table>`;
                html += `</div>`;
            });

            html += `</div>`;
            return html;
        }

        // å¢é›†è¡¨
        function renderClusteredTable(table) {
            const optimized = getOptimizedTableData(table);

            let html = `<div>`;
            html += `<h4 style="color: var(--warning); margin-bottom: 15px;">ğŸ—‚ï¸ å¢é›†è¡¨æ ¼å¼</h4>`;
            html += `<div style="margin-bottom: 10px;"><span class="cluster-key-indicator">ğŸ”‘ å¢é›†éµ: ${optimized.columns[0]}</span></div>`;
            html += `<div style="overflow-x: auto;">`;
            html += `<table class="data-table clustered-table">`;
            html += `<thead><tr>`;
            optimized.columns.forEach((col, idx) => {
                html += `<th>${col} ${idx === 0 ? '<i class="fas fa-key"></i>' : ''}</th>`;
            });
            html += `</tr></thead>`;
            html += `<tbody>`;
            optimized.data.forEach(row => {
                html += `<tr>`;
                row.forEach(cell => {
                    html += `<td>${cell}</td>`;
                });
                html += `</tr>`;
            });
            html += `</tbody></table>`;

            if (optimized.hasMore) {
                html += `<div style="padding: 10px; text-align: center; color: var(--text-secondary); font-size: 0.9rem;">`;
                html += `<i class="fas fa-info-circle"></i> é¡¯ç¤ºå‰ ${optimized.maxRows} ç­†ï¼Œå…± ${optimized.totalRows} ç­†è¨˜éŒ„`;
                html += `</div>`;
            }

            html += `</div></div>`;
            return html;
        }

        // ç´¢å¼•çµ„ç¹”è¡¨
        function renderIOTTable(table) {
            const optimized = getOptimizedTableData(table);

            let html = `<div>`;
            html += `<h4 style="color: var(--info); margin-bottom: 15px;">ğŸ”‘ ç´¢å¼•çµ„ç¹”è¡¨æ ¼å¼</h4>`;
            html += `<div style="overflow-x: auto; position: relative; padding-left: 30px;">`;
            html += `<table class="data-table iot-table">`;
            html += `<thead><tr>`;
            optimized.columns.forEach(col => {
                html += `<th>${col}</th>`;
            });
            html += `</tr></thead>`;
            html += `<tbody>`;
            optimized.data.forEach(row => {
                html += `<tr class="iot-row">`;
                row.forEach(cell => {
                    html += `<td>${cell}</td>`;
                });
                html += `</tr>`;
            });
            html += `</tbody></table>`;

            if (optimized.hasMore) {
                html += `<div style="padding: 10px; text-align: center; color: var(--text-secondary); font-size: 0.9rem;">`;
                html += `<i class="fas fa-info-circle"></i> é¡¯ç¤ºå‰ ${optimized.maxRows} ç­†ï¼Œå…± ${optimized.totalRows} ç­†è¨˜éŒ„`;
                html += `</div>`;
            }

            html += `</div></div>`;
            return html;
        }

        // å¤–éƒ¨è¡¨
        function renderExternalTable(table) {
            const optimized = getOptimizedTableData(table);

            let html = `<div class="external-table-container">`;
            html += `<h4 style="color: var(--error); margin-bottom: 15px;">ğŸ”— å¤–éƒ¨è¡¨æ ¼å¼</h4>`;
            html += `<div class="external-indicator"><i class="fas fa-external-link-alt"></i> å¤–éƒ¨æ•¸æ“šæºé€£æ¥</div>`;
            html += `<div style="overflow-x: auto;">`;
            html += `<table class="data-table">`;
            html += `<thead><tr>`;
            optimized.columns.forEach(col => {
                html += `<th>${col}</th>`;
            });
            html += `</tr></thead>`;
            html += `<tbody>`;
            optimized.data.forEach(row => {
                html += `<tr>`;
                row.forEach(cell => {
                    html += `<td>${cell}</td>`;
                });
                html += `</tr>`;
            });
            html += `</tbody></table>`;

            if (optimized.hasMore) {
                html += `<div style="padding: 10px; text-align: center; color: var(--text-secondary); font-size: 0.9rem;">`;
                html += `<i class="fas fa-info-circle"></i> é¡¯ç¤ºå‰ ${optimized.maxRows} ç­†ï¼Œå…± ${optimized.totalRows} ç­†è¨˜éŒ„`;
                html += `</div>`;
            }

            html += `</div></div>`;
            return html;
        }

        // è‡¨æ™‚è¡¨
        function renderTemporaryTable(table) {
            const optimized = getOptimizedTableData(table);

            let html = `<div class="temporary-table-container">`;
            html += `<div class="temp-indicator">â±ï¸ TEMP</div>`;
            html += `<h4 style="color: #9966ff; margin-bottom: 15px;">â° è‡¨æ™‚è¡¨æ ¼å¼</h4>`;
            html += `<div style="overflow-x: auto;">`;
            html += `<table class="data-table">`;
            html += `<thead><tr>`;
            optimized.columns.forEach(col => {
                html += `<th>${col}</th>`;
            });
            html += `</tr></thead>`;
            html += `<tbody>`;
            optimized.data.forEach(row => {
                html += `<tr>`;
                row.forEach(cell => {
                    html += `<td>${cell}</td>`;
                });
                html += `</tr>`;
            });
            html += `</tbody></table>`;

            if (optimized.hasMore) {
                html += `<div style="padding: 10px; text-align: center; color: var(--text-secondary); font-size: 0.9rem;">`;
                html += `<i class="fas fa-info-circle"></i> é¡¯ç¤ºå‰ ${optimized.maxRows} ç­†ï¼Œå…± ${optimized.totalRows} ç­†è¨˜éŒ„`;
                html += `</div>`;
            }

            html += `</div></div>`;
            return html;
        }

        // å·¢ç‹€è¡¨
        function renderNestedTable(table) {
            const optimized = getOptimizedTableData(table);

            let html = `<div class="nested-table-container">`;
            html += `<h4 style="color: var(--accent); margin-bottom: 15px;">ğŸŒ² å·¢ç‹€è¡¨æ ¼å¼</h4>`;

            // æ¯å…©è¡Œå‰µå»ºï¿½ï¿½ï¿½å€‹å·¢ç‹€çµæ§‹
            for (let i = 0; i < optimized.data.length; i += 2) {
                html += `<div style="margin-bottom: 15px;">`;
                html += `<div class="nested-indicator">ğŸ“ çˆ¶è¨˜éŒ„</div>`;
                html += `<table class="data-table" style="margin-bottom: 10px;">`;
                html += `<thead><tr>`;
                optimized.columns.forEach(col => {
                    html += `<th>${col}</th>`;
                });
                html += `</tr></thead>`;
                html += `<tbody><tr>`;
                optimized.data[i].forEach(cell => {
                    html += `<td>${cell}</td>`;
                });
                html += `</tr></tbody></table>`;

                if (i + 1 < optimized.data.length) {
                    html += `<div class="nested-table">`;
                    html += `<div class="nested-indicator">â””â”€ å­è¨˜éŒ„</div>`;
                    html += `<table class="data-table">`;
                    html += `<thead><tr>`;
                    optimized.columns.forEach(col => {
                        html += `<th>${col}</th>`;
                    });
                    html += `</tr></thead>`;
                    html += `<tbody><tr>`;
                    optimized.data[i + 1].forEach(cell => {
                        html += `<td>${cell}</td>`;
                    });
                    html += `</tr></tbody></table>`;
                    html += `</div>`;
                }
                html += `</div>`;
            }

            if (optimized.hasMore) {
                html += `<div style="padding: 10px; text-align: center; color: var(--text-secondary); font-size: 0.9rem;">`;
                html += `<i class="fas fa-info-circle"></i> é¡¯ç¤ºå‰ ${optimized.maxRows} ç­†ï¼Œå…± ${optimized.totalRows} ç­†è¨˜éŒ„`;
                html += `</div>`;
            }

            html += `</div>`;
            return html;
        }

        // ç‰©ä»¶è¡¨
        function renderObjectTable(table) {
            const optimized = getOptimizedTableData(table);

            let html = `<div class="object-table-container">`;
            html += `<h4 style="color: var(--accent); margin-bottom: 15px;">ğŸ“¦ ç‰©ä»¶è¡¨æ ¼å¼</h4>`;

            optimized.data.forEach((row, idx) => {
                html += `<div style="margin-bottom: 20px; padding: 15px; background: rgba(0, 0, 0, 0.2); border-radius: 8px;">`;
                html += `<div style="font-weight: 600; color: var(--accent); margin-bottom: 10px;">ç‰©ä»¶ #${idx + 1}</div>`;
                row.forEach((cell, cellIdx) => {
                    html += `<div class="object-field">`;
                    html += `<span style="color: var(--warning);">${optimized.columns[cellIdx]}:</span> `;
                    html += `<span style="color: var(--text-primary);">${cell}</span>`;
                    html += `</div>`;
                });
                html += `</div>`;
            });

            if (optimized.hasMore) {
                html += `<div style="padding: 10px; text-align: center; color: var(--text-secondary); font-size: 0.9rem;">`;
                html += `<i class="fas fa-info-circle"></i> é¡¯ç¤ºå‰ ${optimized.maxRows} ç­†ï¼Œå…± ${optimized.totalRows} ç­†è¨˜éŒ„`;
                html += `</div>`;
            }

            html += `</div>`;
            return html;
        }

        // å€å¡Šéˆè¡¨
        function renderBlockchainTable(table) {
            const optimized = getOptimizedTableData(table);

            let html = `<div class="blockchain-table-container">`;
            html += `<h4 style="color: var(--secondary); margin-bottom: 15px;">â›“ï¸ å€å¡Šéˆè¡¨æ ¼å¼</h4>`;

            optimized.data.forEach((row, idx) => {
                // ç”Ÿæˆç°¡å–®çš„å“ˆå¸Œå€¼
                const hash = 'Hash: 0x' + Math.random().toString(16).substr(2, 16);
                const prevHash = idx > 0 ? '0x' + Math.random().toString(16).substr(2, 16) : '0x0000000000000000';

                html += `<div class="blockchain-block">`;
                html += `<div style="font-weight: 600; color: var(--secondary); margin-bottom: 10px;">å€å¡Š #${idx + 1}</div>`;
                html += `<table class="data-table">`;
                html += `<thead><tr>`;
                optimized.columns.forEach(col => {
                    html += `<th>${col}</th>`;
                });
                html += `</tr></thead>`;
                html += `<tbody><tr>`;
                row.forEach(cell => {
                    html += `<td>${cell}</td>`;
                });
                html += `</tr></tbody></table>`;
                html += `<div class="blockchain-hash">å‰ä¸€å€‹å€å¡Š: ${prevHash}</div>`;
                html += `<div class="blockchain-hash">ç•¶å‰å€å¡Š: ${hash}</div>`;
                html += `</div>`;
            });

            if (optimized.hasMore) {
                html += `<div style="padding: 10px; text-align: center; color: var(--text-secondary); font-size: 0.9rem;">`;
                html += `<i class="fas fa-info-circle"></i> é¡¯ç¤ºå‰ ${optimized.maxRows} ç­†ï¼Œå…± ${optimized.totalRows} ç­†è¨˜éŒ„`;
                html += `</div>`;
            }

            html += `</div>`;
            return html;
        }

        // é¡¯ç¤ºè³‡æ–™è¡¨
        function showTables() {
            let html = `<h3>è³‡æ–™åº«ä¸­çš„è³‡æ–™è¡¨</h3>`;
            html += `<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">`;

            for (const tableName in currentDatabase) {
                const table = currentDatabase[tableName];
                html += `
                    <div class="card" style="padding: 20px; cursor: pointer;" onclick="document.getElementById('sqlInput').value='SELECT * FROM ${tableName};'; executeSQL();">
                        <h4><i class="fas fa-table"></i> ${tableName.toUpperCase()}</h4>
                        <p style="color: var(--text-secondary); margin-top: 10px;">æ¬„ä½: ${table.columns.join(', ')}</p>
                        <p style="color: var(--text-muted); font-size: 14px;">${table.data.length} ç­†è¨˜éŒ„</p>
                    </div>
                `;
            }

            html += `</div>`;
            output.innerHTML = html;
        }

        // é¡¯ç¤ºè³‡æ–™åº«è³‡è¨Š
        function renderDatabaseInfo() {
            let html = `<h3 style="color: var(--accent); margin-bottom: 20px;"><i class="fas fa-database"></i> è³‡æ–™åº«å®Œæ•´è³‡è¨Š (Oracle Database Objects)</h3>`;

            // è³‡æ–™è¡¨ (Tables)
            html += `<div style="margin-bottom: 25px;">`;
            html += `<h4 style="color: var(--secondary); border-bottom: 2px solid var(--border-color); padding-bottom: 8px; margin-bottom: 15px;">
                <i class="fas fa-table"></i> è³‡æ–™è¡¨ (Tables) - ${Object.keys(currentDatabase).length} å€‹
            </h4>`;
            html += `<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px;">`;

            for (const tableName in currentDatabase) {
                const table = currentDatabase[tableName];
                html += `
                    <div class="card" style="padding: 15px; background: rgba(0,168,255,0.05);">
                        <h5 style="color: var(--accent); margin-bottom: 8px;"><i class="fas fa-table"></i> ${tableName}</h5>
                        <div style="color: var(--text-secondary); font-size: 13px;">
                            <div>æ¬„ä½æ•¸: ${table.columns.length}</div>
                            <div>è¨˜éŒ„æ•¸: ${table.data.length}</div>
                        </div>
                    </div>
                `;
            }
            html += `</div></div>`;

            // è¦–åœ– (Views)
            const viewCount = Object.keys(databaseMetadata.views).length;
            if (viewCount > 0) {
                html += `<div style="margin-bottom: 25px;">`;
                html += `<h4 style="color: var(--secondary); border-bottom: 2px solid var(--border-color); padding-bottom: 8px; margin-bottom: 15px;">
                    <i class="fas fa-eye"></i> è¦–åœ– (Views) - ${viewCount} å€‹
                </h4>`;
                html += `<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 15px;">`;
                for (const viewName in databaseMetadata.views) {
                    const view = databaseMetadata.views[viewName];
                    html += `
                        <div class="card" style="padding: 15px; background: rgba(0,204,136,0.05);">
                            <h5 style="color: var(--success);"><i class="fas fa-eye"></i> ${viewName}</h5>
                            <div style="color: var(--text-secondary); font-size: 12px; margin-top: 8px;">
                                æŸ¥è©¢: ${view.query.substring(0, 50)}...
                            </div>
                        </div>
                    `;
                }
                html += `</div></div>`;
            }

            // åºåˆ— (Sequences)
            const seqCount = Object.keys(databaseMetadata.sequences).length;
            if (seqCount > 0) {
                html += `<div style="margin-bottom: 25px;">`;
                html += `<h4 style="color: var(--secondary); border-bottom: 2px solid var(--border-color); padding-bottom: 8px; margin-bottom: 15px;">
                    <i class="fas fa-sort-numeric-up"></i> åºåˆ— (Sequences) - ${seqCount} å€‹
                </h4>`;
                html += `<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px;">`;
                for (const seqName in databaseMetadata.sequences) {
                    const seq = databaseMetadata.sequences[seqName];
                    html += `
                        <div class="card" style="padding: 15px; background: rgba(255,204,0,0.05);">
                            <h5 style="color: var(--warning);"><i class="fas fa-sort-numeric-up"></i> ${seqName}</h5>
                            <div style="color: var(--text-secondary); font-size: 13px; margin-top: 8px;">
                                <div>ç•¶å‰å€¼: ${seq.currentValue}</div>
                                <div>å¢é‡: ${seq.incrementBy}</div>
                            </div>
                        </div>
                    `;
                }
                html += `</div></div>`;
            }

            // ç´¢å¼• (Indexes)
            const indexCount = Object.values(databaseMetadata.indexes).reduce((sum, tbl) => sum + Object.keys(tbl).length, 0);
            if (indexCount > 0) {
                html += `<div style="margin-bottom: 25px;">`;
                html += `<h4 style="color: var(--secondary); border-bottom: 2px solid var(--border-color); padding-bottom: 8px; margin-bottom: 15px;">
                    <i class="fas fa-search"></i> ç´¢å¼• (Indexes) - ${indexCount} å€‹
                </h4>`;
                html += `<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px;">`;
                for (const tableName in databaseMetadata.indexes) {
                    for (const indexName in databaseMetadata.indexes[tableName]) {
                        const index = databaseMetadata.indexes[tableName][indexName];
                        html += `
                            <div class="card" style="padding: 15px; background: rgba(51,153,255,0.05);">
                                <h5 style="color: var(--info);"><i class="fas fa-search"></i> ${indexName}</h5>
                                <div style="color: var(--text-secondary); font-size: 13px; margin-top: 8px;">
                                    <div>è¡¨: ${tableName}</div>
                                    <div>æ¬„ä½: ${index.columns.join(', ')}</div>
                                    <div>é¡å‹: ${index.type}</div>
                                </div>
                            </div>
                        `;
                    }
                }
                html += `</div></div>`;
            }

            // å­˜å„²éç¨‹å’Œå‡½æ•¸ (Procedures & Functions)
            const procCount = Object.keys(databaseMetadata.procedures).length;
            if (procCount > 0) {
                html += `<div style="margin-bottom: 25px;">`;
                html += `<h4 style="color: var(--secondary); border-bottom: 2px solid var(--border-color); padding-bottom: 8px; margin-bottom: 15px;">
                    <i class="fas fa-code"></i> å­˜å„²éç¨‹èˆ‡å‡½æ•¸ (Procedures & Functions) - ${procCount} å€‹
                </h4>`;
                html += `<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px;">`;
                for (const procName in databaseMetadata.procedures) {
                    const proc = databaseMetadata.procedures[procName];
                    html += `
                        <div class="card" style="padding: 15px; background: rgba(138,43,226,0.05);">
                            <h5 style="color: #8a2be2;"><i class="fas fa-code"></i> ${procName}</h5>
                            <div style="color: var(--text-secondary); font-size: 13px; margin-top: 8px;">
                                <div>é¡å‹: ${proc.type}</div>
                                ${proc.returnType ? `<div>è¿”å›: ${proc.returnType}</div>` : ''}
                            </div>
                        </div>
                    `;
                }
                html += `</div></div>`;
            }

            // è§¸ç™¼å™¨ (Triggers)
            const triggerCount = Object.values(databaseMetadata.triggers).reduce((sum, tbl) => sum + Object.keys(tbl).length, 0);
            if (triggerCount > 0) {
                html += `<div style="margin-bottom: 25px;">`;
                html += `<h4 style="color: var(--secondary); border-bottom: 2px solid var(--border-color); padding-bottom: 8px; margin-bottom: 15px;">
                    <i class="fas fa-bolt"></i> è§¸ç™¼å™¨ (Triggers) - ${triggerCount} å€‹
                </h4>`;
                html += `<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px;">`;
                for (const tableName in databaseMetadata.triggers) {
                    for (const trigName in databaseMetadata.triggers[tableName]) {
                        const trigger = databaseMetadata.triggers[tableName][trigName];
                        html += `
                            <div class="card" style="padding: 15px; background: rgba(255,99,71,0.05);">
                                <h5 style="color: #ff6347;"><i class="fas fa-bolt"></i> ${trigName}</h5>
                                <div style="color: var(--text-secondary); font-size: 13px; margin-top: 8px;">
                                    <div>è¡¨: ${tableName}</div>
                                    <div>æ™‚æ©Ÿ: ${trigger.timing}</div>
                                    <div>äº‹ä»¶: ${trigger.events.join(', ')}</div>
                                </div>
                            </div>
                        `;
                    }
                }
                html += `</div></div>`;
            }

            // åŒ… (Packages)
            const pkgCount = Object.keys(databaseMetadata.packages).length;
            if (pkgCount > 0) {
                html += `<div style="margin-bottom: 25px;">`;
                html += `<h4 style="color: var(--secondary); border-bottom: 2px solid var(--border-color); padding-bottom: 8px; margin-bottom: 15px;">
                    <i class="fas fa-box"></i> åŒ… (Packages) - ${pkgCount} å€‹
                </h4>`;
                html += `<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px;">`;
                for (const pkgName in databaseMetadata.packages) {
                    const pkg = databaseMetadata.packages[pkgName];
                    html += `
                        <div class="card" style="padding: 15px; background: rgba(255,165,0,0.05);">
                            <h5 style="color: #ffa500;"><i class="fas fa-box"></i> ${pkgName}</h5>
                            <div style="color: var(--text-secondary); font-size: 13px; margin-top: 8px;">
                                <div>é¡å‹: PACKAGE</div>
                            </div>
                        </div>
                    `;
                }
                html += `</div></div>`;
            }

            // åŒç¾©è© (Synonyms)
            const synCount = Object.keys(databaseMetadata.synonyms).length;
            if (synCount > 0) {
                html += `<div style="margin-bottom: 25px;">`;
                html += `<h4 style="color: var(--secondary); border-bottom: 2px solid var(--border-color); padding-bottom: 8px; margin-bottom: 15px;">
                    <i class="fas fa-link"></i> åŒç¾©è© (Synonyms) - ${synCount} å€‹
                </h4>`;
                html += `<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px;">`;
                for (const synName in databaseMetadata.synonyms) {
                    const syn = databaseMetadata.synonyms[synName];
                    html += `
                        <div class="card" style="padding: 15px; background: rgba(0,255,255,0.05);">
                            <h5 style="color: #00ffff;"><i class="fas fa-link"></i> ${synName}</h5>
                            <div style="color: var(--text-secondary); font-size: 13px; margin-top: 8px;">
                                <div>ç›®æ¨™: ${syn.target}</div>
                                <div>é¡å‹: ${syn.isPublic ? 'PUBLIC' : 'PRIVATE'}</div>
                            </div>
                        </div>
                    `;
                }
                html += `</div></div>`;
            }

            return html;
        }

        // æ›´æ–°è¡¨æ ¼é è¦½
        function updateTablePreview() {
            const previewContent = document.getElementById('tablePreviewContent');
            const previewBadge = document.getElementById('tablePreviewBadge');
            const previewTableName = document.getElementById('previewTableName');
            const previewContainer = document.getElementById('tablePreview');

            // ç²å–æ‰€æœ‰è¡¨æ ¼ï¼Œå„ªå…ˆé¡¯ç¤ºæœ‰æ•¸æ“šçš„è¡¨
            const tableEntries = Object.entries(currentDatabase);

            // æ’åºï¼šæœ‰æ•¸æ“šçš„è¡¨æ’åœ¨å‰é¢
            tableEntries.sort(([nameA, tableA], [nameB, tableB]) => {
                if (tableA.data.length > 0 && tableB.data.length === 0) return -1;
                if (tableA.data.length === 0 && tableB.data.length > 0) return 1;
                return 0;
            });

            // é¸æ“‡è¦é¡¯ç¤ºçš„è¡¨ï¼ˆæœ‰æ•¸æ“šçš„è¡¨å„ªå…ˆï¼Œå¦å‰‡é¡¯ç¤ºæœ€å¾Œå‰µå»ºçš„è¡¨ï¼‰
            let latestTable = null;
            let latestTableName = null;

            if (tableEntries.length > 0) {
                [latestTableName, latestTable] = tableEntries[0];
            }

            if (latestTable && latestTableName) {
                // é¡¯ç¤ºè¡¨æ ¼é è¦½
                previewContainer.classList.add('has-data');
                previewBadge.style.display = 'flex';
                previewTableName.textContent = latestTableName.toUpperCase();

                let html = `
                    <div style="margin-bottom: 15px;">
                        <span class="table-info-badge">
                            <i class="fas fa-database"></i>
                            è³‡æ–™è¡¨åç¨±: ${latestTableName.toUpperCase()}
                        </span>
                        <span class="table-info-badge" style="margin-left: 10px;">
                            <i class="fas fa-columns"></i>
                            æ¬„ä½æ•¸: ${latestTable.columns.length}
                        </span>
                        <span class="table-info-badge" style="margin-left: 10px; ${latestTable.data.length > 0 ? 'background: rgba(0, 204, 136, 0.15); color: var(--success);' : 'background: rgba(255, 204, 0, 0.15); color: var(--warning);'}">
                            <i class="fas fa-list"></i>
                            è³‡æ–™ç­†æ•¸: ${latestTable.data.length}
                        </span>
                        <span class="table-info-badge" style="margin-left: 10px; background: rgba(0, 168, 255, 0.15); color: var(--secondary);">
                            <i class="fas fa-layer-group"></i>
                            æ¨¡å‹: ${dataModels[currentDataModel].name}
                        </span>
                    </div>
                `;

                // æ ¹æ“šç•¶å‰æ•¸æ“šæ¨¡å‹é¸æ“‡é¡¯ç¤ºæ ¼å¼
                html += renderTableByModel(latestTableName, latestTable, currentDataModel);

                previewContent.innerHTML = html;
            } else {
                // æ²’æœ‰è¡¨æ ¼æ™‚é¡¯ç¤ºç©ºç‹€æ…‹
                previewContainer.classList.remove('has-data');
                previewBadge.style.display = 'none';
                previewContent.innerHTML = `
                    <div class="table-preview-empty">
                        <i class="fas fa-inbox"></i>
                        <p>åŸ·è¡Œ CREATE TABLE æˆ– INSERT èªå¥å¾Œï¼Œé€™è£¡å°‡é¡¯ç¤ºè³‡æ–™è¡¨çš„å®Œæˆå“é è¦½</p>
                        <p style="font-size: 0.9rem; margin-top: 10px; opacity: 0.7;">å»ºè­°ï¼šå…ˆå‰µå»ºè¡¨æ ¼çµæ§‹ï¼Œå†æ’å…¥è³‡æ–™</p>
                    </div>
                `;
            }
        }

        // æ ¹æ“šä¸åŒæ•¸æ“šæ¨¡å‹æ¸²æŸ“è¡¨æ ¼
        function renderTableByModel(tableName, table, modelId) {
            switch(modelId) {
                case 'relational':
                    return renderModelRelationalView(tableName, table);
                case 'json':
                            borderColor = '#ffd700';
                    return renderModelJSONView(tableName, table);
                case 'xml':
                    return renderModelXMLView(tableName, table);
                case 'graph':
                            borderColor = '#00ffcc';
                    return renderModelGraphView(tableName, table);
                case 'spatial':
                            borderColor = '#99ff00';
                    return renderModelSpatialView(tableName, table);
                case 'blockchain':
                    return renderModelBlockchainView(tableName, table);
                case 'keyvalue':
                            borderColor = '#bb99ff';
                    return renderModelKeyValueView(tableName, table);
                case 'timeseries':
                            borderColor = '#ff6699';
                    return renderModelTimeSeriesView(tableName, table);
                case 'fulltext':
                    return renderModelFullTextView(tableName, table);
                case 'object':
                    return renderModelObjectView(tableName, table);
                case 'semistructured':
                    return renderModelSemiStructuredView(tableName, table);
                case 'streaming':
                    return renderModelStreamingView(tableName, table);
                case 'inmemory':
                    return renderModelInMemoryView(tableName, table);
                case 'distributed':
                    return renderModelDistributedView(tableName, table);
                case 'multitenant':
                    return renderModelMultiTenantView(tableName, table);
                default:
                    return renderModelRelationalView(tableName, table);
            }
        }

        // 1. é—œè¯å¼æ¨¡å‹ - æ¨™æº–è¡¨æ ¼æ ¼å¼
        function renderModelRelationalView(tableName, table) {
            let html = `<div style="overflow-x: auto; max-width: 100%; -webkit-overflow-scrolling: touch;">`;
            html += `<table class="preview-table" style="table-layout: auto; width: max-content; min-width: 100%;">`;

            html += `<thead><tr>`;
            html += `<th style="background: rgba(0, 168, 255, 0.2); text-align: center; min-width: 40px; width: 40px; font-weight: 700; position: sticky; left: 0; z-index: 10;">#</th>`;
            table.columns.forEach(col => {
                html += `<th style="min-width: 100px; white-space: nowrap; padding: 10px 8px;">${col.toUpperCase()}</th>`;
            });
            html += `</tr></thead>`;

            html += `<tbody>`;
            if (table.data.length > 0) {
                table.data.forEach((row, index) => {
                    html += `<tr>`;
                    html += `<td style="background: rgba(0, 168, 255, 0.05); text-align: center; font-weight: 600; color: var(--accent); position: sticky; left: 0; z-index: 9; padding: 8px 4px; width: 40px; min-width: 40px;">${index + 1}</td>`;
                    table.columns.forEach((col, colIndex) => {
                        const cellValue = row[colIndex];
                        let displayValue = cellValue === null || cellValue === undefined
                            ? '<span style="color: var(--text-muted); font-style: italic;">NULL</span>'
                            : String(cellValue);
                        html += `<td style="white-space: nowrap; padding: 8px;" title="${cellValue}">${displayValue}</td>`;
                    });
                    html += `</tr>`;
                });
            } else {
                html += `<tr><td colspan="${table.columns.length + 1}" style="text-align: center; color: var(--text-muted); padding: 20px; font-style: italic;">
                    <i class="fas fa-info-circle"></i> è³‡æ–™è¡¨å·²å‰µå»ºï¼Œä½†å°šæœªæ’å…¥ä»»ä½•è³‡æ–™
                </td></tr>`;
            }
            html += `</tbody></table></div>`;
            return html;
        }

        // 2. JSONæ–‡ä»¶æ¨¡å‹ - JSONæ ¼å¼åŒ–é¡¯ç¤º
        function renderModelJSONView(tableName, table) {
            let html = `<div style="overflow-x: auto; max-width: 100%; -webkit-overflow-scrolling: touch;">`;

            if (table.data.length > 0) {
                html += `<div style="background: rgba(16, 22, 36, 0.6); border-radius: 8px; padding: 15px; font-family: 'Courier New', monospace; font-size: 13px;">`;
                html += `<div style="color: var(--text-secondary); margin-bottom: 10px;"><i class="fas fa-code"></i> JSON æ–‡æª”è¦–åœ–</div>`;
                html += `<pre style="color: var(--accent); line-height: 1.6; margin: 0;">[`;

                table.data.forEach((row, index) => {
                    const jsonObj = {};
                    table.columns.forEach((col, colIndex) => {
                        jsonObj[col] = row[colIndex];
                    });
                    const jsonStr = JSON.stringify(jsonObj, null, 2).split('\n').map(line => '  ' + line).join('\n');
                    html += `\n${jsonStr}${index < table.data.length - 1 ? ',' : ''}`;
                });

                html += `\n]</pre></div>`;
            } else {
                html += `<div style="text-align: center; color: var(--text-muted); padding: 20px;">
                    <i class="fas fa-info-circle"></i> å°šç„¡ JSON æ–‡æª”
                </div>`;
            }
            html += `</div>`;
            return html;
        }

        // 3. åœ–å½¢è³‡æ–™åº« - ç¯€é»å’Œé‚Šçš„è¦–è¦ºåŒ–
        function renderModelGraphView(tableName, table) {
            let html = `<div style="overflow-x: auto; max-width: 100%; -webkit-overflow-scrolling: touch;">`;

            if (tableName.toLowerCase().includes('node') || table.columns.some(col => col.toLowerCase().includes('type'))) {
                // ç¯€é»è¦–åœ–
                html += `<div style="margin-bottom: 15px; color: var(--secondary);"><i class="fas fa-circle-nodes"></i> ç¯€é»è¦–åœ–</div>`;
                html += `<div style="display: flex; flex-wrap: wrap; gap: 15px;">`;

                table.data.forEach((row, index) => {
                    html += `<div style="background: rgba(0, 168, 255, 0.1); border: 2px solid var(--secondary); border-radius: 50%; width: 120px; height: 120px; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 10px; text-align: center;">`;
                    html += `<div style="font-size: 24px; margin-bottom: 5px;">ğŸ”µ</div>`;
                    html += `<div style="font-size: 12px; font-weight: 600; color: var(--text-primary);">${row[table.columns.indexOf('name')] || row[table.columns.indexOf('id')] || 'Node ' + (index + 1)}</div>`;
                    html += `<div style="font-size: 10px; color: var(--text-secondary);">${row[table.columns.indexOf('type')] || 'Node'}</div>`;
                    html += `</div>`;
                });

                html += `</div>`;
            } else if (tableName.toLowerCase().includes('edge') || table.columns.some(col => col.toLowerCase().includes('relationship'))) {
                // é‚Šè¦–åœ–
                html += `<div style="margin-bottom: 15px; color: var(--accent);"><i class="fas fa-arrow-right-arrow-left"></i> é—œä¿‚è¦–åœ–</div>`;
                html += `<table class="preview-table" style="width: 100%;">`;
                html += `<thead><tr>`;
                html += `<th style="text-align: center; padding: 10px;">èµ·å§‹ç¯€é»</th>`;
                html += `<th style="text-align: center; padding: 10px;">é—œä¿‚é¡å‹</th>`;
                html += `<th style="text-align: center; padding: 10px;">ç›®æ¨™ç¯€é»</th>`;
                html += `</tr></thead><tbody>`;

                table.data.forEach((row, index) => {
                    const fromIdx = table.columns.findIndex(col => col.toLowerCase().includes('from'));
                    const toIdx = table.columns.findIndex(col => col.toLowerCase().includes('to'));
                    const relIdx = table.columns.findIndex(col => col.toLowerCase().includes('relationship'));

                    html += `<tr>`;
                    html += `<td style="text-align: center; padding: 10px;"><div style="display: inline-block; background: rgba(0, 168, 255, 0.2); padding: 8px 15px; border-radius: 20px;">${row[fromIdx] || 'N/A'}</div></td>`;
                    html += `<td style="text-align: center; padding: 10px;"><i class="fas fa-arrow-right" style="color: var(--accent);"></i> ${row[relIdx] || 'LINK'}</td>`;
                    html += `<td style="text-align: center; padding: 10px;"><div style="display: inline-block; background: rgba(0, 255, 204, 0.2); padding: 8px 15px; border-radius: 20px;">${row[toIdx] || 'N/A'}</div></td>`;
                    html += `</tr>`;
                });

                html += `</tbody></table>`;
            } else {
                html += renderModelRelationalView(tableName, table);
            }

            html += `</div>`;
            return html;
        }

        // 4. å€å¡Šéˆæ¨¡å‹ - å€å¡Šéˆæ ¼å¼
        function renderModelBlockchainView(tableName, table) {
            let html = `<div style="overflow-x: auto; max-width: 100%; -webkit-overflow-scrolling: touch;">`;
            html += `<div style="margin-bottom: 15px; color: var(--accent);"><i class="fas fa-cubes"></i> å€å¡Šéˆè¦–åœ–ï¼ˆä¸å¯è®Šè¨˜éŒ„ï¼‰</div>`;

            if (table.data.length > 0) {
                html += `<div style="display: flex; flex-direction: column; gap: 15px;">`;

                table.data.forEach((row, index) => {
                    html += `<div style="background: linear-gradient(135deg, rgba(0, 168, 255, 0.1), rgba(0, 255, 204, 0.1)); border: 2px solid var(--border-color); border-radius: 12px; padding: 15px; position: relative;">`;
                    html += `<div style="position: absolute; top: -12px; left: 15px; background: var(--card-bg); padding: 5px 15px; border-radius: 20px; border: 2px solid var(--accent); font-weight: 600; color: var(--accent);">å€å¡Š #${index + 1}</div>`;
                    html += `<div style="margin-top: 15px; display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px;">`;

                    table.columns.forEach((col, colIndex) => {
                        html += `<div>`;
                        html += `<div style="font-size: 11px; color: var(--text-muted); margin-bottom: 3px;">${col.toUpperCase()}</div>`;
                        html += `<div style="font-size: 13px; color: var(--text-primary); font-weight: 500;">${row[colIndex] || 'N/A'}</div>`;
                        html += `</div>`;
                    });

                    html += `</div>`;
                    html += `<div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid rgba(0, 168, 255, 0.2); font-size: 11px; color: var(--text-muted);">`;
                    html += `<i class="fas fa-lock"></i> æ­¤å€å¡Šå·²åŠ å¯†ä¸¦é–å®šï¼Œç„¡æ³•ä¿®æ”¹`;
                    html += `</div>`;
                    html += `</div>`;

                    if (index < table.data.length - 1) {
                        html += `<div style="text-align: center; color: var(--accent); font-size: 20px;"><i class="fas fa-link"></i></div>`;
                    }
                });

                html += `</div>`;
            } else {
                html += `<div style="text-align: center; color: var(--text-muted); padding: 20px;">
                    <i class="fas fa-info-circle"></i> å°šç„¡å€å¡Šè¨˜éŒ„
                </div>`;
            }

            html += `</div>`;
            return html;
        }

        // 5. ç©ºé–“è³‡æ–™æ¨¡å‹ - åœ°åœ–å¼è¦–åœ–
        function renderModelSpatialView(tableName, table) {
            let html = `<div style="overflow-x: auto; max-width: 100%; -webkit-overflow-scrolling: touch;">`;
            html += `<div style="margin-bottom: 15px; color: var(--info);"><i class="fas fa-map-marked-alt"></i> ç©ºé–“è³‡æ–™è¦–åœ–</div>`;

            if (table.data.length > 0) {
                const hasLatLon = table.columns.some(col => col.toLowerCase().includes('lat')) &&
                                 table.columns.some(col => col.toLowerCase().includes('lon'));

                if (hasLatLon) {
                    // åœ°åœ–æ¨™è¨˜è¦–åœ–
                    html += `<div style="background: rgba(16, 22, 36, 0.6); border-radius: 12px; padding: 20px; min-height: 200px; position: relative;">`;
                    html += `<div style="display: flex; flex-wrap: wrap; gap: 15px; justify-content: center;">`;

                    table.data.forEach((row, index) => {
                        const nameIdx = table.columns.findIndex(col => col.toLowerCase().includes('name'));
                        const latIdx = table.columns.findIndex(col => col.toLowerCase().includes('lat'));
                        const lonIdx = table.columns.findIndex(col => col.toLowerCase().includes('lon'));

                        html += `<div style="background: rgba(0, 168, 255, 0.15); border: 2px solid var(--info); border-radius: 12px; padding: 15px; min-width: 200px; text-align: center;">`;
                        html += `<div style="font-size: 32px; margin-bottom: 10px;">ğŸ“</div>`;
                        html += `<div style="font-weight: 600; color: var(--text-primary); margin-bottom: 8px;">${row[nameIdx] || 'ä½ç½® ' + (index + 1)}</div>`;
                        html += `<div style="font-size: 12px; color: var(--text-secondary);">`;
                        html += `<div>ç·¯åº¦: ${row[latIdx] || 'N/A'}Â°</div>`;
                        html += `<div>ç¶“åº¦: ${row[lonIdx] || 'N/A'}Â°</div>`;
                        html += `</div>`;
                        html += `</div>`;
                    });

                    html += `</div></div>`;
                } else {
                    html += renderModelRelationalView(tableName, table);
                }
            } else {
                html += `<div style="text-align: center; color: var(--text-muted); padding: 20px;">
                    <i class="fas fa-info-circle"></i> å°šç„¡ç©ºé–“è³‡æ–™
                </div>`;
            }

            html += `</div>`;
            return html;
        }

        // 6. æ™‚é–“åºåˆ—æ¨¡å‹ - æ™‚é–“ç·šè¦–åœ–
        function renderModelTimeSeriesView(tableName, table) {
            let html = `<div style="overflow-x: auto; max-width: 100%; -webkit-overflow-scrolling: touch;">`;
            html += `<div style="margin-bottom: 15px; color: var(--success);"><i class="fas fa-chart-line"></i> æ™‚é–“åºåˆ—è¦–åœ–</div>`;

            if (table.data.length > 0) {
                const timestampIdx = table.columns.findIndex(col =>
                    col.toLowerCase().includes('time') || col.toLowerCase().includes('date')
                );

                html += `<div style="background: rgba(16, 22, 36, 0.6); border-radius: 12px; padding: 20px;">`;
                html += `<div style="position: relative; padding-left: 40px;">`;

                table.data.forEach((row, index) => {
                    html += `<div style="position: relative; margin-bottom: 25px; padding-left: 25px; border-left: 3px solid var(--success);">`;
                    html += `<div style="position: absolute; left: -9px; top: 5px; width: 15px; height: 15px; background: var(--success); border-radius: 50%; box-shadow: 0 0 10px var(--success);"></div>`;

                    html += `<div style="background: rgba(0, 204, 136, 0.1); border: 1px solid rgba(0, 204, 136, 0.3); border-radius: 8px; padding: 12px;">`;
                    html += `<div style="font-size: 11px; color: var(--success); margin-bottom: 8px; font-weight: 600;">`;
                    html += `<i class="fas fa-clock"></i> ${timestampIdx >= 0 ? row[timestampIdx] : 'æ™‚é–“é» ' + (index + 1)}`;
                    html += `</div>`;

                    html += `<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px;">`;
                    table.columns.forEach((col, colIdx) => {
                        if (colIdx !== timestampIdx) {
                            html += `<div>`;
                            html += `<div style="font-size: 10px; color: var(--text-muted);">${col.toUpperCase()}</div>`;
                            html += `<div style="font-size: 14px; color: var(--text-primary); font-weight: 500;">${row[colIdx] || 'N/A'}</div>`;
                            html += `</div>`;
                        }
                    });
                    html += `</div>`;
                    html += `</div>`;
                    html += `</div>`;
                });

                html += `</div></div>`;
            } else {
                html += `<div style="text-align: center; color: var(--text-muted); padding: 20px;">
                    <i class="fas fa-info-circle"></i> å°šç„¡æ™‚é–“åºåˆ—è³‡æ–™
                </div>`;
            }

            html += `</div>`;
            return html;
        }

        // 7. XMLæ¨¡å‹ - XMLæ ¼å¼åŒ–é¡¯ç¤º
        function renderModelXMLView(tableName, table) {
            let html = `<div style="overflow-x: auto; max-width: 100%; -webkit-overflow-scrolling: touch;">`;

            if (table.data.length > 0) {
                html += `<div style="background: rgba(16, 22, 36, 0.6); border-radius: 8px; padding: 15px; font-family: 'Courier New', monospace; font-size: 13px;">`;
                html += `<div style="color: var(--text-secondary); margin-bottom: 10px;"><i class="fas fa-code"></i> XML æ–‡æª”è¦–åœ–</div>`;
                html += `<pre style="color: var(--accent); line-height: 1.6; margin: 0;">&lt;documents&gt;`;

                table.data.forEach((row, index) => {
                    html += `\n  &lt;document id="${index + 1}"&gt;`;
                    table.columns.forEach((col, colIndex) => {
                        const value = row[colIndex] || '';
                        html += `\n    &lt;${col}&gt;${value}&lt;/${col}&gt;`;
                    });
                    html += `\n  &lt;/document&gt;`;
                });

                html += `\n&lt;/documents&gt;</pre></div>`;
            } else {
                html += `<div style="text-align: center; color: var(--text-muted); padding: 20px;">
                    <i class="fas fa-info-circle"></i> å°šç„¡ XML æ–‡æª”
                </div>`;
            }
            html += `</div>`;
            return html;
        }

        // 8. éµå€¼å„²å­˜ - éµå€¼å°é¡¯ç¤º
        function renderModelKeyValueView(tableName, table) {
            let html = `<div style="overflow-x: auto; max-width: 100%; -webkit-overflow-scrolling: touch;">`;
            html += `<div style="margin-bottom: 15px; color: var(--warning);"><i class="fas fa-key"></i> éµå€¼å°è¦–åœ–</div>`;

            if (table.data.length > 0) {
                html += `<div style="display: grid; gap: 10px;">`;
                table.data.forEach((row, index) => {
                    html += `<div style="background: rgba(255, 204, 0, 0.1); border-left: 4px solid var(--warning); border-radius: 8px; padding: 12px;">`;
                    html += `<div style="display: flex; align-items: center; gap: 15px;">`;
                    html += `<div style="flex: 0 0 auto; font-weight: 600; color: var(--warning);">`;
                    html += `<i class="fas fa-key" style="margin-right: 8px;"></i>${row[0] || 'key'}`;
                    html += `</div>`;
                    html += `<div style="flex: 0 0 auto; color: var(--text-muted);">â†’</div>`;
                    html += `<div style="flex: 1; color: var(--text-primary); font-family: 'Courier New', monospace;">`;
                    html += `${row[1] || 'value'}`;
                    html += `</div></div></div>`;
                });
                html += `</div>`;
            } else {
                html += `<div style="text-align: center; color: var(--text-muted); padding: 20px;">
                    <i class="fas fa-info-circle"></i> å°šç„¡éµå€¼å°
                </div>`;
            }
            html += `</div>`;
            return html;
        }

        // 9. å…¨æ–‡æœå°‹ - æ–‡æª”åˆ—è¡¨é¡¯ç¤º
        function renderModelFullTextView(tableName, table) {
            let html = `<div style="overflow-x: auto; max-width: 100%; -webkit-overflow-scrolling: touch;">`;
            html += `<div style="margin-bottom: 15px; color: var(--accent);"><i class="fas fa-search"></i> å…¨æ–‡æª¢ç´¢è¦–åœ–</div>`;

            if (table.data.length > 0) {
                html += `<div style="display: grid; gap: 15px;">`;
                table.data.forEach((row, index) => {
                    html += `<div style="background: rgba(0, 168, 255, 0.1); border: 1px solid rgba(0, 168, 255, 0.3); border-radius: 12px; padding: 15px;">`;
                    html += `<div style="display: flex; align-items: center; margin-bottom: 10px;">`;
                    html += `<span style="background: var(--gradient-primary); padding: 4px 12px; border-radius: 20px; font-size: 0.85rem; font-weight: 600;">æ–‡æª” #${index + 1}</span>`;
                    html += `</div>`;
                    table.columns.forEach((col, colIdx) => {
                        html += `<div style="margin-bottom: 8px;">`;
                        html += `<span style="color: var(--text-muted); font-size: 0.9rem;">${col.toUpperCase()}: </span>`;
                        html += `<span style="color: var(--text-primary);">${row[colIdx] || 'N/A'}</span>`;
                        html += `</div>`;
                    });
                    html += `</div>`;
                });
                html += `</div>`;
            } else {
                html += `<div style="text-align: center; color: var(--text-muted); padding: 20px;">
                    <i class="fas fa-info-circle"></i> å°šç„¡æ–‡æª”è³‡æ–™
                </div>`;
            }
            html += `</div>`;
            return html;
        }

        // 10. ç‰©ä»¶é—œè¯æ¨¡å‹ - ç‰©ä»¶é¡¯ç¤º
        function renderModelObjectView(tableName, table) {
            let html = `<div style="overflow-x: auto; max-width: 100%; -webkit-overflow-scrolling: touch;">`;
            html += `<div style="margin-bottom: 15px; color: #9b59b6;"><i class="fas fa-cube"></i> ç‰©ä»¶è¦–åœ–</div>`;

            if (table.data.length > 0) {
                html += `<div style="display: grid; gap: 15px;">`;
                table.data.forEach((row, index) => {
                    html += `<div style="background: rgba(155, 89, 182, 0.1); border: 2px solid rgba(155, 89, 182, 0.3); border-radius: 12px; padding: 15px;">`;
                    html += `<div style="font-weight: 600; color: #9b59b6; margin-bottom: 12px; font-size: 1.1rem;">`;
                    html += `<i class="fas fa-box"></i> Object #${index + 1}`;
                    html += `</div>`;
                    html += `<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px;">`;
                    table.columns.forEach((col, colIdx) => {
                        html += `<div style="background: rgba(155, 89, 182, 0.05); padding: 10px; border-radius: 6px;">`;
                        html += `<div style="color: var(--text-muted); font-size: 0.85rem;">${col}</div>`;
                        html += `<div style="color: var(--text-primary); font-weight: 500; margin-top: 5px;">${row[colIdx] || 'null'}</div>`;
                        html += `</div>`;
                    });
                    html += `</div></div>`;
                });
                html += `</div>`;
            } else {
                html += `<div style="text-align: center; color: var(--text-muted); padding: 20px;">
                    <i class="fas fa-info-circle"></i> å°šç„¡ç‰©ä»¶è³‡æ–™
                </div>`;
            }
            html += `</div>`;
            return html;
        }

        // 11. ã€çµæ§‹åŒ–è³‡æ–™ - æ··åˆæ ¼å¼é¡¯ç¤º
        function renderModelSemiStructuredView(tableName, table) {
            let html = `<div style="overflow-x: auto; max-width: 100%; -webkit-overflow-scrolling: touch;">`;
            html += `<div style="margin-bottom: 15px; color: #e67e22;"><i class="fas fa-random"></i> åŠçµæ§‹åŒ–è¦–åœ–</div>`;

            if (table.data.length > 0) {
                html += `<div style="display: grid; gap: 12px;">`;
                table.data.forEach((row, index) => {
                    html += `<div style="background: rgba(230, 126, 34, 0.1); border-left: 4px solid #e67e22; border-radius: 8px; padding: 12px;">`;
                    html += `<div style="font-family: 'Courier New', monospace; font-size: 0.9rem; color: var(--text-primary);">`;
                    const dataObj = {};
                    table.columns.forEach((col, colIdx) => {
                        dataObj[col] = row[colIdx];
                    });
                    html += `<pre style="margin: 0; white-space: pre-wrap; word-wrap: break-word;">${JSON.stringify(dataObj, null, 2)}</pre>`;
                    html += `</div></div>`;
                });
                html += `</div>`;
            } else {
                html += `<div style="text-align: center; color: var(--text-muted); padding: 20px;">
                    <i class="fas fa-info-circle"></i> å°šç„¡åŠçµæ§‹åŒ–è³‡æ–™
                </div>`;
            }
            html += `</div>`;
            return html;
        }

        // 12. æµè³‡æ–™è™•ç† - äº‹ä»¶æµé¡¯ç¤º
        function renderModelStreamingView(tableName, table) {
            let html = `<div style="overflow-x: auto; max-width: 100%; -webkit-overflow-scrolling: touch;">`;
            html += `<div style="margin-bottom: 15px; color: #3498db;"><i class="fas fa-stream"></i> äº‹ä»¶æµè¦–åœ–</div>`;

            if (table.data.length > 0) {
                html += `<div style="background: rgba(52, 152, 219, 0.05); border-radius: 12px; padding: 15px;">`;
                table.data.forEach((row, index) => {
                    html += `<div style="display: flex; align-items: center; margin-bottom: 12px; padding: 10px; background: rgba(52, 152, 219, 0.1); border-radius: 8px; border-left: 3px solid #3498db;">`;
                    html += `<div style="flex: 0 0 auto; margin-right: 15px;">`;
                    html += `<div style="width: 40px; height: 40px; background: var(--gradient-primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; box-shadow: 0 0 10px rgba(52, 152, 219, 0.3);">${index + 1}</div>`;
                    html += `</div>`;
                    html += `<div style="flex: 1;">`;
                    table.columns.forEach((col, colIdx) => {
                        if (colIdx < 3) {
                            html += `<span style="margin-right: 15px;"><span style="color: var(--text-muted); font-size: 0.85rem;">${col}:</span> <span style="color: var(--text-primary); font-weight: 500;">${row[colIdx] || 'N/A'}</span></span>`;
                        }
                    });
                    html += `</div></div>`;
                });
                html += `</div>`;
            } else {
                html += `<div style="text-align: center; color: var(--text-muted); padding: 20px;">
                    <i class="fas fa-info-circle"></i> å°šç„¡äº‹ä»¶æµè³‡æ–™
                </div>`;
            }
            html += `</div>`;
            return html;
        }

        // 13. è¨˜æ†¶é«”è³‡æ–™åº« - é«˜é€Ÿå¿«å–è¦–åœ–
        function renderModelInMemoryView(tableName, table) {
            let html = `<div style="overflow-x: auto; max-width: 100%; -webkit-overflow-scrolling: touch;">`;
            html += `<div style="margin-bottom: 15px; color: #f39c12;"><i class="fas fa-bolt"></i> è¨˜æ†¶é«”å¿«å–è¦–åœ– <span style="background: rgba(243, 156, 18, 0.2); padding: 2px 8px; border-radius: 4px; font-size: 0.8rem; margin-left: 8px;">âš¡ é«˜é€Ÿ</span></div>`;

            if (table.data.length > 0) {
                html += `<table class="preview-table" style="table-layout: auto; width: 100%;">`;
                html += `<thead><tr style="background: rgba(243, 156, 18, 0.2);">`;
                html += `<th style="min-width: 40px; width: 40px;">#</th>`;
                table.columns.forEach(col => {
                    html += `<th style="min-width: 100px;">${col.toUpperCase()}</th>`;
                });
                html += `<th style="min-width: 80px;"><i class="fas fa-tachometer-alt"></i> ç‹€æ…‹</th>`;
                html += `</tr></thead><tbody>`;

                table.data.forEach((row, index) => {
                    html += `<tr>`;
                    html += `<td style="text-align: center; font-weight: 600; color: #f39c12;">${index + 1}</td>`;
                    table.columns.forEach((col, colIdx) => {
                        html += `<td>${row[colIdx] || 'NULL'}</td>`;
                    });
                    html += `<td style="text-align: center;"><span style="background: rgba(0, 204, 136, 0.2); color: var(--success); padding: 3px 8px; border-radius: 4px; font-size: 0.85rem;">å·²å¿«ã€</span></td>`;
                    html += `</tr>`;
                });
                html += `</tbody></table>`;
            } else {
                html += `<div style="text-align: center; color: var(--text-muted); padding: 20px;">
                    <i class="fas fa-info-circle"></i> å¿«å–ä¸­å°šç„¡è³‡æ–™
                </div>`;
            }
            html += `</div>`;
            return html;
        }

        // 14. åˆ†ä½ˆå¼è³‡æ–™ - åˆ†ç‰‡é¡¯ç¤º
        function renderModelDistributedView(tableName, table) {
            let html = `<div style="overflow-x: auto; max-width: 100%; -webkit-overflow-scrolling: touch;">`;
            html += `<div style="margin-bottom: 15px; color: #16a085;"><i class="fas fa-server"></i> åˆ†ä½ˆå¼åˆ†ç‰‡è¦–åœ–</div>`;

            if (table.data.length > 0) {
                const regionIdx = table.columns.findIndex(col => col.toLowerCase().includes('region') || col.toLowerCase().includes('shard'));
                const regions = {};

                table.data.forEach((row, index) => {
                    const region = regionIdx >= 0 ? row[regionIdx] : 'Default';
                    if (!regions[region]) regions[region] = [];
                    regions[region].push({row, index});
                });

                Object.keys(regions).forEach(region => {
                    html += `<div style="margin-bottom: 20px; background: rgba(22, 160, 133, 0.1); border: 2px solid rgba(22, 160, 133, 0.3); border-radius: 12px; padding: 15px;">`;
                    html += `<div style="font-weight: 600; color: #16a085; margin-bottom: 10px; font-size: 1.05rem;">`;
                    html += `<i class="fas fa-hdd"></i> åˆ†ç‰‡å€åŸŸ: ${region} <span style="background: rgba(22, 160, 133, 0.2); padding: 2px 8px; border-radius: 4px; font-size: 0.85rem; margin-left: 8px;">${regions[region].length} ç­†</span>`;
                    html += `</div>`;

                    html += `<table class="preview-table" style="width: 100%;">`;
                    html += `<thead><tr>`;
                    table.columns.forEach(col => {
                        html += `<th>${col.toUpperCase()}</th>`;
                    });
                    html += `</tr></thead><tbody>`;

                    regions[region].forEach(({row}) => {
                        html += `<tr>`;
                        table.columns.forEach((col, colIdx) => {
                            html += `<td>${row[colIdx] || 'NULL'}</td>`;
                        });
                        html += `</tr>`;
                    });
                    html += `</tbody></table></div>`;
                });
            } else {
                html += `<div style="text-align: center; color: var(--text-muted); padding: 20px;">
                    <i class="fas fa-info-circle"></i> å°šç„¡åˆ†ä½ˆå¼è³‡æ–™
                </div>`;
            }
            html += `</div>`;
            return html;
        }

        // 15. å¤šç§Ÿæˆ¶æ¨¡å‹ - ç§Ÿæˆ¶åˆ†çµ„é¡¯ç¤º
        function renderModelMultiTenantView(tableName, table) {
            let html = `<div style="overflow-x: auto; max-width: 100%; -webkit-overflow-scrolling: touch;">`;
            html += `<div style="margin-bottom: 15px; color: #8e44ad;"><i class="fas fa-building"></i> å¤šç§Ÿæˆ¶è¦–åœ–</div>`;

            if (table.data.length > 0) {
                const tenantIdx = table.columns.findIndex(col => col.toLowerCase().includes('tenant'));
                const tenants = {};

                table.data.forEach((row, index) => {
                    const tenant = tenantIdx >= 0 ? row[tenantIdx] : 'Tenant ' + (index + 1);
                    if (!tenants[tenant]) tenants[tenant] = [];
                    tenants[tenant].push({row, index});
                });

                Object.keys(tenants).forEach(tenant => {
                    html += `<div style="margin-bottom: 20px; background: rgba(142, 68, 173, 0.1); border: 2px solid rgba(142, 68, 173, 0.3); border-radius: 12px; padding: 15px;">`;
                    html += `<div style="font-weight: 600; color: #8e44ad; margin-bottom: 10px; font-size: 1.05rem;">`;
                    html += `<i class="fas fa-users"></i> ç§Ÿæˆ¶: ${tenant} <span style="background: rgba(142, 68, 173, 0.2); padding: 2px 8px; border-radius: 4px; font-size: 0.85rem; margin-left: 8px;">${tenants[tenant].length} ç­†è³‡æ–™</span>`;
                    html += `</div>`;

                    tenants[tenant].forEach(({row, index}) => {
                        html += `<div style="background: rgba(142, 68, 173, 0.05); padding: 10px; border-radius: 6px; margin-bottom: 8px;">`;
                        table.columns.forEach((col, colIdx) => {
                            if (colIdx !== tenantIdx) {
                                html += `<span style="margin-right: 15px;"><span style="color: var(--text-muted); font-size: 0.85rem;">${col}:</span> <span style="color: var(--text-primary);">${row[colIdx] || 'N/A'}</span></span>`;
                            }
                        });
                        html += `</div>`;
                    });
                    html += `</div>`;
                });
            } else {
                html += `<div style="text-align: center; color: var(--text-muted); padding: 20px;">
                    <i class="fas fa-info-circle"></i> å°šç„¡ç§Ÿæˆ¶è³‡æ–™
                </div>`;
            }
            html += `</div>`;
            return html;
        }

        // å‰µå»ºè¨Šæ¯å…ƒç´ 
        function createMessage(text, type) {
            const icons = {
                'success': 'fas fa-check-circle',
                'error': 'fas fa-exclamation-circle'
            };

            // å°‡æ›è¡Œç¬¦è½‰æ›ç‚º <br> æ¨™ç±¤ä»¥æ”¯æ´å¤šè¡Œé¡¯ç¤º
            const formattedText = text.replace(/\n/g, '<br>');

            return `
                <div class="message message-${type}">
                    <i class="${icons[type]} message-icon"></i>
                    <div>${formattedText}</div>
                </div>
            `;
        }

        // æ‰€æœ‰å„²å­˜åŠŸèƒ½
        function saveAllData() {
            savedData = {
                user: currentUser,
                databaseName: currentDatabaseName,
                database: JSON.parse(JSON.stringify(currentDatabase)),
                executionHistory: [...executionHistory],
                mode: currentMode,
                timestamp: new Date().toISOString(),
                sqlInput: sqlInput.value
            };

            showMessage('âœ… æ‰€æœ‰è³‡æ–™å·²æˆåŠŸå„²å­˜ï¼ All Data Saved Successfully!\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ’¾ å·²å„²å­˜å…§å®¹ SAVED CONTENTS\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ã€â”â”â”â”â”â”â”â”â”â”â”â”\n\nâœ“ è³‡æ–™åº«çµæ§‹ Database Structure\nâœ“ æ‰€æœ‰è³‡æ–™è¡¨åŠè³‡æ–™ All Tables & Data\nâœ“ SQLåŸ·è¡Œæ­·å² SQL Execution History\nâœ“ ç•¶å‰å·¥ä½œç‹€æ…‹ Current Working State\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nâš ï¸ é‡è¦æé†’ IMPORTANT NOTICE\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\nâŒ è³‡æ–™å„²å­˜æ–¼ç€è¦½å™¨è¨˜æ†¶é«”ä¸­\n   Data is stored in browser memory\n\nâŒ é—œé–‰åˆ†é å¾Œå°‡æœƒéºå¤±\n   Will be lost when tab is closed\n\nâœ… å»ºè­°ç«‹å³ä½¿ç”¨ã€ŒåŒ¯å‡ºå ±å‘Šã€åŠŸèƒ½\n   Recommend using "Export Report" immediately\n\nâœ… åŒ¯å‡ºçš„PDFå¯æ°¸ä¹…ä¿å­˜åˆ°ã€ç½®\n   Exported PDF will be saved permanently\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ï¿½ï¿½ï¿½', 'success');

            // è¦–è¦ºåé¥‹
            const btn = document.getElementById('saveAllBtn');
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check"></i> å·²å„²å­˜';
            setTimeout(() => {
                btn.innerHTML = originalText;
            }, 2000);
        }

        // å‰µå»ºæ–‡å­—åœ–ç‰‡ï¼ˆæ”¯æŒä¸­æ–‡ï¼‰çš„è¼”åŠ©å‡½æ•¸
        function createTextImage(text, options = {}) {
            const {
                fontSize = 16,
                fontFamily = 'Arial, "Microsoft YaHei", "å¾®è»Ÿæ­£é»‘é«”", sans-serif',
                color = '#000000',
                backgroundColor = 'transparent',
                padding = 10,
                maxWidth = 600
            } = options;

            // å‰µå»ºè‡¨æ™‚ canvas
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');

            // è¨­ç½®å­—é«”
            ctx.font = `${fontSize}px ${fontFamily}`;

            // æ¸¬é‡æ–‡å­—å¯¬åº¦ä¸¦è™•ç†æ›è¡Œ
            const lines = [];
            const words = text.split('');
            let currentLine = '';

            for (let char of words) {
                const testLine = currentLine + char;
                const metrics = ctx.measureText(testLine);

                if (metrics.width > maxWidth && currentLine.length > 0) {
                    lines.push(currentLine);
                    currentLine = char;
                } else {
                    currentLine = testLine;
                }
            }
            if (currentLine) {
                lines.push(currentLine);
            }

            // è¨ˆç®— canvas å°ºå¯¸
            const lineHeight = fontSize * 1.2;
            const canvasWidth = maxWidth + padding * 2;
            const canvasHeight = lines.length * lineHeight + padding * 2;

            canvas.width = canvasWidth;
            canvas.height = canvasHeight;

            // é‡æ–°è¨­ç½®å­—é«”ï¼ˆcanvas å°ºå¯¸æ”¹è®Šæœƒé‡ç½®æ¨£å¼ï¼‰
            ctx.font = `${fontSize}px ${fontFamily}`;
            ctx.textBaseline = 'top';

            // èƒŒæ™¯
            if (backgroundColor !== 'transparent') {
                ctx.fillStyle = backgroundColor;
                ctx.fillRect(0, 0, canvasWidth, canvasHeight);
            }

            // ç¹ªè£½æ–‡å­—
            ctx.fillStyle = color;
            lines.forEach((line, index) => {
                ctx.fillText(line, padding, padding + index * lineHeight);
            });

            return {
                dataUrl: canvas.toDataURL('image/png'),
                width: canvasWidth,
                height: canvasHeight
            };
        }

        // åŒ¯å‡ºè³‡æ–™åŠŸèƒ½
async function exportData() {
            if (Object.keys(currentDatabase).length === 0) {
                showMessage('âŒ ç›®å‰æ²’æœ‰å¯åŒ¯å‡ºçš„è³‡æ–™ï¼Œè«‹å…ˆåŸ·è¡Œä¸€äº› SQL èªå¥å‰µå»ºè³‡æ–™è¡¨\nâŒ No data to export. Please execute SQL statements to create tables first.', 'error');
                return;
            }

            try {
                // é¡¯ç¤ºè™•ç†ä¸­è¨Šæ¯
                output.innerHTML = createMessage('â³ æ­£åœ¨ç”Ÿæˆå°ˆæ¥­PDFå ±å‘Š... Generating Professional PDF Report...', 'info');

                // ä½¿ç”¨ jsPDF
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF({
                    orientation: 'portrait',
                    unit: 'mm',
                    format: 'a4',
                    compress: true
                });

                const timestamp = new Date().toLocaleString('zh-TW', {
                    year: 'numeric',
                    month: '2-digit',
                    day: '2-digit',
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                });

                let yPos = 20;

                // å°ˆæ¥­æ·±è‰²ç§‘æŠ€ä¸»é¡Œæ¨™é¡Œå€åŸŸ
                const titleCanvas = document.createElement('canvas');
                const titleCtx = titleCanvas.getContext('2d');
                titleCanvas.width = 1600;
                titleCanvas.height = 520;

                // æ·±è‰²æ¼¸å±¤èƒŒæ™¯
                const gradient = titleCtx.createLinearGradient(0, 0, 1600, 520);
                gradient.addColorStop(0, '#0a0e27');
                gradient.addColorStop(0.5, '#1a1f3a');
                gradient.addColorStop(1, '#0f1420');
                titleCtx.fillStyle = gradient;
                titleCtx.fillRect(0, 0, 1600, 520);

                // ç§‘æŠ€æ„Ÿè£é£¾ç·šæ¢
                titleCtx.strokeStyle = '#00a8ff';
                titleCtx.lineWidth = 3;
                titleCtx.beginPath();
                titleCtx.moveTo(0, 0);
                titleCtx.lineTo(1600, 0);
                titleCtx.stroke();

                titleCtx.strokeStyle = '#00ffcc';
                titleCtx.lineWidth = 2;
                titleCtx.beginPath();
                titleCtx.moveTo(0, 515);
                titleCtx.lineTo(1600, 515);
                titleCtx.stroke();

                // å·¦å´è£é£¾æ¢
                const sideGradient = titleCtx.createLinearGradient(0, 0, 0, 520);
                sideGradient.addColorStop(0, '#00a8ff');
                sideGradient.addColorStop(1, '#00ffcc');
                titleCtx.fillStyle = sideGradient;
                titleCtx.fillRect(0, 0, 8, 520);

                // ä¸»æ¨™é¡Œ - ç§‘æŠ€æ„Ÿå­—é«”
                titleCtx.shadowColor = 'rgba(0, 168, 255, 0.8)';
                titleCtx.shadowBlur = 20;
                titleCtx.fillStyle = '#00ffcc';
                titleCtx.font = 'bold 72px "Segoe UI", "Microsoft YaHei", Arial, sans-serif';
                titleCtx.textAlign = 'center';
                titleCtx.textBaseline = 'top';
                titleCtx.fillText('æ•¸æ“šåº«è¨“ç·´å ±å‘Š', 800, 40);

                titleCtx.fillStyle = '#ffffff';
                titleCtx.font = 'bold 56px "Segoe UI", Arial, sans-serif';
                titleCtx.fillText('DATABASE TRAINING REPORT', 800, 120);
                titleCtx.shadowBlur = 0;

                // è©³ç´°è³‡è¨Šå€åŸŸ - å·¦å°é½Š
                titleCtx.textAlign = 'left';
                titleCtx.font = 'bold 28px "Microsoft YaHei", Arial, sans-serif';
                const modelInfo = dataModels[currentDataModel];

                // ä½¿ç”¨ä¸åŒé¡è‰²æ¨™ç¤ºé—œéµè³‡è¨Š
                let infoY = 230;
                const lineHeight = 50;

                // è³‡æ–™åº«åç¨±
                titleCtx.fillStyle = '#00a8ff';
                titleCtx.fillText('è³‡æ–™åº« DATABASE:', 80, infoY);
                titleCtx.fillStyle = '#ffffff';
                titleCtx.font = '28px "Microsoft YaHei", Arial, sans-serif';
                titleCtx.fillText(currentDatabaseName, 380, infoY);

                // ä½¿ç”¨è€…
                infoY += lineHeight;
                titleCtx.font = 'bold 28px "Microsoft YaHei", Arial, sans-serif';
                titleCtx.fillStyle = '#00a8ff';
                titleCtx.fillText('ä½¿ç”¨è€… USER:', 80, infoY);
                titleCtx.fillStyle = '#ffffff';
                titleCtx.font = '28px "Microsoft YaHei", Arial, sans-serif';
                titleCtx.fillText(currentUser, 380, infoY);

                // æ¨¡å¼
                infoY += lineHeight;
                titleCtx.font = 'bold 28px "Microsoft YaHei", Arial, sans-serif';
                titleCtx.fillStyle = '#00a8ff';
                titleCtx.fillText('æ¨¡å¼ MODE:', 80, infoY);
                titleCtx.fillStyle = '#00ffcc';
                titleCtx.font = '28px "Microsoft YaHei", Arial, sans-serif';
                titleCtx.fillText(currentMode === 'free' ? 'è‡ªç”±ç·´ç¿’ Free Practice' : 'è¨“ç·´æ¨¡å¼ Training Mode', 380, infoY);

                // æ•¸æ“šæ¨¡å‹
                infoY += lineHeight;
                titleCtx.font = 'bold 28px "Microsoft YaHei", Arial, sans-serif';
                titleCtx.fillStyle = '#00a8ff';
                titleCtx.fillText('æ•¸æ“šæ¨¡å‹ DATA MODEL:', 80, infoY);
                titleCtx.fillStyle = '#ffffff';
                titleCtx.font = '28px "Microsoft YaHei", Arial, sans-serif';
                titleCtx.fillText(`${modelInfo.icon} ${modelInfo.name} (${modelInfo.category})`, 380, infoY);

                // åŒ¯å‡ºæ™‚é–“
                infoY += lineHeight;
                titleCtx.font = 'bold 28px "Microsoft YaHei", Arial, sans-serif';
                titleCtx.fillStyle = '#00a8ff';
                titleCtx.fillText('åŒ¯å‡ºæ™‚é–“ EXPORT TIME:', 80, infoY);
                titleCtx.fillStyle = '#ffffff';
                titleCtx.font = '28px "Microsoft YaHei", Arial, sans-serif';
                titleCtx.fillText(timestamp, 380, infoY);

                // å°‡æ¨™é¡Œ canvas è½‰ç‚ºåœ–ç‰‡ä¸¦æ·»åŠ åˆ° PDF
                const titleImage = titleCanvas.toDataURL('image/png');
                doc.addImage(titleImage, 'PNG', 0, 0, 210, 68);

                yPos = 78;

                // çµ±è¨ˆæ‘˜è¦å€åŸŸï¼ˆæ·±è‰²ç§‘æŠ€ä¸»é¡Œï¼‰
                const statsCanvas = document.createElement('canvas');
                const statsCtx = statsCanvas.getContext('2d');
                statsCanvas.width = 1600;
                statsCanvas.height = 180;

                // æ·±è‰²èƒŒæ™¯
                statsCtx.fillStyle = '#1a1f3a';
                statsCtx.fillRect(0, 0, 1600, 180);

                // é‚Šæ¡†
                statsCtx.strokeStyle = '#00a8ff';
                statsCtx.lineWidth = 2;
                statsCtx.strokeRect(0, 0, 1600, 180);

                // æ¨™é¡Œ
                statsCtx.fillStyle = '#00ffcc';
                statsCtx.font = 'bold 36px "Microsoft YaHei", Arial, sans-serif';
                statsCtx.textAlign = 'left';
                statsCtx.fillText('ğŸ“Š çµ±è¨ˆæ‘˜è¦ STATISTICS SUMMARY', 30, 45);

                // çµ±è¨ˆè³‡è¨Š
                const tableCount = Object.keys(currentDatabase).length;
                let totalRows = 0;
                let totalColumns = 0;
                for (const tableName in currentDatabase) {
                    totalRows += currentDatabase[tableName].data.length;
                    totalColumns += currentDatabase[tableName].columns.length;
                }

                statsCtx.font = 'bold 28px "Microsoft YaHei", Arial, sans-serif';
                statsCtx.fillStyle = '#ffffff';

                const stats = [
                    `è³‡æ–™è¡¨æ•¸é‡ Tables: ${tableCount}`,
                    `ç¸½è³‡æ–™ç­†æ•¸ Total Rows: ${totalRows}`,
                    `ç¸½æ¬„ä½æ•¸ Total Columns: ${totalColumns}`,
                    `åŸ·è¡Œå‘½ä»¤ Commands: ${executionHistory.length}`
                ];

                statsCtx.textAlign = 'left';
                let statsX = 30;
                stats.forEach((stat, index) => {
                    statsCtx.fillStyle = '#00a8ff';
                    statsCtx.fillText('â–¶', statsX, 100);
                    statsCtx.fillStyle = '#ffffff';
                    statsCtx.fillText(stat, statsX + 40, 100);
                    if (index === 1) {
                        statsX = 30;
                        statsCtx.fillText('â–¶', statsX, 140);
                        statsCtx.fillStyle = '#ffffff';
                        statsCtx.fillText(stats[2], statsX + 40, 140);
                        statsX = 800;
                        statsCtx.fillStyle = '#00a8ff';
                        statsCtx.fillText('â–¶', statsX, 140);
                        statsCtx.fillStyle = '#ffffff';
                        statsCtx.fillText(stats[3], statsX + 40, 140);
                    } else if (index === 0) {
                        statsX = 800;
                    }
                });

                const statsImage = statsCanvas.toDataURL('image/png');
                doc.addImage(statsImage, 'PNG', 10, yPos, 190, 23);
                yPos += 28;

                // è³‡æ–™è¡¨é è¦½æ¨™é¡Œï¼ˆæ·±è‰²ç§‘æŠ€ä¸»é¡Œï¼‰
                const sectionTitleCanvas = document.createElement('canvas');
                const sectionTitleCtx = sectionTitleCanvas.getContext('2d');
                sectionTitleCanvas.width = 1600;
                sectionTitleCanvas.height = 100;

                // æ¼¸å±¤èƒŒæ™¯
                const secGradient = sectionTitleCtx.createLinearGradient(0, 0, 1600, 0);
                secGradient.addColorStop(0, '#0a0e27');
                secGradient.addColorStop(1, '#1a1f3a');
                sectionTitleCtx.fillStyle = secGradient;
                sectionTitleCtx.fillRect(0, 0, 1600, 100);

                // å·¦å´è£é£¾æ¢
                sectionTitleCtx.fillStyle = '#00ffcc';
                sectionTitleCtx.fillRect(0, 0, 8, 100);

                sectionTitleCtx.font = 'bold 48px "Microsoft YaHei", Arial, sans-serif';
                sectionTitleCtx.fillStyle = '#00ffcc';
                sectionTitleCtx.textBaseline = 'middle';
                sectionTitleCtx.textAlign = 'left';
                sectionTitleCtx.fillText('ğŸ—„ï¸ è³‡æ–™è¡¨é è¦½', 30, 35);
                sectionTitleCtx.fillStyle = '#ffffff';
                sectionTitleCtx.font = 'bold 36px "Segoe UI", Arial, sans-serif';
                sectionTitleCtx.fillText('TABLE PREVIEW', 30, 75);

                const sectionTitleImage = sectionTitleCanvas.toDataURL('image/png');
                doc.addImage(sectionTitleImage, 'PNG', 10, yPos, 190, 13);
                yPos += 18;

                // ç‚ºæ¯å€‹è³‡æ–™è¡¨ç”Ÿæˆè¡¨æ ¼
                for (const tableName in currentDatabase) {
                    const table = currentDatabase[tableName];

                    // æª¢æŸ¥æ˜¯å¦éœ€è¦æ›é 
                    if (yPos > 240) {
                        doc.addPage();
                        yPos = 20;
                    }

                    // è¡¨æ ¼æ¨™é¡Œå€åŸŸï¼ˆæ·±è‰²ç§‘æŠ€ä¸»é¡Œï¼‰
                    const tableHeaderCanvas = document.createElement('canvas');
                    const tableHeaderCtx = tableHeaderCanvas.getContext('2d');
                    tableHeaderCanvas.width = 1600;
                    tableHeaderCanvas.height = 120;

                    // æ·±è‰²æ¼¸å±¤èƒŒæ™¯
                    const tableGradient = tableHeaderCtx.createLinearGradient(0, 0, 1600, 120);
                    tableGradient.addColorStop(0, '#1a1f3a');
                    tableGradient.addColorStop(1, '#0f1420');
                    tableHeaderCtx.fillStyle = tableGradient;
                    tableHeaderCtx.fillRect(0, 0, 1600, 120);

                    // å·¦å´è£é£¾æ¢
                    tableHeaderCtx.fillStyle = '#00a8ff';
                    tableHeaderCtx.fillRect(0, 0, 6, 120);

                    // è¡¨æ ¼åœ–æ¨™å’Œåç¨±
                    tableHeaderCtx.font = 'bold 36px "Microsoft YaHei", Arial, sans-serif';
                    tableHeaderCtx.fillStyle = '#00ffcc';
                    tableHeaderCtx.textBaseline = 'top';
                    tableHeaderCtx.textAlign = 'left';
                    tableHeaderCtx.fillText(`ğŸ“‹ è³‡æ–™è¡¨ TABLE: ${tableName}`, 20, 15);

                    // è³‡æ–™è¡¨è©³ç´°è³‡è¨Šï¼ˆä¸­è‹±å°ç…§ï¼‰
                    tableHeaderCtx.font = '22px "Microsoft YaHei", Arial, sans-serif';
                    tableHeaderCtx.fillStyle = '#ffffff';
                    const tableStats = `æ¬„ä½ Columns: ${table.columns.length} | è³‡æ–™ç­†æ•¸ Rows: ${table.data.length} | æ¨¡å‹ Model: ${modelInfo.icon} ${modelInfo.name}`;
                    tableHeaderCtx.fillText(tableStats, 20, 65);

                    const tableHeaderImage = tableHeaderCanvas.toDataURL('image/png');
                    doc.addImage(tableHeaderImage, 'PNG', 10, yPos, 190, 15);
                    yPos += 17;

                    // ä½¿ç”¨ canvas æ¸²æŸ“è¡¨æ ¼ä»¥æ”¯æŒä¸­æ–‡
                    const tableCanvas = document.createElement('canvas');
                    const tableCtx = tableCanvas.getContext('2d');

                    // æ ¹æ“šæ•¸æ“šæ¨¡å‹æ±ºå®šè¡¨æ ¼æ¨£å¼
                    let headerColor = '#00a8ff'; // é»˜èªç§‘æŠ€è—
                    let headerBgColor = '#1a2332'; // æ·±è‰²èƒŒæ™¯
                    let cellBgColor = '#0f1420'; // æ›´æ·±çš„å–®å…ƒæ ¼èƒŒæ™¯
                    let cellAltBgColor = '#1a1f3a'; // äº¤æ›¿è¡ŒèƒŒæ™¯
                    let borderColor = '#00a8ff'; // é‚Šæ¡†é¡è‰²

                    // æ ¹æ“šä¸åŒæ•¸æ“šæ¨¡å‹èª¿æ•´æ¨£å¼
                    switch(currentDataModel) {
                        case 'blockchain':
                            headerColor = '#00d4ff';
                            borderColor = '#00d4ff';
                            break;
                        case 'graph':
                            headerColor = '#00ffcc';
                            borderColor = '#00ffcc';
                            break;
                        case 'json':
                            headerColor = '#ffd700';
                            borderColor = '#ffd700';
                            break;
                        case 'timeseries':
                            headerColor = '#ff6699';
                            borderColor = '#ff6699';
                            break;
                        case 'spatial':
                            headerColor = '#99ff00';
                            borderColor = '#99ff00';
                            break;
                        case 'keyvalue':
                            headerColor = '#bb99ff';
                            borderColor = '#bb99ff';
                            break;
                    }

                    // è¨ˆç®—è¡¨æ ¼å°ºå¯¸ï¼ˆå„ªåŒ–ä»¥é©æ‡‰æ›´å¤šå…§å®¹ï¼‰
                    const cellPadding = 10;
                    const headerHeight = 38;
                    const rowHeight = 30;
                    const colWidth = Math.min(150, 1400 / table.columns.length);

                    const tableWidth = colWidth * table.columns.length;
                    const tableHeight = headerHeight + (table.data.length * rowHeight);

                    tableCanvas.width = tableWidth;
                    tableCanvas.height = tableHeight;

                    tableCtx.font = '16px "Microsoft YaHei", Arial, sans-serif';

                    let currentY = 0;

                    // ç¹ªè£½è¡¨é ­ï¼ˆæ·±è‰²ç§‘æŠ€ä¸»é¡Œï¼‰
                    const headerGradient = tableCtx.createLinearGradient(0, currentY, 0, currentY + headerHeight);
                    headerGradient.addColorStop(0, headerBgColor);
                    headerGradient.addColorStop(1, '#0a0e17');
                    tableCtx.fillStyle = headerGradient;
                    tableCtx.fillRect(0, currentY, tableWidth, headerHeight);

                    // è¡¨é ­ç™¼å…‰é‚Šæ¡†
                    tableCtx.strokeStyle = borderColor;
                    tableCtx.lineWidth = 2;
                    tableCtx.strokeRect(0, currentY, tableWidth, headerHeight);

                    tableCtx.fillStyle = headerColor;
                    tableCtx.textBaseline = 'middle';
                    tableCtx.font = 'bold 18px "Microsoft YaHei", Arial, sans-serif';

                    table.columns.forEach((col, i) => {
                        const text = String(col);
                        const x = i * colWidth + cellPadding;
                        const y = currentY + headerHeight / 2;

                        // åˆ—åˆ†éš”ç·š
                        if (i > 0) {
                            tableCtx.strokeStyle = borderColor;
                            tableCtx.globalAlpha = 0.3;
                            tableCtx.beginPath();
                            tableCtx.moveTo(i * colWidth, currentY);
                            tableCtx.lineTo(i * colWidth, currentY + headerHeight);
                            tableCtx.stroke();
                            tableCtx.globalAlpha = 1.0;
                        }

                        tableCtx.fillStyle = headerColor;
                        tableCtx.fillText(text, x, y, colWidth - cellPadding * 2);
                    });

                    currentY += headerHeight;

                    // ï¿½ï¿½ï¿½è£½è³‡æ–™è¡Œï¼ˆæ·±è‰²ç§‘æŠ€ä¸»é¡Œï¼‰
                    tableCtx.font = '16px "Microsoft YaHei", Arial, sans-serif';
                    table.data.forEach((row, rowIndex) => {
                        const yStart = currentY + (rowIndex * rowHeight);

                        // æ·±è‰²èƒŒæ™¯ï¼ˆäº¤æ›¿è¡Œï¼‰
                        tableCtx.fillStyle = rowIndex % 2 === 0 ? cellBgColor : cellAltBgColor;
                        tableCtx.fillRect(0, yStart, tableWidth, rowHeight);

                        // ç´°é‚Šæ¡†
                        tableCtx.strokeStyle = borderColor;
                        tableCtx.globalAlpha = 0.2;
                        tableCtx.lineWidth = 1;
                        tableCtx.strokeRect(0, yStart, tableWidth, rowHeight);
                        tableCtx.globalAlpha = 1.0;

                        // è³‡æ–™æ–‡å­—ï¼ˆç™½è‰²ï¼‰
                        tableCtx.fillStyle = '#ffffff';
                        table.columns.forEach((col, colIndex) => {
                            const value = row[colIndex];
                            const text = value !== undefined && value !== null ? String(value) : '';
                            const x = colIndex * colWidth + cellPadding;
                            const y = yStart + rowHeight / 2;

                            // æˆªæ–·éé•·æ–‡å­—
                            const maxWidth = colWidth - cellPadding * 2;
                            const metrics = tableCtx.measureText(text);
                            let displayText = text;
                            if (metrics.width > maxWidth) {
                                let truncated = text;
                                while (tableCtx.measureText(truncated + '...').width > maxWidth && truncated.length > 0) {
                                    truncated = truncated.slice(0, -1);
                                }
                                displayText = truncated + '...';
                            }

                            tableCtx.fillText(displayText, x, y);
                        });
                    });

                    // ç¹ªè£½å¤–æ¡†ï¼ˆæ·±è‰²ç§‘æŠ€ä¸»é¡Œï¼‰
                    tableCtx.strokeStyle = borderColor;
                    tableCtx.lineWidth = 2;
                    tableCtx.strokeRect(0, 0, tableWidth, tableHeight);

                    // å°‡è¡¨æ ¼è½‰ç‚ºåœ–ç‰‡ä¸¦æ·»åŠ åˆ° PDF
                    const tableImage = tableCanvas.toDataURL('image/png');
                    const pdfTableWidth = 170;
                    const pdfTableHeight = (tableHeight / tableWidth) * pdfTableWidth;

                    // æª¢æŸ¥æ˜¯å¦éœ€è¦æ›é 
                    if (yPos + pdfTableHeight > 270) {
                        doc.addPage();
                        yPos = 20;
                    }

                    doc.addImage(tableImage, 'PNG', 20, yPos, pdfTableWidth, pdfTableHeight);
                    yPos += pdfTableHeight + 5;

                    // è¡¨æ ¼è³‡è¨Šï¼ˆä½¿ç”¨ canvas æ¸²æŸ“ï¼‰
                    const infoCanvas = document.createElement('canvas');
                    const infoCtx = infoCanvas.getContext('2d');
                    infoCanvas.width = 1200;
                    infoCanvas.height = 80;
                    infoCtx.font = '20px "Microsoft YaHei", Arial, sans-serif';
                    infoCtx.fillStyle = '#666666';
                    infoCtx.textBaseline = 'top';
                    infoCtx.fillText(`æ¬„ä½æ•¸ Columns: ${table.columns.length} | è³‡æ–™ç­†æ•¸ Records: ${table.data.length}`, 0, 5);
                    // æ·»åŠ æ•¸æ“šæ¨¡å‹ç‰¹æ€§èªªæ˜
                    infoCtx.font = '18px "Microsoft YaHei", Arial, sans-serif';
                    infoCtx.fillStyle = '#0066cc';
                    const modelDesc = modelInfo.description.substring(0, 60) + (modelInfo.description.length > 60 ? '...' : '');
                    infoCtx.fillText(`ç‰¹æ€§: ${modelDesc}`, 0, 35);
                    const infoImage = infoCanvas.toDataURL('image/png');
                    doc.addImage(infoImage, 'PNG', 20, yPos, 160, 8);
                    yPos += 12;
                }

                // æ·»åŠ åœ–è¡¨ï¼ˆå¦‚æœï¿½ï¿½ï¿½åœ¨ï¼‰
                if (currentChart) {
                    try {
                        const canvas = document.getElementById('dataChart');
                        if (canvas) {
                            const chartImage = canvas.toDataURL('image/png');

                            if (yPos > 200) {
                                doc.addPage();
                                yPos = 20;
                            }

                            // åœ–è¡¨æ¨™é¡Œï¼ˆä½¿ç”¨ canvas æ¸²æŸ“ä¸­æ–‡ï¼‰
                            const chartTitleCanvas = document.createElement('canvas');
                            const chartTitleCtx = chartTitleCanvas.getContext('2d');
                            chartTitleCanvas.width = 800;
                            chartTitleCanvas.height = 80;
                            chartTitleCtx.font = 'bold 42px "Microsoft YaHei", Arial, sans-serif';
                            chartTitleCtx.fillStyle = '#0066cc';
                            chartTitleCtx.textBaseline = 'top';
                            chartTitleCtx.fillText('è¦–è¦ºåœ–è¡¨ Visual Chart', 0, 10);
                            const chartTitleImage = chartTitleCanvas.toDataURL('image/png');
                            doc.addImage(chartTitleImage, 'PNG', 20, yPos, 100, 8);
                            yPos += 12;

                            // æ·»åŠ åœ–è¡¨åœ–ç‰‡
                            doc.addImage(chartImage, 'PNG', 20, yPos, 170, 100);
                            yPos += 110;
                        }
                    } catch (e) {
                        console.error('Chart export failed:', e);
                    }
                }

                // SQLåŸ·è¡Œæ­·å²
                if (executionHistory.length > 0) {
                    // æ–°é é¢é¡¯ç¤ºSQLæ­·å²
                    doc.addPage();
                    yPos = 20;

                    // SQL æ­·å²æ¨™é¡Œï¼ˆä½¿ç”¨ canvas æ¸²æŸ“ä¸­æ–‡ï¼‰
                    const sqlTitleCanvas = document.createElement('canvas');
                    const sqlTitleCtx = sqlTitleCanvas.getContext('2d');
                    sqlTitleCanvas.width = 1000;
                    sqlTitleCanvas.height = 80;
                    sqlTitleCtx.font = 'bold 42px "Microsoft YaHei", Arial, sans-serif';
                    sqlTitleCtx.fillStyle = '#0066cc';
                    sqlTitleCtx.textBaseline = 'top';
                    sqlTitleCtx.fillText('SQL åŸ·è¡Œæ­·å² Execution History', 0, 10);
                    const sqlTitleImage = sqlTitleCanvas.toDataURL('image/png');
                    doc.addImage(sqlTitleImage, 'PNG', 20, yPos, 120, 8);
                    yPos += 15;

                    // æ¸²æŸ“ SQL èªå¥ï¼ˆä½¿ç”¨ canvas ä»¥æ”¯æŒå¯èƒ½çš„ä¸­æ–‡æ³¨é‡‹ï¼‰
                    const historyToShow = executionHistory.slice(-30); // æœ€å¤šé¡¯ç¤º30æ¢
                    historyToShow.forEach((sql, index) => {
                        // æ¯æ¢ SQL ä½¿ç”¨ canvas æ¸²æŸ“
                        const sqlCanvas = document.createElement('canvas');
                        const sqlCtx = sqlCanvas.getContext('2d');

                        // è¨­ç½®å­—é«”
                        sqlCtx.font = '14px "Consolas", "Microsoft YaHei", monospace';

                        // åˆ†å‰²é•· SQL èªå¥
                        const maxWidth = 1200;
                        const words = sql.split(' ');
                        const lines = [];
                        let currentLine = `${index + 1}. `;

                        for (let word of words) {
                            const testLine = currentLine + word + ' ';
                            const metrics = sqlCtx.measureText(testLine);

                            if (metrics.width > maxWidth && currentLine.length > `${index + 1}. `.length) {
                                lines.push(currentLine);
                                currentLine = '    ' + word + ' ';
                            } else {
                                currentLine = testLine;
                            }
                        }
                        if (currentLine.trim()) {
                            lines.push(currentLine);
                        }

                        // è¨ˆç®— canvas å°ºå¯¸
                        const lineHeight = 20;
                        const canvasHeight = lines.length * lineHeight + 10;
                        sqlCanvas.width = 1300;
                        sqlCanvas.height = canvasHeight;

                        // é‡æ–°è¨­ç½®å­—é«”
                        sqlCtx.font = '14px "Consolas", "Microsoft YaHei", monospace';
                        sqlCtx.fillStyle = '#f5f5f5';
                        sqlCtx.fillRect(0, 0, 1300, canvasHeight);

                        // å·¦å´è—è‰²æ¨™è¨˜
                        sqlCtx.fillStyle = '#0066cc';
                        sqlCtx.fillRect(0, 0, 3, canvasHeight);

                        // ç¹ªè£½æ–‡å­—
                        sqlCtx.fillStyle = '#000000';
                        sqlCtx.textBaseline = 'top';
                        lines.forEach((line, i) => {
                            sqlCtx.fillText(line, 10, i * lineHeight + 5);
                        });

                        // æª¢æŸ¥æ˜¯å¦éœ€è¦æ›é 
                        const pdfHeight = (canvasHeight / 1300) * 170;
                        if (yPos + pdfHeight > 270) {
                            doc.addPage();
                            yPos = 20;
                        }

                        // æ·»åŠ åˆ° PDF
                        const sqlImage = sqlCanvas.toDataURL('image/png');
                        doc.addImage(sqlImage, 'PNG', 20, yPos, 170, pdfHeight);
                        yPos += pdfHeight + 3;
                    });
                }

                // æ·»åŠ æ•¸æ“šæ¨¡å‹èªªæ˜é ï¼ˆæ–°é é¢ï¼‰
                // SQLåŸ·è¡Œæ­·å²é é¢ï¼ˆæ·±è‰²ç§‘æŠ€ä¸»é¡Œï¼‰
                if (executionHistory.length > 0) {
                    doc.addPage();
                    yPos = 20;

                    // SQLæ­·å²æ¨™é¡Œ
                    const sqlTitleCanvas = document.createElement('canvas');
                    const sqlTitleCtx = sqlTitleCanvas.getContext('2d');
                    sqlTitleCanvas.width = 1600;
                    sqlTitleCanvas.height = 100;

                    // æ·±è‰²æ¼¸å±¤èƒŒæ™¯
                    const sqlGradient = sqlTitleCtx.createLinearGradient(0, 0, 1600, 0);
                    sqlGradient.addColorStop(0, '#0a0e27');
                    sqlGradient.addColorStop(1, '#1a1f3a');
                    sqlTitleCtx.fillStyle = sqlGradient;
                    sqlTitleCtx.fillRect(0, 0, 1600, 100);

                    sqlTitleCtx.fillStyle = '#00ffcc';
                    sqlTitleCtx.fillRect(0, 0, 8, 100);

                    sqlTitleCtx.font = 'bold 48px "Microsoft YaHei", Arial, sans-serif';
                    sqlTitleCtx.fillStyle = '#00ffcc';
                    sqlTitleCtx.textBaseline = 'middle';
                    sqlTitleCtx.textAlign = 'left';
                    sqlTitleCtx.fillText('ğŸ“œ SQL åŸ·è¡Œæ­·å²', 30, 35);
                    sqlTitleCtx.fillStyle = '#ffffff';
                    sqlTitleCtx.font = 'bold 36px "Segoe UI", Arial, sans-serif';
                    sqlTitleCtx.fillText('SQL EXECUTION HISTORY', 30, 75);

                    const sqlTitleImage = sqlTitleCanvas.toDataURL('image/png');
                    doc.addImage(sqlTitleImage, 'PNG', 10, yPos, 190, 13);
                    yPos += 18;

                    // é¡¯ç¤ºSQLå‘½ä»¤ï¼ˆé™åˆ¶å‰15æ¢ï¼Œæ·±è‰²ä¸»é¡Œï¼‰
                    const displayHistory = executionHistory.slice(0, 15);
                    displayHistory.forEach((cmd, index) => {
                        if (yPos > 260) {
                            doc.addPage();
                            yPos = 20;
                        }

                        const sqlCanvas = document.createElement('canvas');
                        const sqlCtx = sqlCanvas.getContext('2d');
                        sqlCanvas.width = 1600;
                        sqlCanvas.height = 80;

                        // æ·±è‰²èƒŒæ™¯
                        sqlCtx.fillStyle = index % 2 === 0 ? '#1a1f3a' : '#0f1420';
                        sqlCtx.fillRect(0, 0, 1600, 80);

                        // å·¦å´ç·¨è™Ÿæ¢
                        sqlCtx.fillStyle = '#00a8ff';
                        sqlCtx.fillRect(0, 0, 6, 80);

                        // ç·¨è™Ÿ
                        sqlCtx.font = 'bold 24px "Microsoft YaHei", Arial, sans-serif';
                        sqlCtx.fillStyle = '#00a8ff';
                        sqlCtx.textBaseline = 'middle';
                        sqlCtx.textAlign = 'left';
                        sqlCtx.fillText(`${index + 1}.`, 20, 40);

                        // SQLå‘½ä»¤æ–‡å­—
                        sqlCtx.font = '20px "Courier New", monospace';
                        sqlCtx.fillStyle = '#00ffcc';
                        const truncatedCmd = cmd.length > 110 ? cmd.substring(0, 110) + '...' : cmd;
                        sqlCtx.fillText(truncatedCmd, 80, 40);

                        const sqlImage = sqlCanvas.toDataURL('image/png');
                        doc.addImage(sqlImage, 'PNG', 10, yPos, 190, 10);
                        yPos += 11;
                    });

                    if (executionHistory.length > 15) {
                        const moreCanvas = document.createElement('canvas');
                        const moreCtx = moreCanvas.getContext('2d');
                        moreCanvas.width = 1600;
                        moreCanvas.height = 60;
                        moreCtx.fillStyle = '#1a1f3a';
                        moreCtx.fillRect(0, 0, 1600, 60);
                        moreCtx.font = 'bold 22px "Microsoft YaHei", Arial, sans-serif';
                        moreCtx.fillStyle = '#00a8ff';
                        moreCtx.textAlign = 'center';
                        moreCtx.textBaseline = 'middle';
                        moreCtx.fillText(`... ä»¥åŠå…¶ä»– ${executionHistory.length - 15} æ¢å‘½ä»¤ (... and ${executionHistory.length - 15} more commands)`, 800, 30);
                        const moreImage = moreCanvas.toDataURL('image/png');
                        doc.addImage(moreImage, 'PNG', 10, yPos, 190, 8);
                    }
                }

                doc.addPage();
                yPos = 20;

                // æ•¸æ“šæ¨¡å‹é é¢æ¨™é¡Œï¼ˆæ·±è‰²ç§‘æŠ€ä¸»é¡Œï¼‰
                const modelPageTitleCanvas = document.createElement('canvas');
                const modelPageTitleCtx = modelPageTitleCanvas.getContext('2d');
                modelPageTitleCanvas.width = 1600;
                modelPageTitleCanvas.height = 100;

                const modelGradient = modelPageTitleCtx.createLinearGradient(0, 0, 1600, 0);
                modelGradient.addColorStop(0, '#0a0e27');
                modelGradient.addColorStop(1, '#1a1f3a');
                modelPageTitleCtx.fillStyle = modelGradient;
                modelPageTitleCtx.fillRect(0, 0, 1600, 100);

                modelPageTitleCtx.fillStyle = '#00ffcc';
                modelPageTitleCtx.fillRect(0, 0, 8, 100);

                modelPageTitleCtx.font = 'bold 48px "Microsoft YaHei", Arial, sans-serif';
                modelPageTitleCtx.fillStyle = '#00ffcc';
                modelPageTitleCtx.textBaseline = 'middle';
                modelPageTitleCtx.textAlign = 'left';
                modelPageTitleCtx.fillText('ğŸ“š æ”¯æ´çš„æ•¸æ“šæ¨¡å‹', 30, 35);
                modelPageTitleCtx.fillStyle = '#ffffff';
                modelPageTitleCtx.font = 'bold 36px "Segoe UI", Arial, sans-serif';
                modelPageTitleCtx.fillText('SUPPORTED DATA MODELS', 30, 75);

                const modelPageTitleImage = modelPageTitleCanvas.toDataURL('image/png');
                doc.addImage(modelPageTitleImage, 'PNG', 10, yPos, 190, 13);
                yPos += 18;

                // é¡¯ç¤ºç•¶å‰ä½¿ç”¨çš„æ¨¡å‹ï¼ˆé«˜äº®ï¼‰
                const currentModelCanvas = document.createElement('canvas');
                const currentModelCtx = currentModelCanvas.getContext('2d');
                currentModelCanvas.width = 1000;
                currentModelCanvas.height = 100;
                currentModelCtx.fillStyle = '#00cc88';
                currentModelCtx.fillRect(0, 0, 1000, 100);
                currentModelCtx.font = 'bold 32px "Microsoft YaHei", Arial, sans-serif';
                currentModelCtx.fillStyle = '#ffffff';
                currentModelCtx.textBaseline = 'top';
                currentModelCtx.fillText(`âœ“ æœ¬æ¬¡ä½¿ç”¨: ${modelInfo.icon} ${modelInfo.name}`, 20, 15);
                currentModelCtx.font = '20px "Microsoft YaHei", Arial, sans-serif';
                currentModelCtx.fillText(modelInfo.description, 20, 55);
                const currentModelImage = currentModelCanvas.toDataURL('image/png');
                doc.addImage(currentModelImage, 'PNG', 20, yPos, 170, 10);
                yPos += 15;

                // åˆ—å‡ºæ‰€æœ‰15ç¨®æ•¸æ“šæ¨¡å‹ï¼ˆç²¾ç°¡ï¿½ï¿½ï¿½ï¼‰
                const modelListCanvas = document.createElement('canvas');
                const modelListCtx = modelListCanvas.getContext('2d');
                modelListCanvas.width = 1400;
                modelListCanvas.height = 1200;

                let listY = 10;
                modelListCtx.font = '20px "Microsoft YaHei", Arial, sans-serif';
                modelListCtx.textBaseline = 'top';

                Object.values(dataModels).forEach((model, index) => {
                    // å¦‚æœæ˜¯ç•¶å‰æ¨¡å‹ï¼Œç”¨ä¸åŒé¡è‰²
                    if (model.id === currentDataModel) {
                        modelListCtx.fillStyle = '#00cc88';
                    } else {
                        modelListCtx.fillStyle = '#333333';
                    }

                    const text = `${model.icon} ${model.name} - ${model.category}`;
                    modelListCtx.fillText(text, 10, listY);
                    listY += 30;

                    // æ¯5å€‹æ›ä¸€æ¬¡çµ„
                    if ((index + 1) % 5 === 0) {
                        listY += 10;
                    }
                });

                const modelListImage = modelListCanvas.toDataURL('image/png');
                doc.addImage(modelListImage, 'PNG', 20, yPos, 170, 120);

                // å°ˆæ¥­é å°¾è³‡è¨Šï¼ˆä¸­è‹±å°ç…§ï¼‰
                const totalPages = doc.internal.getNumberOfPages();
                for (let i = 1; i <= totalPages; i++) {
                    doc.setPage(i);

                    // æ·±è‰²åˆ†éš”ç·š
                    doc.setDrawColor(0, 168, 255);
                    doc.setLineWidth(0.5);
                    doc.line(20, 285, 190, 285);

                    // é ç¢¼ï¼ˆå·¦å´ï¼‰
                    doc.setFontSize(9);
                    doc.setTextColor(100, 149, 237);
                    doc.text(`ç¬¬ ${i} é  / å…± ${totalPages} é `, 20, 290);
                    doc.setTextColor(150, 150, 150);
                    doc.setFontSize(8);
                    doc.text(`Page ${i} of ${totalPages}`, 20, 293);

                    // ç”Ÿæˆè³‡è¨Šï¼ˆä¸­å¤®ï¼‰
                    doc.setFontSize(7);
                    doc.setTextColor(120, 120, 120);
                    doc.text('è³‡æ–™æ•¸æ“šåº«æ¨¡æ“¬è¨“ç·´éŠæˆ²å¹³å° Database Simulator Training Platform', 105, 290, { align: 'center' });
                    doc.setTextColor(100, 100, 100);
                    doc.text('Â© 2024 Professional Database Training System | å°ˆæ¥­æ•¸æ“šåº«è¨“ç·´ç³»çµ±', 105, 293, { align: 'center' });

                    // æ™‚é–“æˆ³è¨˜ï¼ˆå³å´ï¼‰
                    doc.setFontSize(7);
                    doc.setTextColor(100, 149, 237);
                    doc.text(`åŒ¯å‡º Exported:`, 190, 290, { align: 'right' });
                    doc.setTextColor(150, 150, 150);
                    doc.text(new Date().toLocaleString('zh-TW', { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit' }), 190, 293, { align: 'right' });
                }

                // ç”Ÿæˆæª”æ¡ˆåç¨±
                const fileName = `Database_Report_${currentDatabaseName}_${currentUser}_${new Date().toLocaleString('zh-TW', {year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit'}).replace(/\//g, '-').replace(/:/g, '-').replace(/ /g, '_')}.pdf`;

                // å„²å­˜ PDF
                doc.save(fileName);

                // æª¢æ¸¬è£ç½®é¡å‹ä¸¦é¡¯ç¤ºå°æ‡‰çš„ä¸‹è¼‰ä½ç½®
                const userAgent = navigator.userAgent.toLowerCase();
                let locationInfo = '';

                if (/android/.test(userAgent)) {
                    locationInfo = 'ğŸ“± Android æ‰‹æ©Ÿï¼šè«‹åˆ°ã€Œæª”æ¡ˆç®¡ç†å“¡ã€â†’ã€Œä¸‹è¼‰ã€è³‡æ–™å¤¾æŸ¥çœ‹\næˆ–è·¯å¾‘ï¼š/storage/emulated/0/Download/';
                } else if (/iphone|ipad|ipod/.test(userAgent)) {
                    locationInfo = 'ğŸ“± iPhone/iPadï¼šè«‹åˆ°ã€Œæª”æ¡ˆã€App â†’ ã€Œä¸‹è¼‰é …ç›®ã€è³‡æ–™å¤¾æŸ¥çœ‹';
                } else if (/mac/.test(userAgent)) {
                    locationInfo = 'ğŸ’» Mac é›»è…¦ï¼šè«‹åˆ°ã€Œä¸‹è¼‰é …ç›®ã€è³‡æ–™å¤¾æŸ¥çœ‹\næˆ–è·¯å¾‘ï¼š/Users/[ä½ çš„ä½¿ç”¨è€…åç¨±]/Downloads/';
                } else if (/win/.test(userAgent)) {
                    locationInfo = 'ğŸ’» Windows é›»è…¦ï¼šè«‹åˆ°ã€Œä¸‹è¼‰ã€è³‡æ–™å¤¾æŸ¥çœ‹\næˆ–è·¯å¾‘ï¼šC:\\Users\\[ä½ çš„ä½¿ç”¨è€…åç¨±]\\Downloads\\';
                } else {
                    locationInfo = 'è«‹åˆ°æ‚¨çš„ç€è¦½å™¨é è¨­ã€Œä¸‹è¼‰ã€ã€æ–™å¤¾æŸ¥çœ‹';
                }

                showMessage(`âœ… å°ˆæ¥­PDFå ±å‘ŠåŒ¯å‡ºæˆåŠŸï¼ Professional PDF Report Exported Successfully!\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ“„ æª”æ¡ˆè³‡è¨Š FILE INFORMATION\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\næª”æ¡ˆåç¨± Filename:\n${fileName}\n\næª”æ¡ˆæ ¼å¼ Format: PDF (è·¨å¹³å°æ”¯æ´ Cross-platform)\né æ•¸ Pages: ${doc.internal.getNumberOfPages()} é \nåŒ…å«å…§å®¹ Contents:\n  âœ“ å°ˆæ¥­æ·±è‰²ä¸»é¡Œå°é¢ Professional Dark Theme Cover\n  âœ“ è©³ç´°çµ±è¨ˆæ‘˜è¦ Detailed Statistics Summary\n  âœ“ è³‡æ–™è¡¨é è¦½ï¼ˆä¸­è‹±å°ç…§ï¼‰Table Preview (Bilingual)\n  âœ“ SQLåŸ·è¡Œæ­·å² SQL Execution History (${executionHistory.length} æ¢å‘½ä»¤)\n  âœ“ æ•¸æ“šæ¨¡å‹èªªæ˜ Data Models Documentation\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ“‚ ä¸‹è¼‰ä½ç½® DOWNLOAD LOCATION\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n${locationInfo}\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ’¡ ä½¿ç”¨æç¤º TIPS\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\nâœ“ PDF å¯åœ¨æ‰€æœ‰è£ç½®ã€æŸ¥çœ‹ï¼ˆé›»è…¦ã€æ‰‹æ©Ÿã€å¹³æ¿ï¼‰\n  PDF can be viewed on all devices (PC, mobile, tablet)\n\nâœ“ å¯ä½¿ç”¨ Adobe Readerã€ç€è¦½å™¨ç­‰é–‹å•Ÿ\n  Open with Adobe Reader, browser, etc.\n\nâœ“ é©åˆåˆ—å°ã€åˆ†äº«ã€é•·æœŸä¿å­˜\n  Perfect for printing, sharing, long-term storage\n\nâœ“ æ”¯æ´æœå°‹å’Œè¤‡è£½æ–‡å­—å…§å®¹\n  Supports text search and copy`, 'success');

            } catch (error) {
                console.error('Export error:', error);
                showMessage(`âŒ PDFåŒ¯å‡ºå¤±æ•— Export Failed\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\néŒ¯èª¤è©³æƒ… Error Details:\n${error.message}\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ”§ å»ºè­°è§£æ±ºæ–¹å¼ Suggested Solutions:\n\n1. è«‹ç¨å¾Œé‡è©¦ Please try again later\n2. ç¢ºèªç€è¦½å™¨å…è¨±ä¸‹è¼‰ Check browser download permissions\n3. å˜—è©¦æ¸…é™¤ç€è¦½å™¨å¿«å– Try clearing browser cache\n4. å¦‚å•é¡ŒæŒçºŒï¼Œè«‹è¯ç¹«æŠ€è¡“æ”¯æ´ Contact support if issue persists\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ï¿½ï¿½ï¿½â”â”â”â”â”â”â”â”â”â”`, 'error');
            }
        }

        // ç”ŸæˆåŒ¯å‡ºçš„ HTML
        function generateExportHTML() {
            const timestamp = new Date().toLocaleString('zh-TW');
            let tablesHTML = '';

            // ç”Ÿæˆæ¯å€‹è³‡æ–™è¡¨çš„ HTML
            for (const tableName in currentDatabase) {
                const table = currentDatabase[tableName];
                tablesHTML += `
                    <div style="margin-bottom: 40px; page-break-inside: avoid;">
                        <h3 style="color: #0066cc; border-bottom: 2px solid #0066cc; padding-bottom: 10px; margin-bottom: 20px;">
                            <i class="fas fa-table"></i> è³‡æ–™è¡¨ï¼š${tableName}
                        </h3>
                        <div style="overflow-x: auto;">
                            <table style="width: 100%; border-collapse: collapse; margin-bottom: 20px; background: white;">
                                <thead>
                                    <tr style="background: #0066cc; color: white;">
                                        ${table.columns.map(col => `<th style="padding: 12px; border: 1px solid #ddd; text-align: left;">${col}</th>`).join('')}
                                    </tr>
                                </thead>
                                <tbody>
                                    ${table.data.map(row => `
                                        <tr style="border-bottom: 1px solid #ddd;">
                                            ${table.columns.map((col, colIndex) => `<td style="padding: 10px; border: 1px solid #ddd;">${row[colIndex] !== undefined && row[colIndex] !== null ? row[colIndex] : ''}</td>`).join('')}
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                            <div style="font-size: 14px; color: #666;">
                                <i class="fas fa-info-circle"></i> æ¬„ä½æ•¸ï¼š${table.columns.length} | è³‡æ–™ç­†æ•¸ï¼š${table.data.length}
                            </div>
                        </div>
                    </div>
                `;
            }

            // ç”Ÿæˆåœ–è¡¨çš„ base64 åœ–ç‰‡ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
            let chartImageHTML = '';
            if (currentChart) {
                try {
                    const canvas = document.getElementById('dataChart');
                    const chartImage = canvas.toDataURL('image/png');
                    chartImageHTML = `
                        <div style="margin-bottom: 40px; page-break-inside: avoid;">
                            <h3 style="color: #0066cc; border-bottom: 2px solid #0066cc; padding-bottom: 10px; margin-bottom: 20px;">
                                <i class="fas fa-chart-bar"></i> è¦–è¦ºåœ–è¡¨
                            </h3>
                            <img src="${chartImage}" style="max-width: 100%; height: auto; border: 1px solid #ddd; border-radius: 8px;" alt="è³‡æ–™è¦–è¦ºåœ–è¡¨">
                        </div>
                    `;
                } catch (e) {
                    console.error('åœ–è¡¨åŒ¯å‡ºå¤±æ•—:', e);
                }
            }

            // ç”ŸæˆåŸ·è¡Œæ­·å²
            let historyHTML = '';
            if (executionHistory.length > 0) {
                historyHTML = `
                    <div style="margin-bottom: 40px; page-break-inside: avoid;">
                        <h3 style="color: #0066cc; border-bottom: 2px solid #0066cc; padding-bottom: 10px; margin-bottom: 20px;">
                            <i class="fas fa-history"></i> SQL åŸ·è¡Œæ­·å²
                        </h3>
                        <div style="background: #f5f5f5; padding: 15px; border-radius: 8px; font-family: monospace; font-size: 14px;">
                            ${executionHistory.slice(-20).map((sql, index) => `
                                <div style="margin-bottom: 10px; padding: 10px; background: white; border-left: 3px solid #0066cc;">
                                    <strong>${index + 1}.</strong> ${sql}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }

            return `
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${currentDatabaseName} - ${currentUser} çš„è³‡æ–™åº«å ±å‘Š</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            background: #f8f9fa;
            color: #333;
        }
        .header {
            background: linear-gradient(135deg, #0066cc, #00a8ff);
            color: white;
            padding: 40px;
            border-radius: 16px;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .header h1 {
            margin: 0 0 10px 0;
            font-size: 2.5em;
        }
        .header p {
            margin: 5px 0;
            opacity: 0.9;
        }
        .content {
            background: white;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        @media print {
            body { background: white; }
            .header, .content { box-shadow: none; }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1><i class="fas fa-database"></i> è³‡æ–™åº«è¨“ç·´å ±å‘Š</h1>
        <p><i class="fas fa-server"></i> <strong>è³‡æ–™åº«åç¨±ï¼š</strong>${currentDatabaseName}</p>
        <p><i class="fas fa-user"></i> <strong>ä½¿ç”¨è€…ï¼š</strong>${currentUser}</p>
        <p><i class="fas fa-calendar"></i> <strong>åŒ¯å‡ºæ™‚é–“ï¼š</strong>${timestamp}</p>
        <p><i class="fas fa-gamepad"></i> <strong>ç·´ç¿’æ¨¡å¼ï¼š</strong>${currentMode === 'free' ? 'è‡ªç”±ç·´ç¿’æ¨¡å¼' : 'è¨“ç·´é¡Œç›®æ¨¡å¼'}</p>
    </div>

    <div class="content">
        <h2 style="color: #0066cc; margin-top: 0;"><i class="fas fa-table"></i> è³‡æ–™è¡¨é è¦½</h2>
        ${tablesHTML}

        ${chartImageHTML}

        ${historyHTML}

        <div style="margin-top: 40px; padding-top: 20px; border-top: 2px solid #eee; text-align: center; color: #999; font-size: 14px;">
            <p>æœ¬å ±å‘Šç”±æ•¸æ“šåº«æ¨¡æ“¬è¨“ç·´å¹³å°è‡ªå‹•ç”Ÿæˆ</p>
            <p>Â© ${new Date().getFullYear()} Database Simulator</p>
        </div>
    </div>
</body>
</html>
            `;
        }

        // ç”Ÿæˆåœ–è¡¨åŠŸèƒ½ï¼ˆã€å‹•èª¿ç”¨ï¼‰
        function generateChart() {
            if (!lastQueryResult || !lastQueryResult.columns || lastQueryResult.data.length === 0) {
                // éœé»˜è¿”å›ï¼Œä¸é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ï¼ˆå› ç‚ºé€™æ˜¯è‡ªå‹•èª¿ç”¨ï¼‰
                return;
            }

            const chartType = document.getElementById('chartType').value;
            const canvas = document.getElementById('dataChart');
            const ctx = canvas.getContext('2d');

            // éŠ·æ¯€èˆŠåœ–è¡¨
            if (currentChart) {
                currentChart.destroy();
            }

            // æº–å‚™åœ–è¡¨è³‡æ–™
            const result = lastQueryResult;
            const labels = result.data.map((row, index) => {
                // ä½¿ç”¨ç¬¬ä¸€å€‹æ¬„ä½ä½œç‚ºæ¨™ç±¤ï¼Œæˆ–ä½¿ç”¨ç´¢å¼•
                return row[result.columns[0]] || `é …ç›® ${index + 1}`;
            });

            // ç²å–æ•¸å€¼æ¬„ä½
            const numericColumns = result.columns.filter(col => {
                return result.data.some(row => typeof row[col] === 'number');
            });

            if (numericColumns.length === 0) {
                // éœé»˜è¿”å›ï¼ŒæŸ¥è©¢çµæœæ²’æœ‰æ•¸å€¼æ¬„ä½æ™‚ä¸ç”Ÿæˆåœ–è¡¨
                console.log('æŸ¥è©¢çµæœä¸­æ²’æœ‰æ•¸å€¼æ¬„ä½ï¼Œè·³éåœ–è¡¨ç”Ÿæˆ');
                return;
            }

            // ç”Ÿæˆæ•¸æ“šé›†
            const datasets = numericColumns.map((col, index) => {
                const colors = [
                    'rgba(0, 102, 204, 0.8)',
                    'rgba(0, 168, 255, 0.8)',
                    'rgba(0, 255, 204, 0.8)',
                    'rgba(255, 204, 0, 0.8)',
                    'rgba(255, 102, 102, 0.8)',
                    'rgba(153, 102, 255, 0.8)'
                ];

                return {
                    label: col,
                    data: result.data.map(row => row[col] || 0),
                    backgroundColor: chartType === 'pie' || chartType === 'doughnut'
                        ? colors
                        : colors[index % colors.length],
                    borderColor: colors[index % colors.length].replace('0.8', '1'),
                    borderWidth: 2
                };
            });

            // åœ“é¤…åœ–å’Œç”œç”œåœˆåœ–åªä½¿ç”¨ç¬¬ä¸€å€‹æ•¸å€¼æ¬„ä½
            const chartData = (chartType === 'pie' || chartType === 'doughnut')
                ? {
                    labels: labels,
                    datasets: [{
                        data: datasets[0].data,
                        backgroundColor: datasets[0].backgroundColor,
                        borderColor: datasets[0].borderColor,
                        borderWidth: 2
                    }]
                }
                : {
                    labels: labels,
                    datasets: datasets
                };

            // å‰µå»ºåœ–è¡¨
            currentChart = new Chart(ctx, {
                type: chartType,
                data: chartData,
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top',
                            labels: {
                                color: '#ffffff',
                                font: {
                                    size: 14
                                }
                            }
                        },
                        title: {
                            display: true,
                            text: 'è³‡æ–™è¦–è¦ºåŒ–åœ–è¡¨',
                            color: '#ffffff',
                            font: {
                                size: 18,
                                weight: 'bold'
                            }
                        }
                    },
                    scales: (chartType === 'pie' || chartType === 'doughnut') ? {} : {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#a0b3d9'
                            },
                            grid: {
                                color: 'rgba(0, 168, 255, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#a0b3d9'
                            },
                            grid: {
                                color: 'rgba(0, 168, 255, 0.1)'
                            }
                        }
                    }
                }
            });

            // é¡¯ç¤ºåœ–è¡¨ï¼Œéš±è—ç©ºç‹€æ…‹
            document.getElementById('chartEmptyState').style.display = 'none';
            canvas.style.display = 'block';

            // è‡ªå‹•ç”Ÿæˆæ™‚ä¸é¡¯ç¤ºæˆåŠŸè¨Šæ¯ï¼Œé¿å…å¹²æ“¾ç”¨æˆ¶
        }

        // é¡¯ç¤ºè¨Šæ¯
        function showMessage(text, type) {
            output.innerHTML = createMessage(text, type);
        }

        // æ‰‹æ©Ÿç‰ˆï¼šæ‡¸æµ®é¡Œç›®æŒ‰éˆ•åŠŸèƒ½
        function toggleQuickQuestionPanel() {
            const panel = document.getElementById('quickQuestionPanel');
            if (panel) {
                panel.classList.toggle('active');
            }
        }

        function updateFloatingQuestionButton() {
            const floatingBtn = document.getElementById('floatingQuestionBtn');
            if (floatingBtn) {
                if (currentMode === 'exercise' && exercises.length > 0) {
                    floatingBtn.classList.add('active');
                } else {
                    floatingBtn.classList.remove('active');
                }
            }
        }

        function updateQuickQuestionPanel() {
            const exercise = exercises[currentExerciseIndex];
            if (!exercise) return;

            const panelContent = document.getElementById('quickQuestionPanelContent');
            if (panelContent) {
                panelContent.innerHTML = `
                    <h3 style="color: var(--accent); margin-bottom: 15px;">
                        <i class="fas fa-tasks"></i> ${exercise.title}
                    </h3>
                    <div style="margin-bottom: 15px;">
                        <span style="background: rgba(0, 168, 255, 0.2); padding: 6px 12px; border-radius: 6px; font-size: 0.9rem; margin-right: 10px;">
                            ğŸ“Š ${exercise.category}
                        </span>
                        <span style="background: rgba(255, 204, 0, 0.2); padding: 6px 12px; border-radius: 6px; font-size: 0.9rem;">
                            ${'â­'.repeat(Math.floor(exercise.difficultyStars))} ${exercise.difficulty}
                        </span>
                    </div>
                    <div style="background: rgba(0, 168, 255, 0.08); padding: 15px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid var(--accent);">
                        ${exercise.description}
                    </div>
                    <div style="background: rgba(255, 204, 0, 0.08); padding: 12px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid var(--warning);">
                        ${exercise.hint}
                    </div>
                    <div style="text-align: center; color: var(--text-muted); font-size: 0.9rem;">
                        é¡Œç›® ${currentExerciseIndex + 1} / ${exercises.length}
                    </div>
                `;
            }
        }

        // æ¸¬é©—ç›¸é—œå‡½æ•¸
        function resetQuiz() {
            currentQuizIndex = 0;
            quizAnswers = new Array(100).fill(null);
            quizStartTime = null;
        }

        function showQuizQuestion() {
            const question = quizQuestions[currentQuizIndex];

            // æ›´æ–°é¡Œç›®ç·¨è™Ÿ
            document.getElementById('currentQuestionNum').textContent = currentQuizIndex + 1;

            // æ›´æ–°é€²åº¦æ¢
            const progress = ((currentQuizIndex + 1) / 100) * 100;
            document.getElementById('quizProgress').style.width = progress + '%';

            // æ›´æ–°å·²ç­”é¡Œæ•¸
            const answered = quizAnswers.filter(a => a !== null).length;
            document.getElementById('answeredCount').textContent = answered;

            // é¡¯ç¤ºé¡Œç›®
            document.getElementById('questionText').textContent = `${currentQuizIndex + 1}. ${question.q}`;

            // é¡¯ç¤ºé¸é …
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';

            question.o.forEach((option, index) => {
                const isSelected = quizAnswers[currentQuizIndex] === index;
                const optionDiv = document.createElement('div');
                optionDiv.style.cssText = `
                    padding: 15px 20px;
                    margin-bottom: 12px;
                    background: ${isSelected ? 'linear-gradient(135deg, rgba(0, 168, 255, 0.2), rgba(0, 102, 204, 0.2))' : 'rgba(0, 168, 255, 0.05)'};
                    border: 2px solid ${isSelected ? 'var(--secondary)' : 'rgba(0, 168, 255, 0.2)'};
                    border-radius: 10px;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    font-size: 1rem;
                    color: var(--text-primary);
                `;
                optionDiv.textContent = option;
                optionDiv.addEventListener('click', () => selectOption(index));
                optionDiv.addEventListener('mouseenter', () => {
                    if (!isSelected) {
                        optionDiv.style.background = 'rgba(0, 168, 255, 0.1)';
                        optionDiv.style.transform = 'translateX(5px)';
                    }
                });
                optionDiv.addEventListener('mouseleave', () => {
                    if (!isSelected) {
                        optionDiv.style.background = 'rgba(0, 168, 255, 0.05)';
                        optionDiv.style.transform = 'translateX(0)';
                    }
                });
                optionsContainer.appendChild(optionDiv);
            });

            // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
            document.getElementById('prevQuestionBtn').disabled = currentQuizIndex === 0;
            document.getElementById('nextQuestionBtn').style.display = currentQuizIndex < 99 ? 'flex' : 'none';
            document.getElementById('submitQuizBtn').style.display = currentQuizIndex === 99 ? 'flex' : 'none';
        }

        function selectOption(optionIndex) {
            quizAnswers[currentQuizIndex] = optionIndex;
            showQuizQuestion();
        }

        function submitQuiz() {
            // æª¢æŸ¥æ˜¯å¦å…¨éƒ¨ä½œç­”
            const unanswered = quizAnswers.filter(a => a === null).length;
            if (unanswered > 0) {
                const confirmSubmit = confirm(`é‚„æœ‰ ${unanswered} é¡Œæœªä½œç­”ï¼Œç¢ºå®šè¦æäº¤å—ï¼Ÿ`);
                if (!confirmSubmit) return;
            }

            // è¨ˆç®—æˆç¸¾
            let correct = 0;
            const wrongQuestions = [];

            quizQuestions.forEach((q, index) => {
                if (quizAnswers[index] === q.a) {
                    correct++;
                } else {
                    wrongQuestions.push({
                        num: index + 1,
                        question: q.q,
                        yourAnswer: quizAnswers[index] !== null ? q.o[quizAnswers[index]] : 'æœªä½œç­”',
                        correctAnswer: q.o[q.a]
                    });
                }
            });

            const wrong = 100 - correct;
            const accuracy = (correct / 100 * 100).toFixed(1);
            const score = correct;

            // é¡¯ç¤ºçµæœ
            document.getElementById('quizContent').style.display = 'none';
            document.getElementById('quizResults').style.display = 'block';

            document.getElementById('quizScoreDisplay').textContent = `${score} åˆ†`;
            document.getElementById('correctCount').textContent = correct;
            document.getElementById('wrongCount').textContent = wrong;
            document.getElementById('accuracyRate').textContent = accuracy + '%';

            // æ ¹æ“šæˆç¸¾é¡¯ç¤ºä¸åŒè¨Šæ¯
            let message = '';
            if (score >= 90) {
                message = 'ğŸ‰ å„ªç§€ï¼æ‚¨å·²ç†Ÿç·´æŒæ¡è³‡æ–™åº«çŸ¥è­˜ï¼';
            } else if (score >= 80) {
                message = 'ğŸ‘ å¾ˆå¥½ï¼ç¹¼çºŒåŠ æ²¹ï¼Œå‘æ»¿åˆ†é€²ç™¼ï¼';
            } else if (score >= 70) {
                message = 'ğŸ’ª ä¸éŒ¯ï¼å¤šåŠ ç·´ç¿’å¯ä»¥æ›´ä¸Šä¸€å±¤æ¨“ï¼';
            } else if (score >= 60) {
                message = 'ğŸ“š åŠæ ¼ï¼å»ºè­°è¤‡ç¿’éŒ¯é¡Œéå›ºçŸ¥è­˜ï¼';
            } else {
                message = 'ğŸ”„ éœ€è¦åŠ å¼·ï¼å»ºè­°é‡æ–°å­¸ç¿’ä¸¦å¤šåšç·´ç¿’ï¼';
            }
            document.getElementById('quizResultMessage').textContent = message;

            // å­˜å„²éŒ¯é¡Œä¾›æŸ¥çœ‹
            window.quizWrongQuestions = wrongQuestions;
        }

        function showWrongQuestions() {
            if (!window.quizWrongQuestions || window.quizWrongQuestions.length === 0) {
                alert('æ­å–œï¼æ²’æœ‰éŒ¯é¡Œï¼');
                return;
            }

            let html = '<div style="max-height: 500px; overflow-y: auto;">';
            html += '<h3 style="color: var(--error); margin-bottom: 20px;"><i class="fas fa-list"></i> éŒ¯é¡Œè¤‡ç¿’</h3>';

            window.quizWrongQuestions.forEach((item, index) => {
                html += `
                    <div style="padding: 20px; margin-bottom: 15px; background: rgba(255, 51, 102, 0.05); border-left: 4px solid var(--error); border-radius: 8px;">
                        <div style="font-weight: 600; color: var(--text-primary); margin-bottom: 10px;">
                            ç¬¬ ${item.num} é¡Œï¼š${item.question}
                        </div>
                        <div style="margin-bottom: 8px; color: var(--error);">
                            âŒ ä½ çš„ç­”æ¡ˆï¼š${item.yourAnswer}
                        </div>
                        <div style="color: var(--success);">
                            âœ… æ­£ç¢ºç­”æ¡ˆï¼š${item.correctAnswer}
                        </div>
                    </div>
                `;
            });

            html += '</div>';

            // å‰µå»ºè‡ªå®šç¾©æ¨¡æ…‹æ¡†é¡¯ç¤ºéŒ¯é¡Œ
            const modal = document.createElement('div');
            modal.className = 'modal active';
            modal.innerHTML = `
                <div class="modal-content" style="max-width: 800px;">
                    <div class="modal-header">
                        <h2 class="gradient-text">éŒ¯é¡Œè¤‡ç¿’</h2>
                        <button class="close-modal" onclick="this.closest('.modal').remove()">Ã—</button>
                    </div>
                    ${html}
                </div>
            `;
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.remove();
                }
            });
            document.body.appendChild(modal);
        }
    </script>

    <!-- æ‰‹æ©Ÿç‰ˆï¼šæ‡¸æµ®é¡Œç›®æŒ‰éˆ• -->
    <div id="floatingQuestionBtn" class="floating-question-btn" onclick="toggleQuickQuestionPanel()">
        <i class="fas fa-question-circle"></i>
    </div>

    <!-- æ‰‹æ©Ÿç‰ˆï¼šå¿«é€Ÿé¡Œç›®é¢æ¿ -->
    <div id="quickQuestionPanel" class="quick-question-panel">
        <div class="quick-question-content">
            <div class="quick-question-header">
                <h2 class="gradient-text" style="margin: 0;">ğŸ“‹ æŸ¥çœ‹é¡Œç›®</h2>
                <button class="close-quick-panel" onclick="toggleQuickQuestionPanel()">Ã—</button>
            </div>
            <div id="quickQuestionPanelContent">
                <!-- é¡Œç›®å…§å®¹å°‡ç”± JavaScript å‹•æ…‹å¡«å…… -->
            </div>
        </div>
    </div>
</body>
</html>


